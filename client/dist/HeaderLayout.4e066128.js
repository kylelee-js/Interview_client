import{_ as c,r as g,c as t,g as b,a as D,S as O,f as G,b as P,j as C,u as m,F as U,T as q,U as H,V,W as A,X as W}from"./index--4e0d3e93.js";import{g as y,c as M,s as T,P as J,e as f,h as _,_ as $,i as I,j as z,y as X,v as N,w as L,x as R,I as E,z as K,T as x}from"./jsx-runtime_commonjs-proxy.67aae943.js";import{u as Q}from"./useDidMountEffect.54a6e836.js";import{M as Y,a as B}from"./MenuItem.902eeed1.js";import{o as Z}from"./boardUpdate.37baa495.js";function S(o){return y("MuiAppBar",o)}M("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const w=["className","color","enableColorOnDark","position"],oo=o=>{const{color:a,position:r,classes:e}=o,l={root:["root",`color${f(a)}`,`position${f(r)}`]};return I(l,S,e)},v=(o,a)=>`${o==null?void 0:o.replace(")","")}, ${a})`,ao=T(J,{name:"MuiAppBar",slot:"Root",overridesResolver:(o,a)=>{const{ownerState:r}=o;return[a.root,a[`position${f(r.position)}`],a[`color${f(r.color)}`]]}})(({theme:o,ownerState:a})=>{const r=o.palette.mode==="light"?o.palette.grey[100]:o.palette.grey[900];return c({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},a.position==="fixed"&&{position:"fixed",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},a.position==="absolute"&&{position:"absolute",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},a.position==="sticky"&&{position:"sticky",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},a.position==="static"&&{position:"static"},a.position==="relative"&&{position:"relative"},!o.vars&&c({},a.color==="default"&&{backgroundColor:r,color:o.palette.getContrastText(r)},a.color&&a.color!=="default"&&a.color!=="inherit"&&a.color!=="transparent"&&{backgroundColor:o.palette[a.color].main,color:o.palette[a.color].contrastText},a.color==="inherit"&&{color:"inherit"},o.palette.mode==="dark"&&!a.enableColorOnDark&&{backgroundColor:null,color:null},a.color==="transparent"&&c({backgroundColor:"transparent",color:"inherit"},o.palette.mode==="dark"&&{backgroundImage:"none"})),o.vars&&c({},a.color==="default"&&{"--AppBar-background":a.enableColorOnDark?o.vars.palette.AppBar.defaultBg:v(o.vars.palette.AppBar.darkBg,o.vars.palette.AppBar.defaultBg),"--AppBar-color":a.enableColorOnDark?o.vars.palette.text.primary:v(o.vars.palette.AppBar.darkColor,o.vars.palette.text.primary)},a.color&&!a.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":a.enableColorOnDark?o.vars.palette[a.color].main:v(o.vars.palette.AppBar.darkBg,o.vars.palette[a.color].main),"--AppBar-color":a.enableColorOnDark?o.vars.palette[a.color].contrastText:v(o.vars.palette.AppBar.darkColor,o.vars.palette[a.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:a.color==="inherit"?"inherit":"var(--AppBar-color)"},a.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),ro=g.exports.forwardRef(function(a,r){const e=_({props:a,name:"MuiAppBar"}),{className:l,color:n="primary",enableColorOnDark:s=!1,position:i="fixed"}=e,p=$(e,w),d=c({},e,{color:n,position:i,enableColorOnDark:s}),u=oo(d);return t(ao,c({square:!0,component:"header",ownerState:d,elevation:4,className:z(u.root,l,i==="fixed"&&"mui-fixed"),ref:r},p))});var to=ro;function eo(o){return y("MuiToolbar",o)}M("MuiToolbar",["root","gutters","regular","dense"]);const so=["className","component","disableGutters","variant"],no=o=>{const{classes:a,disableGutters:r,variant:e}=o;return I({root:["root",!r&&"gutters",e]},eo,a)},lo=T("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(o,a)=>{const{ownerState:r}=o;return[a.root,!r.disableGutters&&a.gutters,a[r.variant]]}})(({theme:o,ownerState:a})=>c({position:"relative",display:"flex",alignItems:"center"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}},a.variant==="dense"&&{minHeight:48}),({theme:o,ownerState:a})=>a.variant==="regular"&&o.mixins.toolbar),io=g.exports.forwardRef(function(a,r){const e=_({props:a,name:"MuiToolbar"}),{className:l,component:n="div",disableGutters:s=!1,variant:i="regular"}=e,p=$(e,so),d=c({},e,{component:n,disableGutters:s,variant:i}),u=no(d);return t(lo,c({as:n,className:z(u.root,l),ref:r,ownerState:d},p))});var co=io;const uo=async()=>{try{const o=await b.post("/user/logout/");return delete b.defaults.headers.common.Authorization,o}catch(o){console.log(o),delete b.defaults.headers.common.Authorization}};function po(){const o=D();return t(X,{style:{backgroundColor:"#54aceb",color:"whitesmoke"},onClick:r=>{o(O()),console.log("logout"),uo()},children:"\uB85C\uADF8\uC544\uC6C3"})}var h={},Co=L.exports;Object.defineProperty(h,"__esModule",{value:!0});var j=h.default=void 0,go=Co(N),vo=R,fo=(0,go.default)((0,vo.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");j=h.default=fo;function bo(){const{pathname:o}=G(),a=P(),[r,e]=g.exports.useState(null),[l,n]=g.exports.useState(""),s=Boolean(r),i=u=>{e(u.currentTarget)},p=u=>{console.log("path :",l,u),e(null),n(u)},d=()=>{e(null)};return Q(()=>{r==null&&a(`/${l}`)},[l,r]),C("div",{children:[t(E,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},id:"basic-button","aria-controls":s?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,onClick:i,children:t(j,{})}),C(Y,{id:"basic-menu",anchorEl:r,open:s,onClose:d,MenuListProps:{"aria-labelledby":"basic-button"},children:[o!=="/"&&t(B,{onClick:()=>p(""),children:"\uB0B4 \uC9C0\uC6D0\uC790 \uBCF4\uB7EC\uAC00\uAE30"}),o!=="/pool"&&t(B,{onClick:()=>p("pool"),children:"\uC9C0\uC6D0\uC790 \uD480 \uBCF4\uB7EC\uAC00\uAE30"}),o!=="/upload"&&t(B,{onClick:()=>p("upload"),children:"\uC9C0\uC6D0\uC790 \uC2E0\uADDC \uB4F1\uB85D\uD558\uAE30"})]})]})}var k={},xo=L.exports;Object.defineProperty(k,"__esModule",{value:!0});var F=k.default=void 0,Bo=xo(N),ho=R,ko=(0,Bo.default)((0,ho.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");F=k.default=ko;function To(){const o=D(),a=m(n=>{var s;return(s=n.auth.user)==null?void 0:s.isChanged}),r=m(n=>{var s;return(s=n.auth.user)==null?void 0:s.onLoginChange});return g.exports.useEffect(()=>{if(!r){const n=async()=>{const i=await Z();console.log(i),o(H(i))};n();const s=setInterval(n,1e4);return()=>{clearInterval(s)}}},[]),C(U,{children:[C("header",{style:{marginBottom:"30px"},children:[" ",t(K,{sx:{flexGrow:1},children:t(to,{position:"static",children:C(co,{children:[t(bo,{}),t(x,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Jobreeting"}),a&&!r&&C(x,{sx:{flexGrow:1},children:["\uB098\uC758 \uC9C0\uC6D0\uC790 \uC0C1\uD0DC\uC5D0 \uBCC0\uACBD\uC774 \uC788\uC2B5\uB2C8\uB2E4. \uC774",t("button",{onClick:()=>{console.log("clicked"),o(V()),o(A())},children:"\uBC84\uD2BC"}),"\uC744 \uB20C\uB7EC\uC8FC\uC138\uC694."]}),r&&C(x,{style:{position:"relative"},sx:{flexGrow:1},children:["\uB098\uC758 \uC9C0\uC6D0\uC790 \uC0C1\uD0DC\uC5D0 \uBCC0\uACBD\uC774 \uC788\uC5C8\uC2B5\uB2C8\uB2E4."," ",t(E,{onClick:()=>{console.log("login clicked"),o(A()),o(W())},"aria-label":"delete",children:t(F,{style:{position:"absolute",color:"whitesmoke",top:"-5px",left:"5px"}})})]}),t(po,{})]})})})]}),t("main",{children:t(q,{})})]})}export{To as default};
