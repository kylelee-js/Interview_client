import{u as y,a as D,b as d,r as B,j as o,F,c as S,d as u,I as p,P as A,E as b,S as v,B as x,n as L,o as P,e as j,f as I}from"./index--b7ec3016.js";import{u as k}from"./index.esm.e7e76d5a.js";import{F as q,f as W}from"./index.es.b5f9ed21.js";import{u as M}from"./useDidMountEffect.ac82a54c.js";import"./index.34b83dad.js";const N=u(q,{icon:W});function O(){var c,l;const{register:e,handleSubmit:r,setError:m,formState:{errors:t}}=k(),g=y(a=>{var s;return(s=a.auth.user)==null?void 0:s.isLogin}),n=D(),i=d(),[C,f]=B.exports.useState(!1),h=()=>{f(!C)};M(()=>{n(L()),i("/",{replace:!0})},[g]);const w=async a=>{const s=await P(a);console.log(s),s?n(j(s)):m("password",{type:"value",message:"\uC798\uBABB\uB41C \uC544\uC774\uB514 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uC785\uB2C8\uB2E4."})},E=()=>{i("/signup",{replace:!0})};return o(F,{children:[o(S,{onSubmit:r(w),children:[u(p,{type:"text",placeholder:"\uC774\uBA54\uC77C \uC8FC\uC18C\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.",...e("email",{required:"\uD544\uC218 \uC785\uB825\uCE78\uC785\uB2C8\uB2E4."})}),t.password&&o("div",{style:{color:"red"},children:[" ",(c=t.password)==null?void 0:c.message]}),o(A,{children:[u(p,{type:C?"text":"password",placeholder:"\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.",...e("password",{required:"\uD544\uC218 \uC785\uB825\uCE78\uC785\uB2C8\uB2E4."})}),u(b,{onClick:h,children:N})," "]}),t.password&&o("div",{style:{color:"red"},children:[" ",(l=t.password)==null?void 0:l.message]}),u(v,{type:"submit",readOnly:!0,value:"\uB85C\uADF8\uC778"})]}),u(x,{onClick:E,children:"\uD68C\uC6D0\uAC00\uC785 \uD560\uB798\uC694"})]})}function K(){const e=I(),r=d();return B.exports.useEffect(()=>{console.log(e.pathname),e.pathname!=="/login"&&r("/login")},[]),u(O,{})}export{K as default};
