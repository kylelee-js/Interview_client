import{u as E,a as F,b as d,r as B,j as o,c as u,o as D,d as S,e as A,f as b}from"./index--4e0d3e93.js";import{u as v,F as x,a as L,I as p,P,E as j,S as I,B as N}from"./formStyle.32e39d63.js";import{F as k,f as q}from"./index.es.439afa97.js";import{u as W}from"./useDidMountEffect.54a6e836.js";import{o as M}from"./boardUpdate.37baa495.js";import"./index.34b83dad.js";const O=u(k,{icon:q});function U(){var C,l;const{register:e,handleSubmit:r,setError:m,formState:{errors:t}}=v(),g=E(a=>{var s;return(s=a.auth.user)==null?void 0:s.isLogin}),n=F(),i=d(),[c,f]=B.exports.useState(!1),h=()=>{f(!c)};W(()=>{(async()=>{const s=await M();console.log(s),n(A(s))})(),i("/",{replace:!0})},[g]);const w=async a=>{const s=await D(a);console.log(s),s?n(S(s)):m("password",{type:"value",message:"\uC798\uBABB\uB41C \uC544\uC774\uB514 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uC785\uB2C8\uB2E4."})},y=()=>{i("/signup",{replace:!0})};return o(x,{children:[o(L,{onSubmit:r(w),children:[u(p,{type:"text",placeholder:"\uC774\uBA54\uC77C \uC8FC\uC18C\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.",...e("email",{required:"\uD544\uC218 \uC785\uB825\uCE78\uC785\uB2C8\uB2E4."})}),t.password&&o("div",{style:{color:"red"},children:[" ",(C=t.password)==null?void 0:C.message]}),o(P,{children:[u(p,{type:c?"text":"password",placeholder:"\uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.",...e("password",{required:"\uD544\uC218 \uC785\uB825\uCE78\uC785\uB2C8\uB2E4."})}),u(j,{onClick:h,children:O})," "]}),t.password&&o("div",{style:{color:"red"},children:[" ",(l=t.password)==null?void 0:l.message]}),u(I,{type:"submit",readOnly:!0,value:"\uB85C\uADF8\uC778"})]}),u(N,{onClick:y,children:"\uD68C\uC6D0\uAC00\uC785 \uD560\uB798\uC694"})]})}function Q(){const e=b(),r=d();return B.exports.useEffect(()=>{console.log(e.pathname),e.pathname!=="/login"&&r("/login")},[]),u(U,{})}export{Q as default};
