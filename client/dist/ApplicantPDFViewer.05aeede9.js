import{_ as _objectWithoutPropertiesLoose,r as react,R as React,aT as _defineProperty,e as jsx,j as jsxs,h as axios,T as Typography}from"./index--71f2cb13.js";import{g as getAugmentedNamespace,c as commonjsGlobal,a as commonjsRequire}from"./_commonjsHelpers.6312ac27.js";import{y as _setPrototypeOf,z as _assertThisInitialized,e as Button}from"./DialogContent.4d18f277.js";import{P as PropTypes}from"./index.34b83dad.js";import{i as invariant}from"./tiny-invariant.esm.d11e6c56.js";import{P as PDFViewerWrapper,F as FilePageNavWrapper,a as FilePageContainer,b as FilePageButton,S as StickyDivIntersectingTop,D as DocStickyDiv,c as PaginationMenu,d as StickyDivIntersectingBottom}from"./ApplicantPage.f8b18474.js";import"./DialogTitle.484f51c3.js";var pdf={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(n,t){module.exports=t()})(commonjsGlobal,function(){return(()=>{var __webpack_modules__=[,(s,n,t)=>{function e(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(u){return typeof u}:e=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},e(F)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.LinkTarget=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.addLinkAttributes=Y,n.deprecated=be,n.getFilenameFromUrl=A,n.getPdfFilenameFromUrl=I,n.getXfaPageViewport=H,n.isDataScheme=E,n.isPdfFile=y,n.isValidFetchUrl=re,n.loadScript=X;var a=l(t(2)),o=t(4),c=t(135);function l(F){return F&&F.__esModule?F:{default:F}}function b(F,v){var u=typeof Symbol!="undefined"&&F[Symbol.iterator]||F["@@iterator"];if(!u){if(Array.isArray(F)||(u=C(F))||v&&F&&typeof F.length=="number"){u&&(F=u);var S=0,M=function(){};return{s:M,n:function(){return S>=F.length?{done:!0}:{done:!1,value:F[S++]}},e:function(ye){throw ye},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=!0,J=!1,le;return{s:function(){u=u.call(F)},n:function(){var ye=u.next();return j=ye.done,ye},e:function(ye){J=!0,le=ye},f:function(){try{!j&&u.return!=null&&u.return()}finally{if(J)throw le}}}}function C(F,v){if(!!F){if(typeof F=="string")return N(F,v);var u=Object.prototype.toString.call(F).slice(8,-1);if(u==="Object"&&F.constructor&&(u=F.constructor.name),u==="Map"||u==="Set")return Array.from(F);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return N(F,v)}}function N(F,v){(v==null||v>F.length)&&(v=F.length);for(var u=0,S=new Array(v);u<v;u++)S[u]=F[u];return S}function L(F,v,u,S,M,j,J){try{var le=F[j](J),ve=le.value}catch(ye){u(ye);return}le.done?v(ve):Promise.resolve(ve).then(S,M)}function W(F){return function(){var v=this,u=arguments;return new Promise(function(S,M){var j=F.apply(v,u);function J(ve){L(j,S,M,J,le,"next",ve)}function le(ve){L(j,S,M,J,le,"throw",ve)}J(void 0)})}}function w(F,v){if(!(F instanceof v))throw new TypeError("Cannot call a class as a function")}function R(F,v){for(var u=0;u<v.length;u++){var S=v[u];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(F,S.key,S)}}function O(F,v,u){return v&&R(F.prototype,v),u&&R(F,u),F}function P(F,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(v&&v.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),v&&B(F,v)}function B(F,v){return B=Object.setPrototypeOf||function(S,M){return S.__proto__=M,S},B(F,v)}function k(F){var v=d();return function(){var S=f(F),M;if(v){var j=f(this).constructor;M=Reflect.construct(S,arguments,j)}else M=S.apply(this,arguments);return U(this,M)}}function U(F,v){if(v&&(e(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(F)}function p(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function d(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(F){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},f(F)}var m="noopener noreferrer nofollow",g="http://www.w3.org/2000/svg",h={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,o.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};n.PixelsPerInch=h;var _=function(F){P(u,F);var v=k(u);function u(){var S,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=M.ownerDocument,J=j===void 0?globalThis.document:j;return w(this,u),S=v.call(this),S._document=J,S}return O(u,[{key:"_createCanvas",value:function(M,j){var J=this._document.createElement("canvas");return J.width=M,J.height=j,J}}]),u}(c.BaseCanvasFactory);n.DOMCanvasFactory=_;function x(F){return z.apply(this,arguments)}function z(){return z=W(a.default.mark(function F(v){var u,S,M=arguments;return a.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(u=M.length>1&&M[1]!==void 0?M[1]:!1,!re(v,document.baseURI)){J.next=21;break}return J.next=4,fetch(v);case 4:if(S=J.sent,S.ok){J.next=7;break}throw new Error(S.statusText);case 7:if(!u){J.next=15;break}return J.t1=Uint8Array,J.next=11,S.arrayBuffer();case 11:J.t2=J.sent,J.t0=new J.t1(J.t2),J.next=20;break;case 15:return J.t3=o.stringToBytes,J.next=18,S.text();case 18:J.t4=J.sent,J.t0=(0,J.t3)(J.t4);case 20:return J.abrupt("return",J.t0);case 21:return J.abrupt("return",new Promise(function(le,ve){var ye=new XMLHttpRequest;ye.open("GET",v,!0),u&&(ye.responseType="arraybuffer"),ye.onreadystatechange=function(){if(ye.readyState===XMLHttpRequest.DONE){if(ye.status===200||ye.status===0){var pe;if(u&&ye.response?pe=new Uint8Array(ye.response):!u&&ye.responseText&&(pe=(0,o.stringToBytes)(ye.responseText)),pe){le(pe);return}}ve(new Error(ye.statusText))}},ye.send(null)}));case 22:case"end":return J.stop()}},F)})),z.apply(this,arguments)}var D=function(F){P(u,F);var v=k(u);function u(){return w(this,u),v.apply(this,arguments)}return O(u,[{key:"_fetchData",value:function(M,j){return x(M,this.isCompressed).then(function(J){return{cMapData:J,compressionType:j}})}}]),u}(c.BaseCMapReaderFactory);n.DOMCMapReaderFactory=D;var $=function(F){P(u,F);var v=k(u);function u(){return w(this,u),v.apply(this,arguments)}return O(u,[{key:"_fetchData",value:function(M){return x(M,!0)}}]),u}(c.BaseStandardFontDataFactory);n.DOMStandardFontDataFactory=$;var ee=function(F){P(u,F);var v=k(u);function u(){return w(this,u),v.apply(this,arguments)}return O(u,[{key:"_createSVG",value:function(M){return document.createElementNS(g,M)}}]),u}(c.BaseSVGFactory);n.DOMSVGFactory=ee;var Z=function(){function F(v){var u=v.viewBox,S=v.scale,M=v.rotation,j=v.offsetX,J=j===void 0?0:j,le=v.offsetY,ve=le===void 0?0:le,ye=v.dontFlip,pe=ye===void 0?!1:ye;w(this,F),this.viewBox=u,this.scale=S,this.rotation=M,this.offsetX=J,this.offsetY=ve;var _e=(u[2]+u[0])/2,ke=(u[3]+u[1])/2,Ee,Fe,Ie,We;switch(M%=360,M<0&&(M+=360),M){case 180:Ee=-1,Fe=0,Ie=0,We=1;break;case 90:Ee=0,Fe=1,Ie=1,We=0;break;case 270:Ee=0,Fe=-1,Ie=-1,We=0;break;case 0:Ee=1,Fe=0,Ie=0,We=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}pe&&(Ie=-Ie,We=-We);var Ue,fe,de,G;Ee===0?(Ue=Math.abs(ke-u[1])*S+J,fe=Math.abs(_e-u[0])*S+ve,de=Math.abs(u[3]-u[1])*S,G=Math.abs(u[2]-u[0])*S):(Ue=Math.abs(_e-u[0])*S+J,fe=Math.abs(ke-u[1])*S+ve,de=Math.abs(u[2]-u[0])*S,G=Math.abs(u[3]-u[1])*S),this.transform=[Ee*S,Fe*S,Ie*S,We*S,Ue-Ee*S*_e-Ie*S*ke,fe-Fe*S*_e-We*S*ke],this.width=de,this.height=G}return O(F,[{key:"clone",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=u.scale,M=S===void 0?this.scale:S,j=u.rotation,J=j===void 0?this.rotation:j,le=u.offsetX,ve=le===void 0?this.offsetX:le,ye=u.offsetY,pe=ye===void 0?this.offsetY:ye,_e=u.dontFlip,ke=_e===void 0?!1:_e;return new F({viewBox:this.viewBox.slice(),scale:M,rotation:J,offsetX:ve,offsetY:pe,dontFlip:ke})}},{key:"convertToViewportPoint",value:function(u,S){return o.Util.applyTransform([u,S],this.transform)}},{key:"convertToViewportRectangle",value:function(u){var S=o.Util.applyTransform([u[0],u[1]],this.transform),M=o.Util.applyTransform([u[2],u[3]],this.transform);return[S[0],S[1],M[0],M[1]]}},{key:"convertToPdfPoint",value:function(u,S){return o.Util.applyInverseTransform([u,S],this.transform)}}]),F}();n.PageViewport=Z;var ie=function(F){P(u,F);var v=k(u);function u(S,M){var j;return w(this,u),j=v.call(this,S,"RenderingCancelledException"),j.type=M,j}return u}(o.BaseException);n.RenderingCancelledException=ie;var V={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};n.LinkTarget=V;function Y(F){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=v.url,S=v.target,M=v.rel,j=v.enabled,J=j===void 0?!0:j;(0,o.assert)(u&&typeof u=="string",'addLinkAttributes: A valid "url" parameter must provided.');var le=(0,o.removeNullCharacters)(u);J?F.href=F.title=le:(F.href="",F.title="Disabled: ".concat(le),F.onclick=function(){return!1});var ve="";switch(S){case V.NONE:break;case V.SELF:ve="_self";break;case V.BLANK:ve="_blank";break;case V.PARENT:ve="_parent";break;case V.TOP:ve="_top";break}F.target=ve,F.rel=typeof M=="string"?M:m}function E(F){for(var v=F.length,u=0;u<v&&F[u].trim()==="";)u++;return F.substring(u,u+5).toLowerCase()==="data:"}function y(F){return typeof F=="string"&&/\.pdf$/i.test(F)}function A(F){var v=F.indexOf("#"),u=F.indexOf("?"),S=Math.min(v>0?v:F.length,u>0?u:F.length);return F.substring(F.lastIndexOf("/",S)+1,S)}function I(F){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof F!="string")return v;if(E(F))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),v;var u=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,S=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,M=u.exec(F),j=S.exec(M[1])||S.exec(M[2])||S.exec(M[3]);if(j&&(j=j[0],j.includes("%")))try{j=S.exec(decodeURIComponent(j))[0]}catch{}return j||v}var q=function(){function F(){w(this,F),this.started=Object.create(null),this.times=[]}return O(F,[{key:"time",value:function(u){u in this.started&&(0,o.warn)("Timer is already running for ".concat(u)),this.started[u]=Date.now()}},{key:"timeEnd",value:function(u){u in this.started||(0,o.warn)("Timer has not been started for ".concat(u)),this.times.push({name:u,start:this.started[u],end:Date.now()}),delete this.started[u]}},{key:"toString",value:function(){var u=[],S=0,M=b(this.times),j;try{for(M.s();!(j=M.n()).done;){var J=j.value,le=J.name;le.length>S&&(S=le.length)}}catch(ke){M.e(ke)}finally{M.f()}var ve=b(this.times),ye;try{for(ve.s();!(ye=ve.n()).done;){var pe=ye.value,_e=pe.end-pe.start;u.push("".concat(pe.name.padEnd(S)," ").concat(_e,`ms
`))}}catch(ke){ve.e(ke)}finally{ve.f()}return u.join("")}}]),F}();n.StatTimer=q;function re(F,v){try{var u=v?new URL(F,v):new URL(F),S=u.protocol;return S==="http:"||S==="https:"}catch{return!1}}function X(F){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise(function(u,S){var M=document.createElement("script");M.src=F,M.onload=function(j){v&&M.remove(),u(j)},M.onerror=function(){S(new Error("Cannot load script at: ".concat(M.src)))},(document.head||document.documentElement).appendChild(M)})}function be(F){console.log("Deprecated API usage: "+F)}var Pe,we=function(){function F(){w(this,F)}return O(F,null,[{key:"toDateObject",value:function(u){if(!u||!(0,o.isString)(u))return null;Pe||(Pe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var S=Pe.exec(u);if(!S)return null;var M=parseInt(S[1],10),j=parseInt(S[2],10);j=j>=1&&j<=12?j-1:0;var J=parseInt(S[3],10);J=J>=1&&J<=31?J:1;var le=parseInt(S[4],10);le=le>=0&&le<=23?le:0;var ve=parseInt(S[5],10);ve=ve>=0&&ve<=59?ve:0;var ye=parseInt(S[6],10);ye=ye>=0&&ye<=59?ye:0;var pe=S[7]||"Z",_e=parseInt(S[8],10);_e=_e>=0&&_e<=23?_e:0;var ke=parseInt(S[9],10)||0;return ke=ke>=0&&ke<=59?ke:0,pe==="-"?(le+=_e,ve+=ke):pe==="+"&&(le-=_e,ve-=ke),new Date(Date.UTC(M,j,J,le,ve,ye))}}]),F}();n.PDFDateString=we;function H(F,v){var u=v.scale,S=u===void 0?1:u,M=v.rotation,j=M===void 0?0:M,J=F.attributes.style,le=J.width,ve=J.height,ye=[0,0,parseInt(le),parseInt(ve)];return new Z({viewBox:ye,scale:S,rotation:j})}},(s,n,t)=>{s.exports=t(3)},(s,n,t)=>{s=t.nmd(s);function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(l){return typeof l}:e=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(o)}var a=function(o){var c=Object.prototype,l=c.hasOwnProperty,b,C=typeof Symbol=="function"?Symbol:{},N=C.iterator||"@@iterator",L=C.asyncIterator||"@@asyncIterator",W=C.toStringTag||"@@toStringTag";function w(y,A,I){return Object.defineProperty(y,A,{value:I,enumerable:!0,configurable:!0,writable:!0}),y[A]}try{w({},"")}catch{w=function(I,q,re){return I[q]=re}}function R(y,A,I,q){var re=A&&A.prototype instanceof d?A:d,X=Object.create(re.prototype),be=new V(q||[]);return X._invoke=$(y,I,be),X}o.wrap=R;function O(y,A,I){try{return{type:"normal",arg:y.call(A,I)}}catch(q){return{type:"throw",arg:q}}}var P="suspendedStart",B="suspendedYield",k="executing",U="completed",p={};function d(){}function f(){}function m(){}var g={};w(g,N,function(){return this});var h=Object.getPrototypeOf,_=h&&h(h(Y([])));_&&_!==c&&l.call(_,N)&&(g=_);var x=m.prototype=d.prototype=Object.create(g);f.prototype=m,w(x,"constructor",m),w(m,"constructor",f),f.displayName=w(m,W,"GeneratorFunction");function z(y){["next","throw","return"].forEach(function(A){w(y,A,function(I){return this._invoke(A,I)})})}o.isGeneratorFunction=function(y){var A=typeof y=="function"&&y.constructor;return A?A===f||(A.displayName||A.name)==="GeneratorFunction":!1},o.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,m):(y.__proto__=m,w(y,W,"GeneratorFunction")),y.prototype=Object.create(x),y},o.awrap=function(y){return{__await:y}};function D(y,A){function I(X,be,Pe,we){var H=O(y[X],y,be);if(H.type==="throw")we(H.arg);else{var F=H.arg,v=F.value;return v&&e(v)==="object"&&l.call(v,"__await")?A.resolve(v.__await).then(function(u){I("next",u,Pe,we)},function(u){I("throw",u,Pe,we)}):A.resolve(v).then(function(u){F.value=u,Pe(F)},function(u){return I("throw",u,Pe,we)})}}var q;function re(X,be){function Pe(){return new A(function(we,H){I(X,be,we,H)})}return q=q?q.then(Pe,Pe):Pe()}this._invoke=re}z(D.prototype),w(D.prototype,L,function(){return this}),o.AsyncIterator=D,o.async=function(y,A,I,q,re){re===void 0&&(re=Promise);var X=new D(R(y,A,I,q),re);return o.isGeneratorFunction(A)?X:X.next().then(function(be){return be.done?be.value:X.next()})};function $(y,A,I){var q=P;return function(X,be){if(q===k)throw new Error("Generator is already running");if(q===U){if(X==="throw")throw be;return E()}for(I.method=X,I.arg=be;;){var Pe=I.delegate;if(Pe){var we=ee(Pe,I);if(we){if(we===p)continue;return we}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(q===P)throw q=U,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);q=k;var H=O(y,A,I);if(H.type==="normal"){if(q=I.done?U:B,H.arg===p)continue;return{value:H.arg,done:I.done}}else H.type==="throw"&&(q=U,I.method="throw",I.arg=H.arg)}}}function ee(y,A){var I=y.iterator[A.method];if(I===b){if(A.delegate=null,A.method==="throw"){if(y.iterator.return&&(A.method="return",A.arg=b,ee(y,A),A.method==="throw"))return p;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var q=O(I,y.iterator,A.arg);if(q.type==="throw")return A.method="throw",A.arg=q.arg,A.delegate=null,p;var re=q.arg;if(!re)return A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,p;if(re.done)A[y.resultName]=re.value,A.next=y.nextLoc,A.method!=="return"&&(A.method="next",A.arg=b);else return re;return A.delegate=null,p}z(x),w(x,W,"Generator"),w(x,N,function(){return this}),w(x,"toString",function(){return"[object Generator]"});function Z(y){var A={tryLoc:y[0]};1 in y&&(A.catchLoc=y[1]),2 in y&&(A.finallyLoc=y[2],A.afterLoc=y[3]),this.tryEntries.push(A)}function ie(y){var A=y.completion||{};A.type="normal",delete A.arg,y.completion=A}function V(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(Z,this),this.reset(!0)}o.keys=function(y){var A=[];for(var I in y)A.push(I);return A.reverse(),function q(){for(;A.length;){var re=A.pop();if(re in y)return q.value=re,q.done=!1,q}return q.done=!0,q}};function Y(y){if(y){var A=y[N];if(A)return A.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var I=-1,q=function re(){for(;++I<y.length;)if(l.call(y,I))return re.value=y[I],re.done=!1,re;return re.value=b,re.done=!0,re};return q.next=q}}return{next:E}}o.values=Y;function E(){return{value:b,done:!0}}return V.prototype={constructor:V,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(ie),!A)for(var I in this)I.charAt(0)==="t"&&l.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=b)},stop:function(){this.done=!0;var A=this.tryEntries[0],I=A.completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var I=this;function q(H,F){return be.type="throw",be.arg=A,I.next=H,F&&(I.method="next",I.arg=b),!!F}for(var re=this.tryEntries.length-1;re>=0;--re){var X=this.tryEntries[re],be=X.completion;if(X.tryLoc==="root")return q("end");if(X.tryLoc<=this.prev){var Pe=l.call(X,"catchLoc"),we=l.call(X,"finallyLoc");if(Pe&&we){if(this.prev<X.catchLoc)return q(X.catchLoc,!0);if(this.prev<X.finallyLoc)return q(X.finallyLoc)}else if(Pe){if(this.prev<X.catchLoc)return q(X.catchLoc,!0)}else if(we){if(this.prev<X.finallyLoc)return q(X.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(A,I){for(var q=this.tryEntries.length-1;q>=0;--q){var re=this.tryEntries[q];if(re.tryLoc<=this.prev&&l.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var X=re;break}}X&&(A==="break"||A==="continue")&&X.tryLoc<=I&&I<=X.finallyLoc&&(X=null);var be=X?X.completion:{};return be.type=A,be.arg=I,X?(this.method="next",this.next=X.finallyLoc,p):this.complete(be)},complete:function(A,I){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&I&&(this.next=I),p},finish:function(A){for(var I=this.tryEntries.length-1;I>=0;--I){var q=this.tryEntries[I];if(q.finallyLoc===A)return this.complete(q.completion,q.afterLoc),ie(q),p}},catch:function(A){for(var I=this.tryEntries.length-1;I>=0;--I){var q=this.tryEntries[I];if(q.tryLoc===A){var re=q.completion;if(re.type==="throw"){var X=re.arg;ie(q)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(A,I,q){return this.delegate={iterator:Y(A),resultName:I,nextLoc:q},this.method==="next"&&(this.arg=b),p}},o}(e(s)==="object"?s.exports:{});try{regeneratorRuntime=a}catch{(typeof globalThis=="undefined"?"undefined":e(globalThis))==="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.UNSUPPORTED_FEATURES=n.TextRenderingMode=n.StreamType=n.RenderingIntentFlag=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.IsLittleEndianCached=n.IsEvalSupportedCached=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FontType=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.AnnotationType=n.AnnotationStateModelType=n.AnnotationReviewState=n.AnnotationReplyType=n.AnnotationMode=n.AnnotationMarkedState=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.arrayByteLength=ce,n.arraysToBytes=Se,n.assert=ye,n.bytesToString=Q,n.createObjectURL=wt,n.createPromiseCapability=_t,n.createValidAbsoluteUrl=ke,n.escapeString=Je,n.getModificationDate=Yt,n.getVerbosityLevel=j,n.info=J,n.isArrayBuffer=Ot,n.isArrayEqual=Ft,n.isAscii=rt,n.isBool=Rt,n.isNum=Xt,n.isSameOrigin=pe,n.isString=xt,n.objectFromMap=Le,n.objectSize=De,n.removeNullCharacters=ne,n.setVerbosityLevel=M,n.shadow=Ee,n.string32=Re,n.stringToBytes=he,n.stringToPDFString=Ye,n.stringToUTF16BEString=it,n.stringToUTF8String=yt,n.unreachable=ve,n.utf8StringToString=ht,n.warn=le,t(5);function e(ue,Te){for(var se=0;se<Te.length;se++){var ge=Te[se];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ue,ge.key,ge)}}function a(ue,Te,se){return Te&&e(ue.prototype,Te),se&&e(ue,se),ue}function o(ue){return b(ue)||l(ue)||R(ue)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(ue){if(typeof Symbol!="undefined"&&ue[Symbol.iterator]!=null||ue["@@iterator"]!=null)return Array.from(ue)}function b(ue){if(Array.isArray(ue))return O(ue)}function C(ue,Te){return W(ue)||L(ue,Te)||R(ue,Te)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(ue,Te){var se=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(se!=null){var ge=[],je=!0,ze=!1,$e,qe;try{for(se=se.call(ue);!(je=($e=se.next()).done)&&(ge.push($e.value),!(Te&&ge.length===Te));je=!0);}catch(nt){ze=!0,qe=nt}finally{try{!je&&se.return!=null&&se.return()}finally{if(ze)throw qe}}return ge}}function W(ue){if(Array.isArray(ue))return ue}function w(ue,Te){var se=typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(!se){if(Array.isArray(ue)||(se=R(ue))||Te&&ue&&typeof ue.length=="number"){se&&(ue=se);var ge=0,je=function(){};return{s:je,n:function(){return ge>=ue.length?{done:!0}:{done:!1,value:ue[ge++]}},e:function(ot){throw ot},f:je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ze=!0,$e=!1,qe;return{s:function(){se=se.call(ue)},n:function(){var ot=se.next();return ze=ot.done,ot},e:function(ot){$e=!0,qe=ot},f:function(){try{!ze&&se.return!=null&&se.return()}finally{if($e)throw qe}}}}function R(ue,Te){if(!!ue){if(typeof ue=="string")return O(ue,Te);var se=Object.prototype.toString.call(ue).slice(8,-1);if(se==="Object"&&ue.constructor&&(se=ue.constructor.name),se==="Map"||se==="Set")return Array.from(ue);if(se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return O(ue,Te)}}function O(ue,Te){(Te==null||Te>ue.length)&&(Te=ue.length);for(var se=0,ge=new Array(Te);se<Te;se++)ge[se]=ue[se];return ge}function P(ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(se){return typeof se}:P=function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},P(ue)}function B(ue,Te){if(!(ue instanceof Te))throw new TypeError("Cannot call a class as a function")}function k(ue,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(Te&&Te.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Te&&U(ue,Te)}function U(ue,Te){return U=Object.setPrototypeOf||function(ge,je){return ge.__proto__=je,ge},U(ue,Te)}function p(ue){var Te=m();return function(){var ge=g(ue),je;if(Te){var ze=g(this).constructor;je=Reflect.construct(ge,arguments,ze)}else je=ge.apply(this,arguments);return d(this,je)}}function d(ue,Te){if(Te&&(P(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(ue)}function f(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(ue){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(se){return se.__proto__||Object.getPrototypeOf(se)},g(ue)}var h=[1,0,0,1,0,0];n.IDENTITY_MATRIX=h;var _=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=_;var x={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=x;var z={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=z;var D={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=D;var $={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=$;var ee={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=ee;var Z={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=Z;var ie={MARKED:"Marked",REVIEW:"Review"};n.AnnotationStateModelType=ie;var V={MARKED:"Marked",UNMARKED:"Unmarked"};n.AnnotationMarkedState=V;var Y={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};n.AnnotationReviewState=Y;var E={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=E;var y={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=y;var A={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=A;var I={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=I;var q={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=q;var re={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=re;var X={O:"PageOpen",C:"PageClose"};n.PageActionEventType=X;var be={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};n.StreamType=be;var Pe={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};n.FontType=Pe;var we={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=we;var H={NONE:0,BINARY:1,STREAM:2};n.CMapCompressionType=H;var F={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=F;var v={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};n.UNSUPPORTED_FEATURES=v;var u={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=u;var S=we.WARNINGS;function M(ue){Number.isInteger(ue)&&(S=ue)}function j(){return S}function J(ue){S>=we.INFOS&&console.log("Info: ".concat(ue))}function le(ue){S>=we.WARNINGS&&console.log("Warning: ".concat(ue))}function ve(ue){throw new Error(ue)}function ye(ue,Te){ue||ve(Te)}function pe(ue,Te){var se;try{if(se=new URL(ue),!se.origin||se.origin==="null")return!1}catch{return!1}var ge=new URL(Te,se);return se.origin===ge.origin}function _e(ue){if(!ue)return!1;switch(ue.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ke(ue){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ue)return null;try{if(se&&typeof ue=="string"){if(se.addDefaultProtocol&&ue.startsWith("www.")){var ge=ue.match(/\./g);ge&&ge.length>=2&&(ue="http://".concat(ue))}if(se.tryConvertEncoding)try{ue=yt(ue)}catch{}}var je=Te?new URL(ue,Te):new URL(ue);if(_e(je))return je}catch{}return null}function Ee(ue,Te,se){return Object.defineProperty(ue,Te,{value:se,enumerable:!0,configurable:!0,writable:!1}),se}var Fe=function(){function Te(se,ge){this.constructor===Te&&ve("Cannot initialize BaseException."),this.message=se,this.name=ge}return Te.prototype=new Error,Te.constructor=Te,Te}();n.BaseException=Fe;var Ie=function(ue){k(se,ue);var Te=p(se);function se(ge,je){var ze;return B(this,se),ze=Te.call(this,ge,"PasswordException"),ze.code=je,ze}return se}(Fe);n.PasswordException=Ie;var We=function(ue){k(se,ue);var Te=p(se);function se(ge,je){var ze;return B(this,se),ze=Te.call(this,ge,"UnknownErrorException"),ze.details=je,ze}return se}(Fe);n.UnknownErrorException=We;var Ue=function(ue){k(se,ue);var Te=p(se);function se(ge){return B(this,se),Te.call(this,ge,"InvalidPDFException")}return se}(Fe);n.InvalidPDFException=Ue;var fe=function(ue){k(se,ue);var Te=p(se);function se(ge){return B(this,se),Te.call(this,ge,"MissingPDFException")}return se}(Fe);n.MissingPDFException=fe;var de=function(ue){k(se,ue);var Te=p(se);function se(ge,je){var ze;return B(this,se),ze=Te.call(this,ge,"UnexpectedResponseException"),ze.status=je,ze}return se}(Fe);n.UnexpectedResponseException=de;var G=function(ue){k(se,ue);var Te=p(se);function se(ge){return B(this,se),Te.call(this,ge,"FormatError")}return se}(Fe);n.FormatError=G;var te=function(ue){k(se,ue);var Te=p(se);function se(ge){return B(this,se),Te.call(this,ge,"AbortException")}return se}(Fe);n.AbortException=te;var K=/\x00+/g,oe=/[\x01-\x1F]/g;function ne(ue){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof ue!="string"?(le("The argument for removeNullCharacters must be a string."),ue):(Te&&(ue=ue.replace(oe," ")),ue.replace(K,""))}function Q(ue){ye(ue!==null&&P(ue)==="object"&&ue.length!==void 0,"Invalid argument for bytesToString");var Te=ue.length,se=8192;if(Te<se)return String.fromCharCode.apply(null,ue);for(var ge=[],je=0;je<Te;je+=se){var ze=Math.min(je+se,Te),$e=ue.subarray(je,ze);ge.push(String.fromCharCode.apply(null,$e))}return ge.join("")}function he(ue){ye(typeof ue=="string","Invalid argument for stringToBytes");for(var Te=ue.length,se=new Uint8Array(Te),ge=0;ge<Te;++ge)se[ge]=ue.charCodeAt(ge)&255;return se}function ce(ue){return ue.length!==void 0?ue.length:(ye(ue.byteLength!==void 0,"arrayByteLength - invalid argument."),ue.byteLength)}function Se(ue){var Te=ue.length;if(Te===1&&ue[0]instanceof Uint8Array)return ue[0];for(var se=0,ge=0;ge<Te;ge++)se+=ce(ue[ge]);for(var je=0,ze=new Uint8Array(se),$e=0;$e<Te;$e++){var qe=ue[$e];qe instanceof Uint8Array||(typeof qe=="string"?qe=he(qe):qe=new Uint8Array(qe));var nt=qe.byteLength;ze.set(qe,je),je+=nt}return ze}function Re(ue){return String.fromCharCode(ue>>24&255,ue>>16&255,ue>>8&255,ue&255)}function De(ue){return Object.keys(ue).length}function Le(ue){var Te=Object.create(null),se=w(ue),ge;try{for(se.s();!(ge=se.n()).done;){var je=C(ge.value,2),ze=je[0],$e=je[1];Te[ze]=$e}}catch(qe){se.e(qe)}finally{se.f()}return Te}function Ae(){var ue=new Uint8Array(4);ue[0]=1;var Te=new Uint32Array(ue.buffer,0,1);return Te[0]===1}var Ge={get value(){return Ee(this,"value",Ae())}};n.IsLittleEndianCached=Ge;function xe(){try{return new Function(""),!0}catch{return!1}}var Oe={get value(){return Ee(this,"value",xe())}};n.IsEvalSupportedCached=Oe;var Be=o(Array(256).keys()).map(function(ue){return ue.toString(16).padStart(2,"0")}),Ne=function(){function ue(){B(this,ue)}return a(ue,null,[{key:"makeHexColor",value:function(se,ge,je){return"#".concat(Be[se]).concat(Be[ge]).concat(Be[je])}},{key:"transform",value:function(se,ge){return[se[0]*ge[0]+se[2]*ge[1],se[1]*ge[0]+se[3]*ge[1],se[0]*ge[2]+se[2]*ge[3],se[1]*ge[2]+se[3]*ge[3],se[0]*ge[4]+se[2]*ge[5]+se[4],se[1]*ge[4]+se[3]*ge[5]+se[5]]}},{key:"applyTransform",value:function(se,ge){var je=se[0]*ge[0]+se[1]*ge[2]+ge[4],ze=se[0]*ge[1]+se[1]*ge[3]+ge[5];return[je,ze]}},{key:"applyInverseTransform",value:function(se,ge){var je=ge[0]*ge[3]-ge[1]*ge[2],ze=(se[0]*ge[3]-se[1]*ge[2]+ge[2]*ge[5]-ge[4]*ge[3])/je,$e=(-se[0]*ge[1]+se[1]*ge[0]+ge[4]*ge[1]-ge[5]*ge[0])/je;return[ze,$e]}},{key:"getAxialAlignedBoundingBox",value:function(se,ge){var je=ue.applyTransform(se,ge),ze=ue.applyTransform(se.slice(2,4),ge),$e=ue.applyTransform([se[0],se[3]],ge),qe=ue.applyTransform([se[2],se[1]],ge);return[Math.min(je[0],ze[0],$e[0],qe[0]),Math.min(je[1],ze[1],$e[1],qe[1]),Math.max(je[0],ze[0],$e[0],qe[0]),Math.max(je[1],ze[1],$e[1],qe[1])]}},{key:"inverseTransform",value:function(se){var ge=se[0]*se[3]-se[1]*se[2];return[se[3]/ge,-se[1]/ge,-se[2]/ge,se[0]/ge,(se[2]*se[5]-se[4]*se[3])/ge,(se[4]*se[1]-se[5]*se[0])/ge]}},{key:"apply3dTransform",value:function(se,ge){return[se[0]*ge[0]+se[1]*ge[1]+se[2]*ge[2],se[3]*ge[0]+se[4]*ge[1]+se[5]*ge[2],se[6]*ge[0]+se[7]*ge[1]+se[8]*ge[2]]}},{key:"singularValueDecompose2dScale",value:function(se){var ge=[se[0],se[2],se[1],se[3]],je=se[0]*ge[0]+se[1]*ge[2],ze=se[0]*ge[1]+se[1]*ge[3],$e=se[2]*ge[0]+se[3]*ge[2],qe=se[2]*ge[1]+se[3]*ge[3],nt=(je+qe)/2,ot=Math.sqrt(Math.pow(je+qe,2)-4*(je*qe-$e*ze))/2,vt=nt+ot||1,ft=nt-ot||1;return[Math.sqrt(vt),Math.sqrt(ft)]}},{key:"normalizeRect",value:function(se){var ge=se.slice(0);return se[0]>se[2]&&(ge[0]=se[2],ge[2]=se[0]),se[1]>se[3]&&(ge[1]=se[3],ge[3]=se[1]),ge}},{key:"intersect",value:function(se,ge){function je(nt,ot){return nt-ot}var ze=[se[0],se[2],ge[0],ge[2]].sort(je),$e=[se[1],se[3],ge[1],ge[3]].sort(je),qe=[];if(se=ue.normalizeRect(se),ge=ue.normalizeRect(ge),ze[0]===se[0]&&ze[1]===ge[0]||ze[0]===ge[0]&&ze[1]===se[0])qe[0]=ze[1],qe[2]=ze[2];else return null;if($e[0]===se[1]&&$e[1]===ge[1]||$e[0]===ge[1]&&$e[1]===se[1])qe[1]=$e[1],qe[3]=$e[2];else return null;return qe}},{key:"bezierBoundingBox",value:function(se,ge,je,ze,$e,qe,nt,ot){for(var vt=[],ft=[[],[]],At,gt,It,at,Ut,Gt,nr,qt,zt=0;zt<2;++zt){if(zt===0?(gt=6*se-12*je+6*$e,At=-3*se+9*je-9*$e+3*nt,It=3*je-3*se):(gt=6*ge-12*ze+6*qe,At=-3*ge+9*ze-9*qe+3*ot,It=3*ze-3*ge),Math.abs(At)<1e-12){if(Math.abs(gt)<1e-12)continue;at=-It/gt,0<at&&at<1&&vt.push(at);continue}nr=gt*gt-4*It*At,qt=Math.sqrt(nr),!(nr<0)&&(Ut=(-gt+qt)/(2*At),0<Ut&&Ut<1&&vt.push(Ut),Gt=(-gt-qt)/(2*At),0<Gt&&Gt<1&&vt.push(Gt))}for(var mt=vt.length,lt,Mt=mt;mt--;)at=vt[mt],lt=1-at,ft[0][mt]=lt*lt*lt*se+3*lt*lt*at*je+3*lt*at*at*$e+at*at*at*nt,ft[1][mt]=lt*lt*lt*ge+3*lt*lt*at*ze+3*lt*at*at*qe+at*at*at*ot;return ft[0][Mt]=se,ft[1][Mt]=ge,ft[0][Mt+1]=nt,ft[1][Mt+1]=ot,ft[0].length=ft[1].length=Mt+2,[Math.min.apply(Math,o(ft[0])),Math.min.apply(Math,o(ft[1])),Math.max.apply(Math,o(ft[0])),Math.max.apply(Math,o(ft[1]))]}}]),ue}();n.Util=Ne;var Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ye(ue){var Te=ue.length,se=[];if(ue[0]==="\xFE"&&ue[1]==="\xFF")for(var ge=2;ge<Te;ge+=2)se.push(String.fromCharCode(ue.charCodeAt(ge)<<8|ue.charCodeAt(ge+1)));else if(ue[0]==="\xFF"&&ue[1]==="\xFE")for(var je=2;je<Te;je+=2)se.push(String.fromCharCode(ue.charCodeAt(je+1)<<8|ue.charCodeAt(je)));else for(var ze=0;ze<Te;++ze){var $e=Ve[ue.charCodeAt(ze)];se.push($e?String.fromCharCode($e):ue.charAt(ze))}return se.join("")}function Je(ue){return ue.replace(/([()\\\n\r])/g,function(Te){return Te===`
`?"\\n":Te==="\r"?"\\r":"\\".concat(Te)})}function rt(ue){return/^[\x00-\x7F]*$/.test(ue)}function it(ue){for(var Te=["\xFE\xFF"],se=0,ge=ue.length;se<ge;se++){var je=ue.charCodeAt(se);Te.push(String.fromCharCode(je>>8&255),String.fromCharCode(je&255))}return Te.join("")}function yt(ue){return decodeURIComponent(escape(ue))}function ht(ue){return unescape(encodeURIComponent(ue))}function Rt(ue){return typeof ue=="boolean"}function Xt(ue){return typeof ue=="number"}function xt(ue){return typeof ue=="string"}function Ot(ue){return P(ue)==="object"&&ue!==null&&ue.byteLength!==void 0}function Ft(ue,Te){if(ue.length!==Te.length)return!1;for(var se=0,ge=ue.length;se<ge;se++)if(ue[se]!==Te[se])return!1;return!0}function Yt(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date,Te=[ue.getUTCFullYear().toString(),(ue.getUTCMonth()+1).toString().padStart(2,"0"),ue.getUTCDate().toString().padStart(2,"0"),ue.getUTCHours().toString().padStart(2,"0"),ue.getUTCMinutes().toString().padStart(2,"0"),ue.getUTCSeconds().toString().padStart(2,"0")];return Te.join("")}function _t(){var ue=Object.create(null),Te=!1;return Object.defineProperty(ue,"settled",{get:function(){return Te}}),ue.promise=new Promise(function(se,ge){ue.resolve=function(je){Te=!0,se(je)},ue.reject=function(je){Te=!0,ge(je)}}),ue}function wt(ue){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob!="undefined"&&!se)return URL.createObjectURL(new Blob([ue],{type:Te}));for(var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",je="data:".concat(Te,";base64,"),ze=0,$e=ue.length;ze<$e;ze+=3){var qe=ue[ze]&255,nt=ue[ze+1]&255,ot=ue[ze+2]&255,vt=qe>>2,ft=(qe&3)<<4|nt>>4,At=ze+1<$e?(nt&15)<<2|ot>>6:64,gt=ze+2<$e?ot&63:64;je+=ge[vt]+ge[ft]+ge[At]+ge[gt]}return je}},(s,n,t)=>{var e=t(6);(typeof globalThis=="undefined"||!globalThis._pdfjsCompatibilityChecked)&&((typeof globalThis=="undefined"||globalThis.Math!==Math)&&(globalThis=t(7)),globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!e.isNodeJS||(globalThis.btoa=function(o){return Buffer.from(o,"binary").toString("base64")})}(),function(){globalThis.atob||!e.isNodeJS||(globalThis.atob=function(o){return Buffer.from(o,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!e.isNodeJS||(globalThis.DOMMatrix=t(69))}(),function(){Object.fromEntries||t(70)}(),function(){globalThis.Promise.allSettled||(globalThis.Promise=t(97))}(),function(){globalThis.ReadableStream||!e.isNodeJS||(globalThis.ReadableStream=t(134).ReadableStream)}())},(s,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeJS=void 0;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(c){return typeof c}:t=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(a)}var e=(typeof process=="undefined"?"undefined":t(process))==="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=e},(s,n,t)=>{t(8),s.exports=t(10)},(s,n,t)=>{var e=t(9),a=t(10);e({global:!0},{globalThis:a})},(s,n,t)=>{var e=t(10),a=t(11).f,o=t(47),c=t(50),l=t(41),b=t(57),C=t(68);s.exports=function(N,L){var W=N.target,w=N.global,R=N.stat,O,P,B,k,U,p;if(w?P=e:R?P=e[W]||l(W,{}):P=(e[W]||{}).prototype,P)for(B in L){if(U=L[B],N.noTargetGet?(p=a(P,B),k=p&&p.value):k=P[B],O=C(w?B:W+(R?".":"#")+B,N.forced),!O&&k!==void 0){if(typeof U==typeof k)continue;b(U,k)}(N.sham||k&&k.sham)&&o(U,"sham",!0),c(P,B,U,N)}}},s=>{var n=function(t){return t&&t.Math==Math&&t};s.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(s,n,t)=>{var e=t(12),a=t(14),o=t(15),c=t(16),l=t(17),b=t(22),C=t(42),N=t(45),L=Object.getOwnPropertyDescriptor;n.f=e?L:function(w,R){if(w=l(w),R=b(R),N)try{return L(w,R)}catch{}if(C(w,R))return c(!a(o.f,w,R),w[R])}},(s,n,t)=>{var e=t(13);s.exports=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},s=>{s.exports=function(n){try{return!!n()}catch{return!0}}},s=>{var n=Function.prototype.call;s.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},(s,n)=>{var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,a=e&&!t.call({1:2},1);n.f=a?function(c){var l=e(this,c);return!!l&&l.enumerable}:t},s=>{s.exports=function(n,t){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:t}}},(s,n,t)=>{var e=t(18),a=t(21);s.exports=function(o){return e(a(o))}},(s,n,t)=>{var e=t(10),a=t(19),o=t(13),c=t(20),l=e.Object,b=a("".split);s.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(C){return c(C)=="String"?b(C,""):l(C)}:l},s=>{var n=Function.prototype,t=n.bind,e=n.call,a=t&&t.bind(e);s.exports=t?function(o){return o&&a(e,o)}:function(o){return o&&function(){return e.apply(o,arguments)}}},(s,n,t)=>{var e=t(19),a=e({}.toString),o=e("".slice);s.exports=function(c){return o(a(c),8,-1)}},(s,n,t)=>{var e=t(10),a=e.TypeError;s.exports=function(o){if(o==null)throw a("Can't call method on "+o);return o}},(s,n,t)=>{var e=t(23),a=t(26);s.exports=function(o){var c=e(o,"string");return a(c)?c:c+""}},(s,n,t)=>{var e=t(10),a=t(14),o=t(24),c=t(26),l=t(33),b=t(36),C=t(37),N=e.TypeError,L=C("toPrimitive");s.exports=function(W,w){if(!o(W)||c(W))return W;var R=l(W,L),O;if(R){if(w===void 0&&(w="default"),O=a(R,W,w),!o(O)||c(O))return O;throw N("Can't convert object to primitive value")}return w===void 0&&(w="number"),b(W,w)}},(s,n,t)=>{var e=t(25);s.exports=function(a){return typeof a=="object"?a!==null:e(a)}},s=>{s.exports=function(n){return typeof n=="function"}},(s,n,t)=>{var e=t(10),a=t(27),o=t(25),c=t(28),l=t(29),b=e.Object;s.exports=l?function(C){return typeof C=="symbol"}:function(C){var N=a("Symbol");return o(N)&&c(N.prototype,b(C))}},(s,n,t)=>{var e=t(10),a=t(25),o=function(c){return a(c)?c:void 0};s.exports=function(c,l){return arguments.length<2?o(e[c]):e[c]&&e[c][l]}},(s,n,t)=>{var e=t(19);s.exports=e({}.isPrototypeOf)},(s,n,t)=>{var e=t(30);s.exports=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(s,n,t)=>{var e=t(31),a=t(13);s.exports=!!Object.getOwnPropertySymbols&&!a(function(){var o=Symbol();return!String(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&e&&e<41})},(s,n,t)=>{var e=t(10),a=t(32),o=e.process,c=e.Deno,l=o&&o.versions||c&&c.version,b=l&&l.v8,C,N;b&&(C=b.split("."),N=C[0]>0&&C[0]<4?1:+(C[0]+C[1])),!N&&a&&(C=a.match(/Edge\/(\d+)/),(!C||C[1]>=74)&&(C=a.match(/Chrome\/(\d+)/),C&&(N=+C[1]))),s.exports=N},(s,n,t)=>{var e=t(27);s.exports=e("navigator","userAgent")||""},(s,n,t)=>{var e=t(34);s.exports=function(a,o){var c=a[o];return c==null?void 0:e(c)}},(s,n,t)=>{var e=t(10),a=t(25),o=t(35),c=e.TypeError;s.exports=function(l){if(a(l))return l;throw c(o(l)+" is not a function")}},(s,n,t)=>{var e=t(10),a=e.String;s.exports=function(o){try{return a(o)}catch{return"Object"}}},(s,n,t)=>{var e=t(10),a=t(14),o=t(25),c=t(24),l=e.TypeError;s.exports=function(b,C){var N,L;if(C==="string"&&o(N=b.toString)&&!c(L=a(N,b))||o(N=b.valueOf)&&!c(L=a(N,b))||C!=="string"&&o(N=b.toString)&&!c(L=a(N,b)))return L;throw l("Can't convert object to primitive value")}},(s,n,t)=>{var e=t(10),a=t(38),o=t(42),c=t(44),l=t(30),b=t(29),C=a("wks"),N=e.Symbol,L=N&&N.for,W=b?N:N&&N.withoutSetter||c;s.exports=function(w){if(!o(C,w)||!(l||typeof C[w]=="string")){var R="Symbol."+w;l&&o(N,w)?C[w]=N[w]:b&&L?C[w]=L(R):C[w]=W(R)}return C[w]}},(s,n,t)=>{var e=t(39),a=t(40);(s.exports=function(o,c){return a[o]||(a[o]=c!==void 0?c:{})})("versions",[]).push({version:"3.19.3",mode:e?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},s=>{s.exports=!1},(s,n,t)=>{var e=t(10),a=t(41),o="__core-js_shared__",c=e[o]||a(o,{});s.exports=c},(s,n,t)=>{var e=t(10),a=Object.defineProperty;s.exports=function(o,c){try{a(e,o,{value:c,configurable:!0,writable:!0})}catch{e[o]=c}return c}},(s,n,t)=>{var e=t(19),a=t(43),o=e({}.hasOwnProperty);s.exports=Object.hasOwn||function(l,b){return o(a(l),b)}},(s,n,t)=>{var e=t(10),a=t(21),o=e.Object;s.exports=function(c){return o(a(c))}},(s,n,t)=>{var e=t(19),a=0,o=Math.random(),c=e(1 .toString);s.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+c(++a+o,36)}},(s,n,t)=>{var e=t(12),a=t(13),o=t(46);s.exports=!e&&!a(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},(s,n,t)=>{var e=t(10),a=t(24),o=e.document,c=a(o)&&a(o.createElement);s.exports=function(l){return c?o.createElement(l):{}}},(s,n,t)=>{var e=t(12),a=t(48),o=t(16);s.exports=e?function(c,l,b){return a.f(c,l,o(1,b))}:function(c,l,b){return c[l]=b,c}},(s,n,t)=>{var e=t(10),a=t(12),o=t(45),c=t(49),l=t(22),b=e.TypeError,C=Object.defineProperty;n.f=a?C:function(L,W,w){if(c(L),W=l(W),c(w),o)try{return C(L,W,w)}catch{}if("get"in w||"set"in w)throw b("Accessors not supported");return"value"in w&&(L[W]=w.value),L}},(s,n,t)=>{var e=t(10),a=t(24),o=e.String,c=e.TypeError;s.exports=function(l){if(a(l))return l;throw c(o(l)+" is not an object")}},(s,n,t)=>{var e=t(10),a=t(25),o=t(42),c=t(47),l=t(41),b=t(51),C=t(52),N=t(56).CONFIGURABLE,L=C.get,W=C.enforce,w=String(String).split("String");(s.exports=function(R,O,P,B){var k=B?!!B.unsafe:!1,U=B?!!B.enumerable:!1,p=B?!!B.noTargetGet:!1,d=B&&B.name!==void 0?B.name:O,f;if(a(P)&&(String(d).slice(0,7)==="Symbol("&&(d="["+String(d).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(P,"name")||N&&P.name!==d)&&c(P,"name",d),f=W(P),f.source||(f.source=w.join(typeof d=="string"?d:""))),R===e){U?R[O]=P:l(O,P);return}else k?!p&&R[O]&&(U=!0):delete R[O];U?R[O]=P:c(R,O,P)})(Function.prototype,"toString",function(){return a(this)&&L(this).source||b(this)})},(s,n,t)=>{var e=t(19),a=t(25),o=t(40),c=e(Function.toString);a(o.inspectSource)||(o.inspectSource=function(l){return c(l)}),s.exports=o.inspectSource},(s,n,t)=>{var e=t(53),a=t(10),o=t(19),c=t(24),l=t(47),b=t(42),C=t(40),N=t(54),L=t(55),W="Object already initialized",w=a.TypeError,R=a.WeakMap,O,P,B,k=function(h){return B(h)?P(h):O(h,{})},U=function(h){return function(_){var x;if(!c(_)||(x=P(_)).type!==h)throw w("Incompatible receiver, "+h+" required");return x}};if(e||C.state){var p=C.state||(C.state=new R),d=o(p.get),f=o(p.has),m=o(p.set);O=function(h,_){if(f(p,h))throw new w(W);return _.facade=h,m(p,h,_),_},P=function(h){return d(p,h)||{}},B=function(h){return f(p,h)}}else{var g=N("state");L[g]=!0,O=function(h,_){if(b(h,g))throw new w(W);return _.facade=h,l(h,g,_),_},P=function(h){return b(h,g)?h[g]:{}},B=function(h){return b(h,g)}}s.exports={set:O,get:P,has:B,enforce:k,getterFor:U}},(s,n,t)=>{var e=t(10),a=t(25),o=t(51),c=e.WeakMap;s.exports=a(c)&&/native code/.test(o(c))},(s,n,t)=>{var e=t(38),a=t(44),o=e("keys");s.exports=function(c){return o[c]||(o[c]=a(c))}},s=>{s.exports={}},(s,n,t)=>{var e=t(12),a=t(42),o=Function.prototype,c=e&&Object.getOwnPropertyDescriptor,l=a(o,"name"),b=l&&function(){}.name==="something",C=l&&(!e||e&&c(o,"name").configurable);s.exports={EXISTS:l,PROPER:b,CONFIGURABLE:C}},(s,n,t)=>{var e=t(42),a=t(58),o=t(11),c=t(48);s.exports=function(l,b){for(var C=a(b),N=c.f,L=o.f,W=0;W<C.length;W++){var w=C[W];e(l,w)||N(l,w,L(b,w))}}},(s,n,t)=>{var e=t(27),a=t(19),o=t(59),c=t(67),l=t(49),b=a([].concat);s.exports=e("Reflect","ownKeys")||function(N){var L=o.f(l(N)),W=c.f;return W?b(L,W(N)):L}},(s,n,t)=>{var e=t(60),a=t(66),o=a.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(l){return e(l,o)}},(s,n,t)=>{var e=t(19),a=t(42),o=t(17),c=t(61).indexOf,l=t(55),b=e([].push);s.exports=function(C,N){var L=o(C),W=0,w=[],R;for(R in L)!a(l,R)&&a(L,R)&&b(w,R);for(;N.length>W;)a(L,R=N[W++])&&(~c(w,R)||b(w,R));return w}},(s,n,t)=>{var e=t(17),a=t(62),o=t(64),c=function(l){return function(b,C,N){var L=e(b),W=o(L),w=a(N,W),R;if(l&&C!=C){for(;W>w;)if(R=L[w++],R!=R)return!0}else for(;W>w;w++)if((l||w in L)&&L[w]===C)return l||w||0;return!l&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}},(s,n,t)=>{var e=t(63),a=Math.max,o=Math.min;s.exports=function(c,l){var b=e(c);return b<0?a(b+l,0):o(b,l)}},s=>{var n=Math.ceil,t=Math.floor;s.exports=function(e){var a=+e;return a!==a||a===0?0:(a>0?t:n)(a)}},(s,n,t)=>{var e=t(65);s.exports=function(a){return e(a.length)}},(s,n,t)=>{var e=t(63),a=Math.min;s.exports=function(o){return o>0?a(e(o),9007199254740991):0}},s=>{s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(s,n)=>{n.f=Object.getOwnPropertySymbols},(s,n,t)=>{var e=t(13),a=t(25),o=/#|\.prototype\./,c=function(L,W){var w=b[l(L)];return w==N?!0:w==C?!1:a(W)?e(W):!!W},l=c.normalize=function(L){return String(L).replace(o,".").toLowerCase()},b=c.data={},C=c.NATIVE="N",N=c.POLYFILL="P";s.exports=c},(s,n,t)=>{var e,a;function o(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(b){return typeof b}:o=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o(c)}(function(c,l){o(n)==="object"?s.exports=l():(e=l,a=typeof e=="function"?e.call(n,t,n,s):e,a!==void 0&&(s.exports=a))})(void 0,function(){function c(p){var d=new P,f=Array.from(p);if(!f.every(function(we){return!Number.isNaN(we)}))throw TypeError('CSSMatrix: "'+p+'" must only have numbers.');if(f.length===16){var m=f[0],g=f[1],h=f[2],_=f[3],x=f[4],z=f[5],D=f[6],$=f[7],ee=f[8],Z=f[9],ie=f[10],V=f[11],Y=f[12],E=f[13],y=f[14],A=f[15];d.m11=m,d.a=m,d.m21=x,d.c=x,d.m31=ee,d.m41=Y,d.e=Y,d.m12=g,d.b=g,d.m22=z,d.d=z,d.m32=Z,d.m42=E,d.f=E,d.m13=h,d.m23=D,d.m33=ie,d.m43=y,d.m14=_,d.m24=$,d.m34=V,d.m44=A}else if(f.length===6){var I=f[0],q=f[1],re=f[2],X=f[3],be=f[4],Pe=f[5];d.m11=I,d.a=I,d.m12=q,d.b=q,d.m21=re,d.c=re,d.m22=X,d.d=X,d.m41=be,d.e=be,d.m42=Pe,d.f=Pe}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return d}function l(p){var d=Object.keys(new P);if(o(p)==="object"&&d.every(function(f){return f in p}))return c([p.m11,p.m12,p.m13,p.m14,p.m21,p.m22,p.m23,p.m24,p.m31,p.m32,p.m33,p.m34,p.m41,p.m42,p.m43,p.m44]);throw TypeError('CSSMatrix: "'+p+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function b(p){if(typeof p!="string")throw TypeError('CSSMatrix: "'+p+'" is not a string.');var d=String(p).replace(/\s/g,""),f=new P,m='CSSMatrix: invalid transform string "'+p+'"';return d.split(")").filter(function(g){return g}).forEach(function(g){var h=g.split("("),_=h[0],x=h[1];if(!x)throw TypeError(m);var z=x.split(",").map(function(X){return X.includes("rad")?parseFloat(X)*(180/Math.PI):parseFloat(X)}),D=z[0],$=z[1],ee=z[2],Z=z[3],ie=[D,$,ee],V=[D,$,ee,Z];if(_==="perspective"&&D&&[$,ee].every(function(X){return X===void 0}))f.m34=-1/D;else if(_.includes("matrix")&&[6,16].includes(z.length)&&z.every(function(X){return!Number.isNaN(+X)})){var Y=z.map(function(X){return Math.abs(X)<1e-6?0:X});f=f.multiply(c(Y))}else if(_==="translate3d"&&ie.every(function(X){return!Number.isNaN(+X)}))f=f.translate(D,$,ee);else if(_==="translate"&&D&&ee===void 0)f=f.translate(D,$||0,0);else if(_==="rotate3d"&&V.every(function(X){return!Number.isNaN(+X)})&&Z)f=f.rotateAxisAngle(D,$,ee,Z);else if(_==="rotate"&&D&&[$,ee].every(function(X){return X===void 0}))f=f.rotate(0,0,D);else if(_==="scale3d"&&ie.every(function(X){return!Number.isNaN(+X)})&&ie.some(function(X){return X!==1}))f=f.scale(D,$,ee);else if(_==="scale"&&!Number.isNaN(D)&&D!==1&&ee===void 0){var E=Number.isNaN(+$),y=E?D:$;f=f.scale(D,y,1)}else if(_==="skew"&&D&&ee===void 0)f=f.skewX(D),f=$?f.skewY($):f;else if(/[XYZ]/.test(_)&&D&&[$,ee].every(function(X){return X===void 0})&&["translate","rotate","scale","skew"].some(function(X){return _.includes(X)}))if(["skewX","skewY"].includes(_))f=f[_](D);else{var A=_.replace(/[XYZ]/,""),I=_.replace(A,""),q=["X","Y","Z"].indexOf(I),re=[q===0?D:0,q===1?D:0,q===2?D:0];f=f[A].apply(f,re)}else throw TypeError(m)}),f}function C(p,d,f){var m=new P;return m.m41=p,m.e=p,m.m42=d,m.f=d,m.m43=f,m}function N(p,d,f){var m=new P,g=Math.PI/180,h=p*g,_=d*g,x=f*g,z=Math.cos(h),D=-Math.sin(h),$=Math.cos(_),ee=-Math.sin(_),Z=Math.cos(x),ie=-Math.sin(x),V=$*Z,Y=-$*ie;m.m11=V,m.a=V,m.m12=Y,m.b=Y,m.m13=ee;var E=D*ee*Z+z*ie;m.m21=E,m.c=E;var y=z*Z-D*ee*ie;return m.m22=y,m.d=y,m.m23=-D*$,m.m31=D*ie-z*ee*Z,m.m32=D*Z+z*ee*ie,m.m33=z*$,m}function L(p,d,f,m){var g=new P,h=m*(Math.PI/360),_=Math.sin(h),x=Math.cos(h),z=_*_,D=Math.sqrt(p*p+d*d+f*f),$=p,ee=d,Z=f;D===0?($=0,ee=0,Z=1):($/=D,ee/=D,Z/=D);var ie=$*$,V=ee*ee,Y=Z*Z,E=1-2*(V+Y)*z;g.m11=E,g.a=E;var y=2*($*ee*z+Z*_*x);g.m12=y,g.b=y,g.m13=2*($*Z*z-ee*_*x);var A=2*(ee*$*z-Z*_*x);g.m21=A,g.c=A;var I=1-2*(Y+ie)*z;return g.m22=I,g.d=I,g.m23=2*(ee*Z*z+$*_*x),g.m31=2*(Z*$*z+ee*_*x),g.m32=2*(Z*ee*z-$*_*x),g.m33=1-2*(ie+V)*z,g}function W(p,d,f){var m=new P;return m.m11=p,m.a=p,m.m22=d,m.d=d,m.m33=f,m}function w(p){var d=new P,f=p*Math.PI/180,m=Math.tan(f);return d.m21=m,d.c=m,d}function R(p){var d=new P,f=p*Math.PI/180,m=Math.tan(f);return d.m12=m,d.b=m,d}function O(p,d){var f=d.m11*p.m11+d.m12*p.m21+d.m13*p.m31+d.m14*p.m41,m=d.m11*p.m12+d.m12*p.m22+d.m13*p.m32+d.m14*p.m42,g=d.m11*p.m13+d.m12*p.m23+d.m13*p.m33+d.m14*p.m43,h=d.m11*p.m14+d.m12*p.m24+d.m13*p.m34+d.m14*p.m44,_=d.m21*p.m11+d.m22*p.m21+d.m23*p.m31+d.m24*p.m41,x=d.m21*p.m12+d.m22*p.m22+d.m23*p.m32+d.m24*p.m42,z=d.m21*p.m13+d.m22*p.m23+d.m23*p.m33+d.m24*p.m43,D=d.m21*p.m14+d.m22*p.m24+d.m23*p.m34+d.m24*p.m44,$=d.m31*p.m11+d.m32*p.m21+d.m33*p.m31+d.m34*p.m41,ee=d.m31*p.m12+d.m32*p.m22+d.m33*p.m32+d.m34*p.m42,Z=d.m31*p.m13+d.m32*p.m23+d.m33*p.m33+d.m34*p.m43,ie=d.m31*p.m14+d.m32*p.m24+d.m33*p.m34+d.m34*p.m44,V=d.m41*p.m11+d.m42*p.m21+d.m43*p.m31+d.m44*p.m41,Y=d.m41*p.m12+d.m42*p.m22+d.m43*p.m32+d.m44*p.m42,E=d.m41*p.m13+d.m42*p.m23+d.m43*p.m33+d.m44*p.m43,y=d.m41*p.m14+d.m42*p.m24+d.m43*p.m34+d.m44*p.m44;return c([f,m,g,h,_,x,z,D,$,ee,Z,ie,V,Y,E,y])}var P=function(){for(var d=[],f=arguments.length;f--;)d[f]=arguments[f];var m=this;if(m.a=1,m.b=0,m.c=0,m.d=1,m.e=0,m.f=0,m.m11=1,m.m12=0,m.m13=0,m.m14=0,m.m21=0,m.m22=1,m.m23=0,m.m24=0,m.m31=0,m.m32=0,m.m33=1,m.m34=0,m.m41=0,m.m42=0,m.m43=0,m.m44=1,d&&d.length){var g=[16,6].some(function(h){return h===d.length})?d:d[0];return m.setMatrixValue(g)}return m},B={isIdentity:{configurable:!0},is2D:{configurable:!0}};B.isIdentity.set=function(p){this.isIdentity=p},B.isIdentity.get=function(){var p=this;return p.m11===1&&p.m12===0&&p.m13===0&&p.m14===0&&p.m21===0&&p.m22===1&&p.m23===0&&p.m24===0&&p.m31===0&&p.m32===0&&p.m33===1&&p.m34===0&&p.m41===0&&p.m42===0&&p.m43===0&&p.m44===1},B.is2D.get=function(){var p=this;return p.m31===0&&p.m32===0&&p.m33===1&&p.m34===0&&p.m43===0&&p.m44===1},B.is2D.set=function(p){this.is2D=p},P.prototype.setMatrixValue=function(d){var f=this;return[Array,Float64Array,Float32Array].some(function(m){return d instanceof m})?c(d):typeof d=="string"&&d.length&&d!=="none"?b(d):o(d)==="object"?l(d):f},P.prototype.toArray=function(){var d=this,f=Math.pow(10,6),m;return d.is2D?m=[d.a,d.b,d.c,d.d,d.e,d.f]:m=[d.m11,d.m12,d.m13,d.m14,d.m21,d.m22,d.m23,d.m24,d.m31,d.m32,d.m33,d.m34,d.m41,d.m42,d.m43,d.m44],m.map(function(g){return Math.abs(g)<1e-6?0:(g*f>>0)/f})},P.prototype.toString=function(){var d=this,f=d.toArray(),m=d.is2D?"matrix":"matrix3d";return m+"("+f+")"},P.prototype.toJSON=function(){var d=this,f=d.is2D,m=d.isIdentity;return Object.assign({},d,{is2D:f,isIdentity:m})},P.prototype.multiply=function(d){return O(this,d)},P.prototype.translate=function(d,f,m){var g=d,h=f,_=m;return _===void 0&&(_=0),h===void 0&&(h=0),O(this,C(g,h,_))},P.prototype.scale=function(d,f,m){var g=d,h=f,_=m;return h===void 0&&(h=d),_===void 0&&(_=1),O(this,W(g,h,_))},P.prototype.rotate=function(d,f,m){var g=d,h=f,_=m;return h===void 0&&(h=0),_===void 0&&(_=g,g=0),O(this,N(g,h,_))},P.prototype.rotateAxisAngle=function(d,f,m,g){if([d,f,m,g].some(function(h){return Number.isNaN(h)}))throw new TypeError("CSSMatrix: expecting 4 values");return O(this,L(d,f,m,g))},P.prototype.skewX=function(d){return O(this,w(d))},P.prototype.skewY=function(d){return O(this,R(d))},P.prototype.transformPoint=function(d){var f=this,m=C(d.x,d.y,d.z);return m.m44=d.w||1,m=f.multiply(m),{x:m.m41,y:m.m42,z:m.m43,w:m.m44}},P.prototype.transform=function(d){var f=this,m=f.m11*d.x+f.m12*d.y+f.m13*d.z+f.m14*d.w,g=f.m21*d.x+f.m22*d.y+f.m23*d.z+f.m24*d.w,h=f.m31*d.x+f.m32*d.y+f.m33*d.z+f.m34*d.w,_=f.m41*d.x+f.m42*d.y+f.m43*d.z+f.m44*d.w;return{x:m/_,y:g/_,z:h/_,w:_}},Object.defineProperties(P.prototype,B),Object.assign(P,{Translate:C,Rotate:N,RotateAxisAngle:L,Scale:W,SkewX:w,SkewY:R,Multiply:O,fromArray:c,fromMatrix:l,fromString:b});var k="0.0.24",U=k;return Object.assign(P,{Version:U}),P})},(s,n,t)=>{t(71),t(86);var e=t(96);s.exports=e.Object.fromEntries},(s,n,t)=>{var e=t(17),a=t(72),o=t(77),c=t(52),l=t(78),b="Array Iterator",C=c.set,N=c.getterFor(b);s.exports=l(Array,"Array",function(L,W){C(this,{type:b,target:e(L),index:0,kind:W})},function(){var L=N(this),W=L.target,w=L.kind,R=L.index++;return!W||R>=W.length?(L.target=void 0,{value:void 0,done:!0}):w=="keys"?{value:R,done:!1}:w=="values"?{value:W[R],done:!1}:{value:[R,W[R]],done:!1}},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},(s,n,t)=>{var e=t(37),a=t(73),o=t(48),c=e("unscopables"),l=Array.prototype;l[c]==null&&o.f(l,c,{configurable:!0,value:a(null)}),s.exports=function(b){l[c][b]=!0}},(s,n,t)=>{var e=t(49),a=t(74),o=t(66),c=t(55),l=t(76),b=t(46),C=t(54),N=">",L="<",W="prototype",w="script",R=C("IE_PROTO"),O=function(){},P=function(d){return L+w+N+d+L+"/"+w+N},B=function(d){d.write(P("")),d.close();var f=d.parentWindow.Object;return d=null,f},k=function(){var d=b("iframe"),f="java"+w+":",m;return d.style.display="none",l.appendChild(d),d.src=String(f),m=d.contentWindow.document,m.open(),m.write(P("document.F=Object")),m.close(),m.F},U,p=function(){try{U=new ActiveXObject("htmlfile")}catch{}p=typeof document!="undefined"?document.domain&&U?B(U):k():B(U);for(var d=o.length;d--;)delete p[W][o[d]];return p()};c[R]=!0,s.exports=Object.create||function(f,m){var g;return f!==null?(O[W]=e(f),g=new O,O[W]=null,g[R]=f):g=p(),m===void 0?g:a(g,m)}},(s,n,t)=>{var e=t(12),a=t(48),o=t(49),c=t(17),l=t(75);s.exports=e?Object.defineProperties:function(C,N){o(C);for(var L=c(N),W=l(N),w=W.length,R=0,O;w>R;)a.f(C,O=W[R++],L[O]);return C}},(s,n,t)=>{var e=t(60),a=t(66);s.exports=Object.keys||function(c){return e(c,a)}},(s,n,t)=>{var e=t(27);s.exports=e("document","documentElement")},s=>{s.exports={}},(s,n,t)=>{var e=t(9),a=t(14),o=t(39),c=t(56),l=t(25),b=t(79),C=t(81),N=t(84),L=t(83),W=t(47),w=t(50),R=t(37),O=t(77),P=t(80),B=c.PROPER,k=c.CONFIGURABLE,U=P.IteratorPrototype,p=P.BUGGY_SAFARI_ITERATORS,d=R("iterator"),f="keys",m="values",g="entries",h=function(){return this};s.exports=function(_,x,z,D,$,ee,Z){b(z,x,D);var ie=function(be){if(be===$&&A)return A;if(!p&&be in E)return E[be];switch(be){case f:return function(){return new z(this,be)};case m:return function(){return new z(this,be)};case g:return function(){return new z(this,be)}}return function(){return new z(this)}},V=x+" Iterator",Y=!1,E=_.prototype,y=E[d]||E["@@iterator"]||$&&E[$],A=!p&&y||ie($),I=x=="Array"&&E.entries||y,q,re,X;if(I&&(q=C(I.call(new _)),q!==Object.prototype&&q.next&&(!o&&C(q)!==U&&(N?N(q,U):l(q[d])||w(q,d,h)),L(q,V,!0,!0),o&&(O[V]=h))),B&&$==m&&y&&y.name!==m&&(!o&&k?W(E,"name",m):(Y=!0,A=function(){return a(y,this)})),$)if(re={values:ie(m),keys:ee?A:ie(f),entries:ie(g)},Z)for(X in re)(p||Y||!(X in E))&&w(E,X,re[X]);else e({target:x,proto:!0,forced:p||Y},re);return(!o||Z)&&E[d]!==A&&w(E,d,A,{name:$}),O[x]=A,re}},(s,n,t)=>{var e=t(80).IteratorPrototype,a=t(73),o=t(16),c=t(83),l=t(77),b=function(){return this};s.exports=function(C,N,L,W){var w=N+" Iterator";return C.prototype=a(e,{next:o(+!W,L)}),c(C,w,!1,!0),l[w]=b,C}},(s,n,t)=>{var e=t(13),a=t(25),o=t(73),c=t(81),l=t(50),b=t(37),C=t(39),N=b("iterator"),L=!1,W,w,R;[].keys&&(R=[].keys(),"next"in R?(w=c(c(R)),w!==Object.prototype&&(W=w)):L=!0);var O=W==null||e(function(){var P={};return W[N].call(P)!==P});O?W={}:C&&(W=o(W)),a(W[N])||l(W,N,function(){return this}),s.exports={IteratorPrototype:W,BUGGY_SAFARI_ITERATORS:L}},(s,n,t)=>{var e=t(10),a=t(42),o=t(25),c=t(43),l=t(54),b=t(82),C=l("IE_PROTO"),N=e.Object,L=N.prototype;s.exports=b?N.getPrototypeOf:function(W){var w=c(W);if(a(w,C))return w[C];var R=w.constructor;return o(R)&&w instanceof R?R.prototype:w instanceof N?L:null}},(s,n,t)=>{var e=t(13);s.exports=!e(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},(s,n,t)=>{var e=t(48).f,a=t(42),o=t(37),c=o("toStringTag");s.exports=function(l,b,C){l&&!a(l=C?l:l.prototype,c)&&e(l,c,{configurable:!0,value:b})}},(s,n,t)=>{var e=t(19),a=t(49),o=t(85);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,l={},b;try{b=e(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),b(l,[]),c=l instanceof Array}catch{}return function(N,L){return a(N),o(L),c?b(N,L):N.__proto__=L,N}}():void 0)},(s,n,t)=>{var e=t(10),a=t(25),o=e.String,c=e.TypeError;s.exports=function(l){if(typeof l=="object"||a(l))return l;throw c("Can't set "+o(l)+" as a prototype")}},(s,n,t)=>{var e=t(9),a=t(87),o=t(95);e({target:"Object",stat:!0},{fromEntries:function(l){var b={};return a(l,function(C,N){o(b,C,N)},{AS_ENTRIES:!0}),b}})},(s,n,t)=>{var e=t(10),a=t(88),o=t(14),c=t(49),l=t(35),b=t(89),C=t(64),N=t(28),L=t(90),W=t(91),w=t(94),R=e.TypeError,O=function(B,k){this.stopped=B,this.result=k},P=O.prototype;s.exports=function(B,k,U){var p=U&&U.that,d=!!(U&&U.AS_ENTRIES),f=!!(U&&U.IS_ITERATOR),m=!!(U&&U.INTERRUPTED),g=a(k,p),h,_,x,z,D,$,ee,Z=function(V){return h&&w(h,"normal",V),new O(!0,V)},ie=function(V){return d?(c(V),m?g(V[0],V[1],Z):g(V[0],V[1])):m?g(V,Z):g(V)};if(f)h=B;else{if(_=W(B),!_)throw R(l(B)+" is not iterable");if(b(_)){for(x=0,z=C(B);z>x;x++)if(D=ie(B[x]),D&&N(P,D))return D;return new O(!1)}h=L(B,_)}for($=h.next;!(ee=o($,h)).done;){try{D=ie(ee.value)}catch(V){w(h,"throw",V)}if(typeof D=="object"&&D&&N(P,D))return D}return new O(!1)}},(s,n,t)=>{var e=t(19),a=t(34),o=e(e.bind);s.exports=function(c,l){return a(c),l===void 0?c:o?o(c,l):function(){return c.apply(l,arguments)}}},(s,n,t)=>{var e=t(37),a=t(77),o=e("iterator"),c=Array.prototype;s.exports=function(l){return l!==void 0&&(a.Array===l||c[o]===l)}},(s,n,t)=>{var e=t(10),a=t(14),o=t(34),c=t(49),l=t(35),b=t(91),C=e.TypeError;s.exports=function(N,L){var W=arguments.length<2?b(N):L;if(o(W))return c(a(W,N));throw C(l(N)+" is not iterable")}},(s,n,t)=>{var e=t(92),a=t(33),o=t(77),c=t(37),l=c("iterator");s.exports=function(b){if(b!=null)return a(b,l)||a(b,"@@iterator")||o[e(b)]}},(s,n,t)=>{var e=t(10),a=t(93),o=t(25),c=t(20),l=t(37),b=l("toStringTag"),C=e.Object,N=c(function(){return arguments}())=="Arguments",L=function(W,w){try{return W[w]}catch{}};s.exports=a?c:function(W){var w,R,O;return W===void 0?"Undefined":W===null?"Null":typeof(R=L(w=C(W),b))=="string"?R:N?c(w):(O=c(w))=="Object"&&o(w.callee)?"Arguments":O}},(s,n,t)=>{var e=t(37),a=e("toStringTag"),o={};o[a]="z",s.exports=String(o)==="[object z]"},(s,n,t)=>{var e=t(14),a=t(49),o=t(33);s.exports=function(c,l,b){var C,N;a(c);try{if(C=o(c,"return"),!C){if(l==="throw")throw b;return b}C=e(C,c)}catch(L){N=!0,C=L}if(l==="throw")throw b;if(N)throw C;return a(C),b}},(s,n,t)=>{var e=t(22),a=t(48),o=t(16);s.exports=function(c,l,b){var C=e(l);C in c?a.f(c,C,o(0,b)):c[C]=b}},(s,n,t)=>{var e=t(10);s.exports=e},(s,n,t)=>{t(98),t(71),t(105),t(107),t(129),t(130),t(131),t(132);var e=t(96);s.exports=e.Promise},(s,n,t)=>{var e=t(9),a=t(10),o=t(28),c=t(81),l=t(84),b=t(57),C=t(73),N=t(47),L=t(16),W=t(99),w=t(101),R=t(87),O=t(102),P=t(37),B=t(104),k=P("toStringTag"),U=a.Error,p=[].push,d=function(g,h){var _=arguments.length>2?arguments[2]:void 0,x=o(f,this),z;l?z=l(new U(void 0),x?c(this):f):(z=x?this:C(f),N(z,k,"Error")),N(z,"message",O(h,"")),B&&N(z,"stack",W(z.stack,1)),w(z,_);var D=[];return R(g,p,{that:D}),N(z,"errors",D),z};l?l(d,U):b(d,U);var f=d.prototype=C(U.prototype,{constructor:L(1,d),message:L(1,""),name:L(1,"AggregateError")});e({global:!0},{AggregateError:d})},(s,n,t)=>{var e=t(19),a=t(100),o=e("".replace),c=e("".split),l=e([].join),b=function(W){return String(Error(W).stack)}("zxcasd"),C=/\n\s*at [^:]*:[^\n]*/,N=C.test(b),L=/@[^\n]*\n/.test(b)&&!/zxcasd/.test(b);s.exports=function(W,w){if(typeof W!="string")return W;if(N)for(;w--;)W=o(W,C,"");else if(L)return l(a(c(W,`
`),w),`
`);return W}},(s,n,t)=>{var e=t(10),a=t(62),o=t(64),c=t(95),l=e.Array,b=Math.max;s.exports=function(C,N,L){for(var W=o(C),w=a(N,W),R=a(L===void 0?W:L,W),O=l(b(R-w,0)),P=0;w<R;w++,P++)c(O,P,C[w]);return O.length=P,O}},(s,n,t)=>{var e=t(24),a=t(47);s.exports=function(o,c){e(c)&&"cause"in c&&a(o,"cause",c.cause)}},(s,n,t)=>{var e=t(103);s.exports=function(a,o){return a===void 0?arguments.length<2?"":o:e(a)}},(s,n,t)=>{var e=t(10),a=t(92),o=e.String;s.exports=function(c){if(a(c)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return o(c)}},(s,n,t)=>{var e=t(13),a=t(16);s.exports=!e(function(){var o=Error("a");return"stack"in o?(Object.defineProperty(o,"stack",a(1,7)),o.stack!==7):!0})},(s,n,t)=>{var e=t(93),a=t(50),o=t(106);e||a(Object.prototype,"toString",o,{unsafe:!0})},(s,n,t)=>{var e=t(93),a=t(92);s.exports=e?{}.toString:function(){return"[object "+a(this)+"]"}},(s,n,t)=>{var e=t(9),a=t(39),o=t(10),c=t(27),l=t(14),b=t(108),C=t(50),N=t(109),L=t(84),W=t(83),w=t(110),R=t(34),O=t(25),P=t(24),B=t(111),k=t(51),U=t(87),p=t(112),d=t(113),f=t(116).set,m=t(121),g=t(124),h=t(126),_=t(125),x=t(127),z=t(52),D=t(68),$=t(37),ee=t(128),Z=t(120),ie=t(31),V=$("species"),Y="Promise",E=z.getterFor(Y),y=z.set,A=z.getterFor(Y),I=b&&b.prototype,q=b,re=I,X=o.TypeError,be=o.document,Pe=o.process,we=_.f,H=we,F=!!(be&&be.createEvent&&o.dispatchEvent),v=O(o.PromiseRejectionEvent),u="unhandledrejection",S="rejectionhandled",M=0,j=1,J=2,le=1,ve=2,ye=!1,pe,_e,ke,Ee,Fe=D(Y,function(){var Q=k(q),he=Q!==String(q);if(!he&&ie===66||a&&!re.finally)return!0;if(ie>=51&&/native code/.test(Q))return!1;var ce=new q(function(De){De(1)}),Se=function(De){De(function(){},function(){})},Re=ce.constructor={};return Re[V]=Se,ye=ce.then(function(){})instanceof Se,ye?!he&&ee&&!v:!0}),Ie=Fe||!p(function(Q){q.all(Q).catch(function(){})}),We=function(Q){var he;return P(Q)&&O(he=Q.then)?he:!1},Ue=function(Q,he){if(!Q.notified){Q.notified=!0;var ce=Q.reactions;m(function(){for(var Se=Q.value,Re=Q.state==j,De=0;ce.length>De;){var Le=ce[De++],Ae=Re?Le.ok:Le.fail,Ge=Le.resolve,xe=Le.reject,Oe=Le.domain,Be,Ne,Ve;try{Ae?(Re||(Q.rejection===ve&&te(Q),Q.rejection=le),Ae===!0?Be=Se:(Oe&&Oe.enter(),Be=Ae(Se),Oe&&(Oe.exit(),Ve=!0)),Be===Le.promise?xe(X("Promise-chain cycle")):(Ne=We(Be))?l(Ne,Be,Ge,xe):Ge(Be)):xe(Se)}catch(Ye){Oe&&!Ve&&Oe.exit(),xe(Ye)}}Q.reactions=[],Q.notified=!1,he&&!Q.rejection&&de(Q)})}},fe=function(Q,he,ce){var Se,Re;F?(Se=be.createEvent("Event"),Se.promise=he,Se.reason=ce,Se.initEvent(Q,!1,!0),o.dispatchEvent(Se)):Se={promise:he,reason:ce},!v&&(Re=o["on"+Q])?Re(Se):Q===u&&h("Unhandled promise rejection",ce)},de=function(Q){l(f,o,function(){var he=Q.facade,ce=Q.value,Se=G(Q),Re;if(Se&&(Re=x(function(){Z?Pe.emit("unhandledRejection",ce,he):fe(u,he,ce)}),Q.rejection=Z||G(Q)?ve:le,Re.error))throw Re.value})},G=function(Q){return Q.rejection!==le&&!Q.parent},te=function(Q){l(f,o,function(){var he=Q.facade;Z?Pe.emit("rejectionHandled",he):fe(S,he,Q.value)})},K=function(Q,he,ce){return function(Se){Q(he,Se,ce)}},oe=function(Q,he,ce){Q.done||(Q.done=!0,ce&&(Q=ce),Q.value=he,Q.state=J,Ue(Q,!0))},ne=function(Q,he,ce){if(!Q.done){Q.done=!0,ce&&(Q=ce);try{if(Q.facade===he)throw X("Promise can't be resolved itself");var Se=We(he);Se?m(function(){var Re={done:!1};try{l(Se,he,K(ne,Re,Q),K(oe,Re,Q))}catch(De){oe(Re,De,Q)}}):(Q.value=he,Q.state=j,Ue(Q,!1))}catch(Re){oe({done:!1},Re,Q)}}};if(Fe&&(q=function(he){B(this,re),R(he),l(pe,this);var ce=E(this);try{he(K(ne,ce),K(oe,ce))}catch(Se){oe(ce,Se)}},re=q.prototype,pe=function(he){y(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:M,value:void 0})},pe.prototype=N(re,{then:function(he,ce){var Se=A(this),Re=Se.reactions,De=we(d(this,q));return De.ok=O(he)?he:!0,De.fail=O(ce)&&ce,De.domain=Z?Pe.domain:void 0,Se.parent=!0,Re[Re.length]=De,Se.state!=M&&Ue(Se,!1),De.promise},catch:function(Q){return this.then(void 0,Q)}}),_e=function(){var Q=new pe,he=E(Q);this.promise=Q,this.resolve=K(ne,he),this.reject=K(oe,he)},_.f=we=function(Q){return Q===q||Q===ke?new _e(Q):H(Q)},!a&&O(b)&&I!==Object.prototype)){Ee=I.then,ye||(C(I,"then",function(he,ce){var Se=this;return new q(function(Re,De){l(Ee,Se,Re,De)}).then(he,ce)},{unsafe:!0}),C(I,"catch",re.catch,{unsafe:!0}));try{delete I.constructor}catch{}L&&L(I,re)}e({global:!0,wrap:!0,forced:Fe},{Promise:q}),W(q,Y,!1,!0),w(Y),ke=c(Y),e({target:Y,stat:!0,forced:Fe},{reject:function(he){var ce=we(this);return l(ce.reject,void 0,he),ce.promise}}),e({target:Y,stat:!0,forced:a||Fe},{resolve:function(he){return g(a&&this===ke?q:this,he)}}),e({target:Y,stat:!0,forced:Ie},{all:function(he){var ce=this,Se=we(ce),Re=Se.resolve,De=Se.reject,Le=x(function(){var Ae=R(ce.resolve),Ge=[],xe=0,Oe=1;U(he,function(Be){var Ne=xe++,Ve=!1;Oe++,l(Ae,ce,Be).then(function(Ye){Ve||(Ve=!0,Ge[Ne]=Ye,--Oe||Re(Ge))},De)}),--Oe||Re(Ge)});return Le.error&&De(Le.value),Se.promise},race:function(he){var ce=this,Se=we(ce),Re=Se.reject,De=x(function(){var Le=R(ce.resolve);U(he,function(Ae){l(Le,ce,Ae).then(Se.resolve,Re)})});return De.error&&Re(De.value),Se.promise}})},(s,n,t)=>{var e=t(10);s.exports=e.Promise},(s,n,t)=>{var e=t(50);s.exports=function(a,o,c){for(var l in o)e(a,l,o[l],c);return a}},(s,n,t)=>{var e=t(27),a=t(48),o=t(37),c=t(12),l=o("species");s.exports=function(b){var C=e(b),N=a.f;c&&C&&!C[l]&&N(C,l,{configurable:!0,get:function(){return this}})}},(s,n,t)=>{var e=t(10),a=t(28),o=e.TypeError;s.exports=function(c,l){if(a(l,c))return c;throw o("Incorrect invocation")}},(s,n,t)=>{var e=t(37),a=e("iterator"),o=!1;try{var c=0,l={next:function(){return{done:!!c++}},return:function(){o=!0}};l[a]=function(){return this},Array.from(l,function(){throw 2})}catch{}s.exports=function(b,C){if(!C&&!o)return!1;var N=!1;try{var L={};L[a]=function(){return{next:function(){return{done:N=!0}}}},b(L)}catch{}return N}},(s,n,t)=>{var e=t(49),a=t(114),o=t(37),c=o("species");s.exports=function(l,b){var C=e(l).constructor,N;return C===void 0||(N=e(C)[c])==null?b:a(N)}},(s,n,t)=>{var e=t(10),a=t(115),o=t(35),c=e.TypeError;s.exports=function(l){if(a(l))return l;throw c(o(l)+" is not a constructor")}},(s,n,t)=>{var e=t(19),a=t(13),o=t(25),c=t(92),l=t(27),b=t(51),C=function(){},N=[],L=l("Reflect","construct"),W=/^\s*(?:class|function)\b/,w=e(W.exec),R=!W.exec(C),O=function(B){if(!o(B))return!1;try{return L(C,N,B),!0}catch{return!1}},P=function(B){if(!o(B))return!1;switch(c(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R||!!w(W,b(B))};s.exports=!L||a(function(){var B;return O(O.call)||!O(Object)||!O(function(){B=!0})||B})?P:O},(s,n,t)=>{var e=t(10),a=t(117),o=t(88),c=t(25),l=t(42),b=t(13),C=t(76),N=t(118),L=t(46),W=t(119),w=t(120),R=e.setImmediate,O=e.clearImmediate,P=e.process,B=e.Dispatch,k=e.Function,U=e.MessageChannel,p=e.String,d=0,f={},m="onreadystatechange",g,h,_,x;try{g=e.location}catch{}var z=function(Z){if(l(f,Z)){var ie=f[Z];delete f[Z],ie()}},D=function(Z){return function(){z(Z)}},$=function(Z){z(Z.data)},ee=function(Z){e.postMessage(p(Z),g.protocol+"//"+g.host)};(!R||!O)&&(R=function(ie){var V=N(arguments,1);return f[++d]=function(){a(c(ie)?ie:k(ie),void 0,V)},h(d),d},O=function(ie){delete f[ie]},w?h=function(Z){P.nextTick(D(Z))}:B&&B.now?h=function(Z){B.now(D(Z))}:U&&!W?(_=new U,x=_.port2,_.port1.onmessage=$,h=o(x.postMessage,x)):e.addEventListener&&c(e.postMessage)&&!e.importScripts&&g&&g.protocol!=="file:"&&!b(ee)?(h=ee,e.addEventListener("message",$,!1)):m in L("script")?h=function(Z){C.appendChild(L("script"))[m]=function(){C.removeChild(this),z(Z)}}:h=function(Z){setTimeout(D(Z),0)}),s.exports={set:R,clear:O}},s=>{var n=Function.prototype,t=n.apply,e=n.bind,a=n.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(e?a.bind(t):function(){return a.apply(t,arguments)})},(s,n,t)=>{var e=t(19);s.exports=e([].slice)},(s,n,t)=>{var e=t(32);s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(e)},(s,n,t)=>{var e=t(20),a=t(10);s.exports=e(a.process)=="process"},(s,n,t)=>{var e=t(10),a=t(88),o=t(11).f,c=t(116).set,l=t(119),b=t(122),C=t(123),N=t(120),L=e.MutationObserver||e.WebKitMutationObserver,W=e.document,w=e.process,R=e.Promise,O=o(e,"queueMicrotask"),P=O&&O.value,B,k,U,p,d,f,m,g;P||(B=function(){var h,_;for(N&&(h=w.domain)&&h.exit();k;){_=k.fn,k=k.next;try{_()}catch(x){throw k?p():U=void 0,x}}U=void 0,h&&h.enter()},!l&&!N&&!C&&L&&W?(d=!0,f=W.createTextNode(""),new L(B).observe(f,{characterData:!0}),p=function(){f.data=d=!d}):!b&&R&&R.resolve?(m=R.resolve(void 0),m.constructor=R,g=a(m.then,m),p=function(){g(B)}):N?p=function(){w.nextTick(B)}:(c=a(c,e),p=function(){c(B)})),s.exports=P||function(h){var _={fn:h,next:void 0};U&&(U.next=_),k||(k=_,p()),U=_}},(s,n,t)=>{var e=t(32),a=t(10);s.exports=/ipad|iphone|ipod/i.test(e)&&a.Pebble!==void 0},(s,n,t)=>{var e=t(32);s.exports=/web0s(?!.*chrome)/i.test(e)},(s,n,t)=>{var e=t(49),a=t(24),o=t(125);s.exports=function(c,l){if(e(c),a(l)&&l.constructor===c)return l;var b=o.f(c),C=b.resolve;return C(l),b.promise}},(s,n,t)=>{var e=t(34),a=function(o){var c,l;this.promise=new o(function(b,C){if(c!==void 0||l!==void 0)throw TypeError("Bad Promise constructor");c=b,l=C}),this.resolve=e(c),this.reject=e(l)};s.exports.f=function(o){return new a(o)}},(s,n,t)=>{var e=t(10);s.exports=function(a,o){var c=e.console;c&&c.error&&(arguments.length==1?c.error(a):c.error(a,o))}},s=>{s.exports=function(n){try{return{error:!1,value:n()}}catch(t){return{error:!0,value:t}}}},s=>{s.exports=typeof window=="object"},(s,n,t)=>{var e=t(9),a=t(14),o=t(34),c=t(125),l=t(127),b=t(87);e({target:"Promise",stat:!0},{allSettled:function(N){var L=this,W=c.f(L),w=W.resolve,R=W.reject,O=l(function(){var P=o(L.resolve),B=[],k=0,U=1;b(N,function(p){var d=k++,f=!1;U++,a(P,L,p).then(function(m){f||(f=!0,B[d]={status:"fulfilled",value:m},--U||w(B))},function(m){f||(f=!0,B[d]={status:"rejected",reason:m},--U||w(B))})}),--U||w(B)});return O.error&&R(O.value),W.promise}})},(s,n,t)=>{var e=t(9),a=t(34),o=t(27),c=t(14),l=t(125),b=t(127),C=t(87),N="No one promise resolved";e({target:"Promise",stat:!0},{any:function(W){var w=this,R=o("AggregateError"),O=l.f(w),P=O.resolve,B=O.reject,k=b(function(){var U=a(w.resolve),p=[],d=0,f=1,m=!1;C(W,function(g){var h=d++,_=!1;f++,c(U,w,g).then(function(x){_||m||(m=!0,P(x))},function(x){_||m||(_=!0,p[h]=x,--f||B(new R(p,N)))})}),--f||B(new R(p,N))});return k.error&&B(k.value),O.promise}})},(s,n,t)=>{var e=t(9),a=t(39),o=t(108),c=t(13),l=t(27),b=t(25),C=t(113),N=t(124),L=t(50),W=!!o&&c(function(){o.prototype.finally.call({then:function(){}},function(){})});if(e({target:"Promise",proto:!0,real:!0,forced:W},{finally:function(R){var O=C(this,l("Promise")),P=b(R);return this.then(P?function(B){return N(O,R()).then(function(){return B})}:R,P?function(B){return N(O,R()).then(function(){throw B})}:R)}}),!a&&b(o)){var w=l("Promise").prototype.finally;o.prototype.finally!==w&&L(o.prototype,"finally",w,{unsafe:!0})}},(s,n,t)=>{var e=t(133).charAt,a=t(103),o=t(52),c=t(78),l="String Iterator",b=o.set,C=o.getterFor(l);c(String,"String",function(N){b(this,{type:l,string:a(N),index:0})},function(){var L=C(this),W=L.string,w=L.index,R;return w>=W.length?{value:void 0,done:!0}:(R=e(W,w),L.index+=R.length,{value:R,done:!1})})},(s,n,t)=>{var e=t(19),a=t(63),o=t(103),c=t(21),l=e("".charAt),b=e("".charCodeAt),C=e("".slice),N=function(L){return function(W,w){var R=o(c(W)),O=a(w),P=R.length,B,k;return O<0||O>=P?L?"":void 0:(B=b(R,O),B<55296||B>56319||O+1===P||(k=b(R,O+1))<56320||k>57343?L?l(R,O):B:L?C(R,O,O+2):(B-55296<<10)+(k-56320)+65536)}};s.exports={codeAt:N(!1),charAt:N(!0)}},function(s,n){(function(t,e){e(n)})(this,function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(r){return"Symbol("+r+")"};function a(){}function o(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof commonjsGlobal!="undefined")return commonjsGlobal}var c=o();function l(r){return typeof r=="object"&&r!==null||typeof r=="function"}var b=a,C=Promise,N=Promise.prototype.then,L=Promise.resolve.bind(C),W=Promise.reject.bind(C);function w(r){return new C(r)}function R(r){return L(r)}function O(r){return W(r)}function P(r,i,T){return N.call(r,i,T)}function B(r,i,T){P(P(r,i,T),void 0,b)}function k(r,i){B(r,i)}function U(r,i){B(r,void 0,i)}function p(r,i,T){return P(r,i,T)}function d(r){P(r,void 0,b)}var f=function(){var r=c&&c.queueMicrotask;if(typeof r=="function")return r;var i=R(void 0);return function(T){return P(i,T)}}();function m(r,i,T){if(typeof r!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(r,i,T)}function g(r,i,T){try{return R(m(r,i,T))}catch(ae){return O(ae)}}var h=16384,_=function(){function r(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),r.prototype.push=function(i){var T=this._back,ae=T;T._elements.length===h-1&&(ae={_elements:[],_next:void 0}),T._elements.push(i),ae!==T&&(this._back=ae,T._next=ae),++this._size},r.prototype.shift=function(){var i=this._front,T=i,ae=this._cursor,me=ae+1,Ce=i._elements,Me=Ce[ae];return me===h&&(T=i._next,me=0),--this._size,this._cursor=me,i!==T&&(this._front=T),Ce[ae]=void 0,Me},r.prototype.forEach=function(i){for(var T=this._cursor,ae=this._front,me=ae._elements;(T!==me.length||ae._next!==void 0)&&!(T===me.length&&(ae=ae._next,me=ae._elements,T=0,me.length===0));)i(me[T]),++T},r.prototype.peek=function(){var i=this._front,T=this._cursor;return i._elements[T]},r}();function x(r,i){r._ownerReadableStream=i,i._reader=r,i._state==="readable"?ee(r):i._state==="closed"?ie(r):Z(r,i._storedError)}function z(r,i){var T=r._ownerReadableStream;return bt(T,i)}function D(r){r._ownerReadableStream._state==="readable"?V(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Y(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),r._ownerReadableStream._reader=void 0,r._ownerReadableStream=void 0}function $(r){return new TypeError("Cannot "+r+" a stream using a released reader")}function ee(r){r._closedPromise=w(function(i,T){r._closedPromise_resolve=i,r._closedPromise_reject=T})}function Z(r,i){ee(r),V(r,i)}function ie(r){ee(r),E(r)}function V(r,i){r._closedPromise_reject!==void 0&&(d(r._closedPromise),r._closedPromise_reject(i),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}function Y(r,i){Z(r,i)}function E(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}var y=e("[[AbortSteps]]"),A=e("[[ErrorSteps]]"),I=e("[[CancelSteps]]"),q=e("[[PullSteps]]"),re=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},X=Math.trunc||function(r){return r<0?Math.ceil(r):Math.floor(r)};function be(r){return typeof r=="object"||typeof r=="function"}function Pe(r,i){if(r!==void 0&&!be(r))throw new TypeError(i+" is not an object.")}function we(r,i){if(typeof r!="function")throw new TypeError(i+" is not a function.")}function H(r){return typeof r=="object"&&r!==null||typeof r=="function"}function F(r,i){if(!H(r))throw new TypeError(i+" is not an object.")}function v(r,i,T){if(r===void 0)throw new TypeError("Parameter "+i+" is required in '"+T+"'.")}function u(r,i,T){if(r===void 0)throw new TypeError(i+" is required in '"+T+"'.")}function S(r){return Number(r)}function M(r){return r===0?0:r}function j(r){return M(X(r))}function J(r,i){var T=0,ae=Number.MAX_SAFE_INTEGER,me=Number(r);if(me=M(me),!re(me))throw new TypeError(i+" is not a finite number");if(me=j(me),me<T||me>ae)throw new TypeError(i+" is outside the accepted range of "+T+" to "+ae+", inclusive");return!re(me)||me===0?0:me}function le(r,i){if(!Nt(r))throw new TypeError(i+" is not a ReadableStream.")}function ve(r){return new Ee(r)}function ye(r,i){r._reader._readRequests.push(i)}function pe(r,i,T){var ae=r._reader,me=ae._readRequests.shift();T?me._closeSteps():me._chunkSteps(i)}function _e(r){return r._reader._readRequests.length}function ke(r){var i=r._reader;return!(i===void 0||!Fe(i))}var Ee=function(){function r(i){if(v(i,1,"ReadableStreamDefaultReader"),le(i,"First parameter"),Bt(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");x(this,i),this._readRequests=new _}return Object.defineProperty(r.prototype,"closed",{get:function(){return Fe(this)?this._closedPromise:O(We("closed"))},enumerable:!1,configurable:!0}),r.prototype.cancel=function(i){return i===void 0&&(i=void 0),Fe(this)?this._ownerReadableStream===void 0?O($("cancel")):z(this,i):O(We("cancel"))},r.prototype.read=function(){if(!Fe(this))return O(We("read"));if(this._ownerReadableStream===void 0)return O($("read from"));var i,T,ae=w(function(Ce,Me){i=Ce,T=Me}),me={_chunkSteps:function(Ce){return i({value:Ce,done:!1})},_closeSteps:function(){return i({value:void 0,done:!0})},_errorSteps:function(Ce){return T(Ce)}};return Ie(this,me),ae},r.prototype.releaseLock=function(){if(!Fe(this))throw We("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},r}();Object.defineProperties(Ee.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ee.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Fe(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_readRequests")?!1:r instanceof Ee}function Ie(r,i){var T=r._ownerReadableStream;T._disturbed=!0,T._state==="closed"?i._closeSteps():T._state==="errored"?i._errorSteps(T._storedError):T._readableStreamController[q](i)}function We(r){return new TypeError("ReadableStreamDefaultReader.prototype."+r+" can only be used on a ReadableStreamDefaultReader")}var Ue,fe;typeof e.asyncIterator=="symbol"&&(fe=(Ue={},Ue[e.asyncIterator]=function(){return this},Ue),Object.defineProperty(fe,e.asyncIterator,{enumerable:!1}));var de=function(){function r(i,T){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=i,this._preventCancel=T}return r.prototype.next=function(){var i=this,T=function(){return i._nextSteps()};return this._ongoingPromise=this._ongoingPromise?p(this._ongoingPromise,T,T):T(),this._ongoingPromise},r.prototype.return=function(i){var T=this,ae=function(){return T._returnSteps(i)};return this._ongoingPromise?p(this._ongoingPromise,ae,ae):ae()},r.prototype._nextSteps=function(){var i=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var T=this._reader;if(T._ownerReadableStream===void 0)return O($("iterate"));var ae,me,Ce=w(function(He,Ke){ae=He,me=Ke}),Me={_chunkSteps:function(He){i._ongoingPromise=void 0,f(function(){return ae({value:He,done:!1})})},_closeSteps:function(){i._ongoingPromise=void 0,i._isFinished=!0,D(T),ae({value:void 0,done:!0})},_errorSteps:function(He){i._ongoingPromise=void 0,i._isFinished=!0,D(T),me(He)}};return Ie(T,Me),Ce},r.prototype._returnSteps=function(i){if(this._isFinished)return Promise.resolve({value:i,done:!0});this._isFinished=!0;var T=this._reader;if(T._ownerReadableStream===void 0)return O($("finish iterating"));if(!this._preventCancel){var ae=z(T,i);return D(T),p(ae,function(){return{value:i,done:!0}})}return D(T),R({value:i,done:!0})},r}(),G={next:function(){return K(this)?this._asyncIteratorImpl.next():O(oe("next"))},return:function(r){return K(this)?this._asyncIteratorImpl.return(r):O(oe("return"))}};fe!==void 0&&Object.setPrototypeOf(G,fe);function te(r,i){var T=ve(r),ae=new de(T,i),me=Object.create(G);return me._asyncIteratorImpl=ae,me}function K(r){if(!l(r)||!Object.prototype.hasOwnProperty.call(r,"_asyncIteratorImpl"))return!1;try{return r._asyncIteratorImpl instanceof de}catch{return!1}}function oe(r){return new TypeError("ReadableStreamAsyncIterator."+r+" can only be used on a ReadableSteamAsyncIterator")}var ne=Number.isNaN||function(r){return r!==r};function Q(r){return r.slice()}function he(r,i,T,ae,me){new Uint8Array(r).set(new Uint8Array(T,ae,me),i)}function ce(r){return r}function Se(r){return!1}function Re(r,i,T){if(r.slice)return r.slice(i,T);var ae=T-i,me=new ArrayBuffer(ae);return he(me,0,r,i,ae),me}function De(r){return!(typeof r!="number"||ne(r)||r<0)}function Le(r){var i=Re(r.buffer,r.byteOffset,r.byteOffset+r.byteLength);return new Uint8Array(i)}function Ae(r){var i=r._queue.shift();return r._queueTotalSize-=i.size,r._queueTotalSize<0&&(r._queueTotalSize=0),i.value}function Ge(r,i,T){if(!De(T)||T===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");r._queue.push({value:i,size:T}),r._queueTotalSize+=T}function xe(r){var i=r._queue.peek();return i.value}function Oe(r){r._queue=new _,r._queueTotalSize=0}var Be=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"view",{get:function(){if(!Ye(this))throw It("view");return this._view},enumerable:!1,configurable:!0}),r.prototype.respond=function(i){if(!Ye(this))throw It("respond");if(v(i,1,"respond"),i=J(i,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Se(this._view.buffer),ot(this._associatedReadableByteStreamController,i)},r.prototype.respondWithNewView=function(i){if(!Ye(this))throw It("respondWithNewView");if(v(i,1,"respondWithNewView"),!ArrayBuffer.isView(i))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Se(i.buffer),vt(this._associatedReadableByteStreamController,i)},r}();Object.defineProperties(Be.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Be.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Ne=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"byobRequest",{get:function(){if(!Ve(this))throw at("byobRequest");return qe(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!Ve(this))throw at("desiredSize");return nt(this)},enumerable:!1,configurable:!0}),r.prototype.close=function(){if(!Ve(this))throw at("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError("The stream (in "+i+" state) is not in the readable state and cannot be closed");je(this)},r.prototype.enqueue=function(i){if(!Ve(this))throw at("enqueue");if(v(i,1,"enqueue"),!ArrayBuffer.isView(i))throw new TypeError("chunk must be an array buffer view");if(i.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(i.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var T=this._controlledReadableByteStream._state;if(T!=="readable")throw new TypeError("The stream (in "+T+" state) is not in the readable state and cannot be enqueued to");ze(this,i)},r.prototype.error=function(i){if(i===void 0&&(i=void 0),!Ve(this))throw at("error");$e(this,i)},r.prototype[I]=function(i){rt(this),Oe(this);var T=this._cancelAlgorithm(i);return ge(this),T},r.prototype[q]=function(i){var T=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ae=this._queue.shift();this._queueTotalSize-=ae.byteLength,xt(this);var me=new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength);i._chunkSteps(me);return}var Ce=this._autoAllocateChunkSize;if(Ce!==void 0){var Me=void 0;try{Me=new ArrayBuffer(Ce)}catch(Ke){i._errorSteps(Ke);return}var He={buffer:Me,bufferByteLength:Ce,byteOffset:0,byteLength:Ce,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(He)}ye(T,i),Je(this)},r}();Object.defineProperties(Ne.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ne.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ve(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableByteStream")?!1:r instanceof Ne}function Ye(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_associatedReadableByteStreamController")?!1:r instanceof Be}function Je(r){var i=se(r);if(!!i){if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;var T=r._pullAlgorithm();B(T,function(){r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,Je(r))},function(ae){$e(r,ae)})}}function rt(r){Ot(r),r._pendingPullIntos=new _}function it(r,i){var T=!1;r._state==="closed"&&(T=!0);var ae=yt(i);i.readerType==="default"?pe(r,ae,T):nr(r,ae,T)}function yt(r){var i=r.bytesFilled,T=r.elementSize;return new r.viewConstructor(r.buffer,r.byteOffset,i/T)}function ht(r,i,T,ae){r._queue.push({buffer:i,byteOffset:T,byteLength:ae}),r._queueTotalSize+=ae}function Rt(r,i){var T=i.elementSize,ae=i.bytesFilled-i.bytesFilled%T,me=Math.min(r._queueTotalSize,i.byteLength-i.bytesFilled),Ce=i.bytesFilled+me,Me=Ce-Ce%T,He=me,Ke=!1;Me>ae&&(He=Me-i.bytesFilled,Ke=!0);for(var Qe=r._queue;He>0;){var Ze=Qe.peek(),et=Math.min(He,Ze.byteLength),ct=i.byteOffset+i.bytesFilled;he(i.buffer,ct,Ze.buffer,Ze.byteOffset,et),Ze.byteLength===et?Qe.shift():(Ze.byteOffset+=et,Ze.byteLength-=et),r._queueTotalSize-=et,Xt(r,et,i),He-=et}return Ke}function Xt(r,i,T){T.bytesFilled+=i}function xt(r){r._queueTotalSize===0&&r._closeRequested?(ge(r),cr(r._controlledReadableByteStream)):Je(r)}function Ot(r){r._byobRequest!==null&&(r._byobRequest._associatedReadableByteStreamController=void 0,r._byobRequest._view=null,r._byobRequest=null)}function Ft(r){for(;r._pendingPullIntos.length>0;){if(r._queueTotalSize===0)return;var i=r._pendingPullIntos.peek();Rt(r,i)&&(Te(r),it(r._controlledReadableByteStream,i))}}function Yt(r,i,T){var ae=r._controlledReadableByteStream,me=1;i.constructor!==DataView&&(me=i.constructor.BYTES_PER_ELEMENT);var Ce=i.constructor,Me=i.buffer,He={buffer:Me,bufferByteLength:Me.byteLength,byteOffset:i.byteOffset,byteLength:i.byteLength,bytesFilled:0,elementSize:me,viewConstructor:Ce,readerType:"byob"};if(r._pendingPullIntos.length>0){r._pendingPullIntos.push(He),Gt(ae,T);return}if(ae._state==="closed"){var Ke=new Ce(He.buffer,He.byteOffset,0);T._closeSteps(Ke);return}if(r._queueTotalSize>0){if(Rt(r,He)){var Qe=yt(He);xt(r),T._chunkSteps(Qe);return}if(r._closeRequested){var Ze=new TypeError("Insufficient bytes to fill elements in the given buffer");$e(r,Ze),T._errorSteps(Ze);return}}r._pendingPullIntos.push(He),Gt(ae,T),Je(r)}function _t(r,i){var T=r._controlledReadableByteStream;if(zt(T))for(;qt(T)>0;){var ae=Te(r);it(T,ae)}}function wt(r,i,T){if(Xt(r,i,T),!(T.bytesFilled<T.elementSize)){Te(r);var ae=T.bytesFilled%T.elementSize;if(ae>0){var me=T.byteOffset+T.bytesFilled,Ce=Re(T.buffer,me-ae,me);ht(r,Ce,0,Ce.byteLength)}T.bytesFilled-=ae,it(r._controlledReadableByteStream,T),Ft(r)}}function ue(r,i){var T=r._pendingPullIntos.peek();Ot(r);var ae=r._controlledReadableByteStream._state;ae==="closed"?_t(r):wt(r,i,T),Je(r)}function Te(r){var i=r._pendingPullIntos.shift();return i}function se(r){var i=r._controlledReadableByteStream;if(i._state!=="readable"||r._closeRequested||!r._started)return!1;if(ke(i)&&_e(i)>0||zt(i)&&qt(i)>0)return!0;var T=nt(r);return T>0}function ge(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0}function je(r){var i=r._controlledReadableByteStream;if(!(r._closeRequested||i._state!=="readable")){if(r._queueTotalSize>0){r._closeRequested=!0;return}if(r._pendingPullIntos.length>0){var T=r._pendingPullIntos.peek();if(T.bytesFilled>0){var ae=new TypeError("Insufficient bytes to fill elements in the given buffer");throw $e(r,ae),ae}}ge(r),cr(i)}}function ze(r,i){var T=r._controlledReadableByteStream;if(!(r._closeRequested||T._state!=="readable")){var ae=i.buffer,me=i.byteOffset,Ce=i.byteLength,Me=ae;if(r._pendingPullIntos.length>0){var He=r._pendingPullIntos.peek();Se(He.buffer),He.buffer=He.buffer}if(Ot(r),ke(T))if(_e(T)===0)ht(r,Me,me,Ce);else{r._pendingPullIntos.length>0&&Te(r);var Ke=new Uint8Array(Me,me,Ce);pe(T,Ke,!1)}else zt(T)?(ht(r,Me,me,Ce),Ft(r)):ht(r,Me,me,Ce);Je(r)}}function $e(r,i){var T=r._controlledReadableByteStream;T._state==="readable"&&(rt(r),Oe(r),ge(r),bn(T,i))}function qe(r){if(r._byobRequest===null&&r._pendingPullIntos.length>0){var i=r._pendingPullIntos.peek(),T=new Uint8Array(i.buffer,i.byteOffset+i.bytesFilled,i.byteLength-i.bytesFilled),ae=Object.create(Be.prototype);gt(ae,r,T),r._byobRequest=ae}return r._byobRequest}function nt(r){var i=r._controlledReadableByteStream._state;return i==="errored"?null:i==="closed"?0:r._strategyHWM-r._queueTotalSize}function ot(r,i){var T=r._pendingPullIntos.peek(),ae=r._controlledReadableByteStream._state;if(ae==="closed"){if(i!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(i===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(T.bytesFilled+i>T.byteLength)throw new RangeError("bytesWritten out of range")}T.buffer=T.buffer,ue(r,i)}function vt(r,i){var T=r._pendingPullIntos.peek(),ae=r._controlledReadableByteStream._state;if(ae==="closed"){if(i.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(i.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(T.byteOffset+T.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(T.bufferByteLength!==i.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(T.bytesFilled+i.byteLength>T.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var me=i.byteLength;T.buffer=i.buffer,ue(r,me)}function ft(r,i,T,ae,me,Ce,Me){i._controlledReadableByteStream=r,i._pullAgain=!1,i._pulling=!1,i._byobRequest=null,i._queue=i._queueTotalSize=void 0,Oe(i),i._closeRequested=!1,i._started=!1,i._strategyHWM=Ce,i._pullAlgorithm=ae,i._cancelAlgorithm=me,i._autoAllocateChunkSize=Me,i._pendingPullIntos=new _,r._readableStreamController=i;var He=T();B(R(He),function(){i._started=!0,Je(i)},function(Ke){$e(i,Ke)})}function At(r,i,T){var ae=Object.create(Ne.prototype),me=function(){},Ce=function(){return R(void 0)},Me=function(){return R(void 0)};i.start!==void 0&&(me=function(){return i.start(ae)}),i.pull!==void 0&&(Ce=function(){return i.pull(ae)}),i.cancel!==void 0&&(Me=function(Ke){return i.cancel(Ke)});var He=i.autoAllocateChunkSize;if(He===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");ft(r,ae,me,Ce,Me,T,He)}function gt(r,i,T){r._associatedReadableByteStreamController=i,r._view=T}function It(r){return new TypeError("ReadableStreamBYOBRequest.prototype."+r+" can only be used on a ReadableStreamBYOBRequest")}function at(r){return new TypeError("ReadableByteStreamController.prototype."+r+" can only be used on a ReadableByteStreamController")}function Ut(r){return new mt(r)}function Gt(r,i){r._reader._readIntoRequests.push(i)}function nr(r,i,T){var ae=r._reader,me=ae._readIntoRequests.shift();T?me._closeSteps(i):me._chunkSteps(i)}function qt(r){return r._reader._readIntoRequests.length}function zt(r){var i=r._reader;return!(i===void 0||!lt(i))}var mt=function(){function r(i){if(v(i,1,"ReadableStreamBYOBReader"),le(i,"First parameter"),Bt(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ve(i._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");x(this,i),this._readIntoRequests=new _}return Object.defineProperty(r.prototype,"closed",{get:function(){return lt(this)?this._closedPromise:O(hr("closed"))},enumerable:!1,configurable:!0}),r.prototype.cancel=function(i){return i===void 0&&(i=void 0),lt(this)?this._ownerReadableStream===void 0?O($("cancel")):z(this,i):O(hr("cancel"))},r.prototype.read=function(i){if(!lt(this))return O(hr("read"));if(!ArrayBuffer.isView(i))return O(new TypeError("view must be an array buffer view"));if(i.byteLength===0)return O(new TypeError("view must have non-zero byteLength"));if(i.buffer.byteLength===0)return O(new TypeError("view's buffer must have non-zero byteLength"));if(Se(i.buffer),this._ownerReadableStream===void 0)return O($("read from"));var T,ae,me=w(function(Me,He){T=Me,ae=He}),Ce={_chunkSteps:function(Me){return T({value:Me,done:!1})},_closeSteps:function(Me){return T({value:Me,done:!0})},_errorSteps:function(Me){return ae(Me)}};return Mt(this,i,Ce),me},r.prototype.releaseLock=function(){if(!lt(this))throw hr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},r}();Object.defineProperties(mt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function lt(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_readIntoRequests")?!1:r instanceof mt}function Mt(r,i,T){var ae=r._ownerReadableStream;ae._disturbed=!0,ae._state==="errored"?T._errorSteps(ae._storedError):Yt(ae._readableStreamController,i,T)}function hr(r){return new TypeError("ReadableStreamBYOBReader.prototype."+r+" can only be used on a ReadableStreamBYOBReader")}function ar(r,i){var T=r.highWaterMark;if(T===void 0)return i;if(ne(T)||T<0)throw new RangeError("Invalid highWaterMark");return T}function vr(r){var i=r.size;return i||function(){return 1}}function pr(r,i){Pe(r,i);var T=r==null?void 0:r.highWaterMark,ae=r==null?void 0:r.size;return{highWaterMark:T===void 0?void 0:S(T),size:ae===void 0?void 0:In(ae,i+" has member 'size' that")}}function In(r,i){return we(r,i),function(T){return S(r(T))}}function Mn(r,i){Pe(r,i);var T=r==null?void 0:r.abort,ae=r==null?void 0:r.close,me=r==null?void 0:r.start,Ce=r==null?void 0:r.type,Me=r==null?void 0:r.write;return{abort:T===void 0?void 0:Dn(T,r,i+" has member 'abort' that"),close:ae===void 0?void 0:Ln(ae,r,i+" has member 'close' that"),start:me===void 0?void 0:Nn(me,r,i+" has member 'start' that"),write:Me===void 0?void 0:Bn(Me,r,i+" has member 'write' that"),type:Ce}}function Dn(r,i,T){return we(r,T),function(ae){return g(r,i,[ae])}}function Ln(r,i,T){return we(r,T),function(){return g(r,i,[])}}function Nn(r,i,T){return we(r,T),function(ae){return m(r,i,[ae])}}function Bn(r,i,T){return we(r,T),function(ae,me){return g(r,i,[ae,me])}}function Kr(r,i){if(!Kt(r))throw new TypeError(i+" is not a WritableStream.")}function Wn(r){if(typeof r!="object"||r===null)return!1;try{return typeof r.aborted=="boolean"}catch{return!1}}var jn=typeof AbortController=="function";function Un(){if(jn)return new AbortController}var ir=function(){function r(i,T){i===void 0&&(i={}),T===void 0&&(T={}),i===void 0?i=null:F(i,"First parameter");var ae=pr(T,"Second parameter"),me=Mn(i,"First parameter");Jr(this);var Ce=me.type;if(Ce!==void 0)throw new RangeError("Invalid type is specified");var Me=vr(ae),He=ar(ae,1);ta(this,me,He,Me)}return Object.defineProperty(r.prototype,"locked",{get:function(){if(!Kt(this))throw Sr("locked");return Qt(this)},enumerable:!1,configurable:!0}),r.prototype.abort=function(i){return i===void 0&&(i=void 0),Kt(this)?Qt(this)?O(new TypeError("Cannot abort a stream that already has a writer")):yr(this,i):O(Sr("abort"))},r.prototype.close=function(){return Kt(this)?Qt(this)?O(new TypeError("Cannot close a stream that already has a writer")):Pt(this)?O(new TypeError("Cannot close an already-closing stream")):Zr(this):O(Sr("close"))},r.prototype.getWriter=function(){if(!Kt(this))throw Sr("getWriter");return Qr(this)},r}();Object.defineProperties(ir.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(ir.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function Qr(r){return new or(r)}function Gn(r,i,T,ae,me,Ce){me===void 0&&(me=1),Ce===void 0&&(Ce=function(){return 1});var Me=Object.create(ir.prototype);Jr(Me);var He=Object.create(Jt.prototype);return on(Me,He,r,i,T,ae,me,Ce),Me}function Jr(r){r._state="writable",r._storedError=void 0,r._writer=void 0,r._writableStreamController=void 0,r._writeRequests=new _,r._inFlightWriteRequest=void 0,r._closeRequest=void 0,r._inFlightCloseRequest=void 0,r._pendingAbortRequest=void 0,r._backpressure=!1}function Kt(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_writableStreamController")?!1:r instanceof ir}function Qt(r){return r._writer!==void 0}function yr(r,i){var T;if(r._state==="closed"||r._state==="errored")return R(void 0);r._writableStreamController._abortReason=i,(T=r._writableStreamController._abortController)===null||T===void 0||T.abort();var ae=r._state;if(ae==="closed"||ae==="errored")return R(void 0);if(r._pendingAbortRequest!==void 0)return r._pendingAbortRequest._promise;var me=!1;ae==="erroring"&&(me=!0,i=void 0);var Ce=w(function(Me,He){r._pendingAbortRequest={_promise:void 0,_resolve:Me,_reject:He,_reason:i,_wasAlreadyErroring:me}});return r._pendingAbortRequest._promise=Ce,me||Lr(r,i),Ce}function Zr(r){var i=r._state;if(i==="closed"||i==="errored")return O(new TypeError("The stream (in "+i+" state) is not in the writable state and cannot be closed"));var T=w(function(me,Ce){var Me={_resolve:me,_reject:Ce};r._closeRequest=Me}),ae=r._writer;return ae!==void 0&&r._backpressure&&i==="writable"&&Vr(ae),ra(r._writableStreamController),T}function zn(r){var i=w(function(T,ae){var me={_resolve:T,_reject:ae};r._writeRequests.push(me)});return i}function Dr(r,i){var T=r._state;if(T==="writable"){Lr(r,i);return}Nr(r)}function Lr(r,i){var T=r._writableStreamController;r._state="erroring",r._storedError=i;var ae=r._writer;ae!==void 0&&tn(ae,i),!Yn(r)&&T._started&&Nr(r)}function Nr(r){r._state="errored",r._writableStreamController[A]();var i=r._storedError;if(r._writeRequests.forEach(function(me){me._reject(i)}),r._writeRequests=new _,r._pendingAbortRequest===void 0){gr(r);return}var T=r._pendingAbortRequest;if(r._pendingAbortRequest=void 0,T._wasAlreadyErroring){T._reject(i),gr(r);return}var ae=r._writableStreamController[y](T._reason);B(ae,function(){T._resolve(),gr(r)},function(me){T._reject(me),gr(r)})}function Hn(r){r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0}function Vn(r,i){r._inFlightWriteRequest._reject(i),r._inFlightWriteRequest=void 0,Dr(r,i)}function $n(r){r._inFlightCloseRequest._resolve(void 0),r._inFlightCloseRequest=void 0;var i=r._state;i==="erroring"&&(r._storedError=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._resolve(),r._pendingAbortRequest=void 0)),r._state="closed";var T=r._writer;T!==void 0&&cn(T)}function Xn(r,i){r._inFlightCloseRequest._reject(i),r._inFlightCloseRequest=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._reject(i),r._pendingAbortRequest=void 0),Dr(r,i)}function Pt(r){return!(r._closeRequest===void 0&&r._inFlightCloseRequest===void 0)}function Yn(r){return!(r._inFlightWriteRequest===void 0&&r._inFlightCloseRequest===void 0)}function qn(r){r._inFlightCloseRequest=r._closeRequest,r._closeRequest=void 0}function Kn(r){r._inFlightWriteRequest=r._writeRequests.shift()}function gr(r){r._closeRequest!==void 0&&(r._closeRequest._reject(r._storedError),r._closeRequest=void 0);var i=r._writer;i!==void 0&&zr(i,r._storedError)}function Br(r,i){var T=r._writer;T!==void 0&&i!==r._backpressure&&(i?la(T):Vr(T)),r._backpressure=i}var or=function(){function r(i){if(v(i,1,"WritableStreamDefaultWriter"),Kr(i,"First parameter"),Qt(i))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=i,i._writer=this;var T=i._state;if(T==="writable")!Pt(i)&&i._backpressure?Ar(this):fn(this),_r(this);else if(T==="erroring")Hr(this,i._storedError),_r(this);else if(T==="closed")fn(this),sa(this);else{var ae=i._storedError;Hr(this,ae),ln(this,ae)}}return Object.defineProperty(r.prototype,"closed",{get:function(){return Ht(this)?this._closedPromise:O(Vt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!Ht(this))throw Vt("desiredSize");if(this._ownerWritableStream===void 0)throw sr("desiredSize");return ea(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ready",{get:function(){return Ht(this)?this._readyPromise:O(Vt("ready"))},enumerable:!1,configurable:!0}),r.prototype.abort=function(i){return i===void 0&&(i=void 0),Ht(this)?this._ownerWritableStream===void 0?O(sr("abort")):Qn(this,i):O(Vt("abort"))},r.prototype.close=function(){if(!Ht(this))return O(Vt("close"));var i=this._ownerWritableStream;return i===void 0?O(sr("close")):Pt(i)?O(new TypeError("Cannot close an already-closing stream")):en(this)},r.prototype.releaseLock=function(){if(!Ht(this))throw Vt("releaseLock");var i=this._ownerWritableStream;i!==void 0&&rn(this)},r.prototype.write=function(i){return i===void 0&&(i=void 0),Ht(this)?this._ownerWritableStream===void 0?O(sr("write to")):nn(this,i):O(Vt("write"))},r}();Object.defineProperties(or.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(or.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ht(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_ownerWritableStream")?!1:r instanceof or}function Qn(r,i){var T=r._ownerWritableStream;return yr(T,i)}function en(r){var i=r._ownerWritableStream;return Zr(i)}function Jn(r){var i=r._ownerWritableStream,T=i._state;return Pt(i)||T==="closed"?R(void 0):T==="errored"?O(i._storedError):en(r)}function Zn(r,i){r._closedPromiseState==="pending"?zr(r,i):ua(r,i)}function tn(r,i){r._readyPromiseState==="pending"?dn(r,i):ca(r,i)}function ea(r){var i=r._ownerWritableStream,T=i._state;return T==="errored"||T==="erroring"?null:T==="closed"?0:sn(i._writableStreamController)}function rn(r){var i=r._ownerWritableStream,T=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");tn(r,T),Zn(r,T),i._writer=void 0,r._ownerWritableStream=void 0}function nn(r,i){var T=r._ownerWritableStream,ae=T._writableStreamController,me=na(ae,i);if(T!==r._ownerWritableStream)return O(sr("write to"));var Ce=T._state;if(Ce==="errored")return O(T._storedError);if(Pt(T)||Ce==="closed")return O(new TypeError("The stream is closing or closed and cannot be written to"));if(Ce==="erroring")return O(T._storedError);var Me=zn(T);return aa(ae,i,me),Me}var an={},Jt=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"abortReason",{get:function(){if(!Wr(this))throw Gr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"signal",{get:function(){if(!Wr(this))throw Gr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),r.prototype.error=function(i){if(i===void 0&&(i=void 0),!Wr(this))throw Gr("error");var T=this._controlledWritableStream._state;T==="writable"&&un(this,i)},r.prototype[y]=function(i){var T=this._abortAlgorithm(i);return mr(this),T},r.prototype[A]=function(){Oe(this)},r}();Object.defineProperties(Jt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Jt.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Wr(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream")?!1:r instanceof Jt}function on(r,i,T,ae,me,Ce,Me,He){i._controlledWritableStream=r,r._writableStreamController=i,i._queue=void 0,i._queueTotalSize=void 0,Oe(i),i._abortReason=void 0,i._abortController=Un(),i._started=!1,i._strategySizeAlgorithm=He,i._strategyHWM=Me,i._writeAlgorithm=ae,i._closeAlgorithm=me,i._abortAlgorithm=Ce;var Ke=Ur(i);Br(r,Ke);var Qe=T(),Ze=R(Qe);B(Ze,function(){i._started=!0,br(i)},function(et){i._started=!0,Dr(r,et)})}function ta(r,i,T,ae){var me=Object.create(Jt.prototype),Ce=function(){},Me=function(){return R(void 0)},He=function(){return R(void 0)},Ke=function(){return R(void 0)};i.start!==void 0&&(Ce=function(){return i.start(me)}),i.write!==void 0&&(Me=function(Qe){return i.write(Qe,me)}),i.close!==void 0&&(He=function(){return i.close()}),i.abort!==void 0&&(Ke=function(Qe){return i.abort(Qe)}),on(r,me,Ce,Me,He,Ke,T,ae)}function mr(r){r._writeAlgorithm=void 0,r._closeAlgorithm=void 0,r._abortAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function ra(r){Ge(r,an,0),br(r)}function na(r,i){try{return r._strategySizeAlgorithm(i)}catch(T){return jr(r,T),1}}function sn(r){return r._strategyHWM-r._queueTotalSize}function aa(r,i,T){try{Ge(r,i,T)}catch(Ce){jr(r,Ce);return}var ae=r._controlledWritableStream;if(!Pt(ae)&&ae._state==="writable"){var me=Ur(r);Br(ae,me)}br(r)}function br(r){var i=r._controlledWritableStream;if(!!r._started&&i._inFlightWriteRequest===void 0){var T=i._state;if(T==="erroring"){Nr(i);return}if(r._queue.length!==0){var ae=xe(r);ae===an?ia(r):oa(r,ae)}}}function jr(r,i){r._controlledWritableStream._state==="writable"&&un(r,i)}function ia(r){var i=r._controlledWritableStream;qn(i),Ae(r);var T=r._closeAlgorithm();mr(r),B(T,function(){$n(i)},function(ae){Xn(i,ae)})}function oa(r,i){var T=r._controlledWritableStream;Kn(T);var ae=r._writeAlgorithm(i);B(ae,function(){Hn(T);var me=T._state;if(Ae(r),!Pt(T)&&me==="writable"){var Ce=Ur(r);Br(T,Ce)}br(r)},function(me){T._state==="writable"&&mr(r),Vn(T,me)})}function Ur(r){var i=sn(r);return i<=0}function un(r,i){var T=r._controlledWritableStream;mr(r),Lr(T,i)}function Sr(r){return new TypeError("WritableStream.prototype."+r+" can only be used on a WritableStream")}function Gr(r){return new TypeError("WritableStreamDefaultController.prototype."+r+" can only be used on a WritableStreamDefaultController")}function Vt(r){return new TypeError("WritableStreamDefaultWriter.prototype."+r+" can only be used on a WritableStreamDefaultWriter")}function sr(r){return new TypeError("Cannot "+r+" a stream using a released writer")}function _r(r){r._closedPromise=w(function(i,T){r._closedPromise_resolve=i,r._closedPromise_reject=T,r._closedPromiseState="pending"})}function ln(r,i){_r(r),zr(r,i)}function sa(r){_r(r),cn(r)}function zr(r,i){r._closedPromise_reject!==void 0&&(d(r._closedPromise),r._closedPromise_reject(i),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="rejected")}function ua(r,i){ln(r,i)}function cn(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="resolved")}function Ar(r){r._readyPromise=w(function(i,T){r._readyPromise_resolve=i,r._readyPromise_reject=T}),r._readyPromiseState="pending"}function Hr(r,i){Ar(r),dn(r,i)}function fn(r){Ar(r),Vr(r)}function dn(r,i){r._readyPromise_reject!==void 0&&(d(r._readyPromise),r._readyPromise_reject(i),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="rejected")}function la(r){Ar(r)}function ca(r,i){Hr(r,i)}function Vr(r){r._readyPromise_resolve!==void 0&&(r._readyPromise_resolve(void 0),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="fulfilled")}var hn=typeof DOMException!="undefined"?DOMException:void 0;function fa(r){if(!(typeof r=="function"||typeof r=="object"))return!1;try{return new r,!0}catch{return!1}}function da(){var r=function(T,ae){this.message=T||"",this.name=ae||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return r.prototype=Object.create(Error.prototype),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0}),r}var ha=fa(hn)?hn:da();function vn(r,i,T,ae,me,Ce){var Me=ve(r),He=Qr(i);r._disturbed=!0;var Ke=!1,Qe=R(void 0);return w(function(Ze,et){var ct;if(Ce!==void 0){if(ct=function(){var Xe=new ha("Aborted","AbortError"),tt=[];ae||tt.push(function(){return i._state==="writable"?yr(i,Xe):R(void 0)}),me||tt.push(function(){return r._state==="readable"?bt(r,Xe):R(void 0)}),pt(function(){return Promise.all(tt.map(function(ut){return ut()}))},!0,Xe)},Ce.aborted){ct();return}Ce.addEventListener("abort",ct)}function St(){return w(function(Xe,tt){function ut(Ct){Ct?Xe():P(tr(),ut,tt)}ut(!1)})}function tr(){return Ke?R(!0):P(He._readyPromise,function(){return w(function(Xe,tt){Ie(Me,{_chunkSteps:function(ut){Qe=P(nn(He,ut),void 0,a),Xe(!1)},_closeSteps:function(){return Xe(!0)},_errorSteps:tt})})})}if(dt(r,Me._closedPromise,function(Xe){ae?Et(!0,Xe):pt(function(){return yr(i,Xe)},!0,Xe)}),dt(i,He._closedPromise,function(Xe){me?Et(!0,Xe):pt(function(){return bt(r,Xe)},!0,Xe)}),Tt(r,Me._closedPromise,function(){T?Et():pt(function(){return Jn(He)})}),Pt(i)||i._state==="closed"){var Wt=new TypeError("the destination writable stream closed before all data could be piped to it");me?Et(!0,Wt):pt(function(){return bt(r,Wt)},!0,Wt)}d(St());function kt(){var Xe=Qe;return P(Qe,function(){return Xe!==Qe?kt():void 0})}function dt(Xe,tt,ut){Xe._state==="errored"?ut(Xe._storedError):U(tt,ut)}function Tt(Xe,tt,ut){Xe._state==="closed"?ut():k(tt,ut)}function pt(Xe,tt,ut){if(Ke)return;Ke=!0,i._state==="writable"&&!Pt(i)?k(kt(),Ct):Ct();function Ct(){B(Xe(),function(){return st(tt,ut)},function(jt){return st(!0,jt)})}}function Et(Xe,tt){Ke||(Ke=!0,i._state==="writable"&&!Pt(i)?k(kt(),function(){return st(Xe,tt)}):st(Xe,tt))}function st(Xe,tt){rn(He),D(Me),Ce!==void 0&&Ce.removeEventListener("abort",ct),Xe?et(tt):Ze(void 0)}})}var Zt=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!Pr(this))throw Cr("desiredSize");return $r(this)},enumerable:!1,configurable:!0}),r.prototype.close=function(){if(!Pr(this))throw Cr("close");if(!er(this))throw new TypeError("The stream is not in a state that permits close");lr(this)},r.prototype.enqueue=function(i){if(i===void 0&&(i=void 0),!Pr(this))throw Cr("enqueue");if(!er(this))throw new TypeError("The stream is not in a state that permits enqueue");return Tr(this,i)},r.prototype.error=function(i){if(i===void 0&&(i=void 0),!Pr(this))throw Cr("error");Dt(this,i)},r.prototype[I]=function(i){Oe(this);var T=this._cancelAlgorithm(i);return kr(this),T},r.prototype[q]=function(i){var T=this._controlledReadableStream;if(this._queue.length>0){var ae=Ae(this);this._closeRequested&&this._queue.length===0?(kr(this),cr(T)):ur(this),i._chunkSteps(ae)}else ye(T,i),ur(this)},r}();Object.defineProperties(Zt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Zt.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Pr(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableStream")?!1:r instanceof Zt}function ur(r){var i=pn(r);if(!!i){if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;var T=r._pullAlgorithm();B(T,function(){r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,ur(r))},function(ae){Dt(r,ae)})}}function pn(r){var i=r._controlledReadableStream;if(!er(r)||!r._started)return!1;if(Bt(i)&&_e(i)>0)return!0;var T=$r(r);return T>0}function kr(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function lr(r){if(!!er(r)){var i=r._controlledReadableStream;r._closeRequested=!0,r._queue.length===0&&(kr(r),cr(i))}}function Tr(r,i){if(!!er(r)){var T=r._controlledReadableStream;if(Bt(T)&&_e(T)>0)pe(T,i,!1);else{var ae=void 0;try{ae=r._strategySizeAlgorithm(i)}catch(me){throw Dt(r,me),me}try{Ge(r,i,ae)}catch(me){throw Dt(r,me),me}}ur(r)}}function Dt(r,i){var T=r._controlledReadableStream;T._state==="readable"&&(Oe(r),kr(r),bn(T,i))}function $r(r){var i=r._controlledReadableStream._state;return i==="errored"?null:i==="closed"?0:r._strategyHWM-r._queueTotalSize}function va(r){return!pn(r)}function er(r){var i=r._controlledReadableStream._state;return!r._closeRequested&&i==="readable"}function yn(r,i,T,ae,me,Ce,Me){i._controlledReadableStream=r,i._queue=void 0,i._queueTotalSize=void 0,Oe(i),i._started=!1,i._closeRequested=!1,i._pullAgain=!1,i._pulling=!1,i._strategySizeAlgorithm=Me,i._strategyHWM=Ce,i._pullAlgorithm=ae,i._cancelAlgorithm=me,r._readableStreamController=i;var He=T();B(R(He),function(){i._started=!0,ur(i)},function(Ke){Dt(i,Ke)})}function pa(r,i,T,ae){var me=Object.create(Zt.prototype),Ce=function(){},Me=function(){return R(void 0)},He=function(){return R(void 0)};i.start!==void 0&&(Ce=function(){return i.start(me)}),i.pull!==void 0&&(Me=function(){return i.pull(me)}),i.cancel!==void 0&&(He=function(Ke){return i.cancel(Ke)}),yn(r,me,Ce,Me,He,T,ae)}function Cr(r){return new TypeError("ReadableStreamDefaultController.prototype."+r+" can only be used on a ReadableStreamDefaultController")}function ya(r,i){return Ve(r._readableStreamController)?ma(r):ga(r)}function ga(r,i){var T=ve(r),ae=!1,me=!1,Ce=!1,Me=!1,He,Ke,Qe,Ze,et,ct=w(function(dt){et=dt});function St(){if(ae)return me=!0,R(void 0);ae=!0;var dt={_chunkSteps:function(Tt){f(function(){me=!1;var pt=Tt,Et=Tt;Ce||Tr(Qe._readableStreamController,pt),Me||Tr(Ze._readableStreamController,Et),ae=!1,me&&St()})},_closeSteps:function(){ae=!1,Ce||lr(Qe._readableStreamController),Me||lr(Ze._readableStreamController),(!Ce||!Me)&&et(void 0)},_errorSteps:function(){ae=!1}};return Ie(T,dt),R(void 0)}function tr(dt){if(Ce=!0,He=dt,Me){var Tt=Q([He,Ke]),pt=bt(r,Tt);et(pt)}return ct}function Wt(dt){if(Me=!0,Ke=dt,Ce){var Tt=Q([He,Ke]),pt=bt(r,Tt);et(pt)}return ct}function kt(){}return Qe=Xr(kt,St,tr),Ze=Xr(kt,St,Wt),U(T._closedPromise,function(dt){Dt(Qe._readableStreamController,dt),Dt(Ze._readableStreamController,dt),(!Ce||!Me)&&et(void 0)}),[Qe,Ze]}function ma(r){var i=ve(r),T=!1,ae=!1,me=!1,Ce=!1,Me=!1,He,Ke,Qe,Ze,et,ct=w(function(st){et=st});function St(st){U(st._closedPromise,function(Xe){st===i&&($e(Qe._readableStreamController,Xe),$e(Ze._readableStreamController,Xe),(!Ce||!Me)&&et(void 0))})}function tr(){lt(i)&&(D(i),i=ve(r),St(i));var st={_chunkSteps:function(Xe){f(function(){ae=!1,me=!1;var tt=Xe,ut=Xe;if(!Ce&&!Me)try{ut=Le(Xe)}catch(Ct){$e(Qe._readableStreamController,Ct),$e(Ze._readableStreamController,Ct),et(bt(r,Ct));return}Ce||ze(Qe._readableStreamController,tt),Me||ze(Ze._readableStreamController,ut),T=!1,ae?kt():me&&dt()})},_closeSteps:function(){T=!1,Ce||je(Qe._readableStreamController),Me||je(Ze._readableStreamController),Qe._readableStreamController._pendingPullIntos.length>0&&ot(Qe._readableStreamController,0),Ze._readableStreamController._pendingPullIntos.length>0&&ot(Ze._readableStreamController,0),(!Ce||!Me)&&et(void 0)},_errorSteps:function(){T=!1}};Ie(i,st)}function Wt(st,Xe){Fe(i)&&(D(i),i=Ut(r),St(i));var tt=Xe?Ze:Qe,ut=Xe?Qe:Ze,Ct={_chunkSteps:function(jt){f(function(){ae=!1,me=!1;var rr=Xe?Me:Ce,dr=Xe?Ce:Me;if(dr)rr||vt(tt._readableStreamController,jt);else{var Fn=void 0;try{Fn=Le(jt)}catch(qr){$e(tt._readableStreamController,qr),$e(ut._readableStreamController,qr),et(bt(r,qr));return}rr||vt(tt._readableStreamController,jt),ze(ut._readableStreamController,Fn)}T=!1,ae?kt():me&&dt()})},_closeSteps:function(jt){T=!1;var rr=Xe?Me:Ce,dr=Xe?Ce:Me;rr||je(tt._readableStreamController),dr||je(ut._readableStreamController),jt!==void 0&&(rr||vt(tt._readableStreamController,jt),!dr&&ut._readableStreamController._pendingPullIntos.length>0&&ot(ut._readableStreamController,0)),(!rr||!dr)&&et(void 0)},_errorSteps:function(){T=!1}};Mt(i,st,Ct)}function kt(){if(T)return ae=!0,R(void 0);T=!0;var st=qe(Qe._readableStreamController);return st===null?tr():Wt(st._view,!1),R(void 0)}function dt(){if(T)return me=!0,R(void 0);T=!0;var st=qe(Ze._readableStreamController);return st===null?tr():Wt(st._view,!0),R(void 0)}function Tt(st){if(Ce=!0,He=st,Me){var Xe=Q([He,Ke]),tt=bt(r,Xe);et(tt)}return ct}function pt(st){if(Me=!0,Ke=st,Ce){var Xe=Q([He,Ke]),tt=bt(r,Xe);et(tt)}return ct}function Et(){}return Qe=mn(Et,kt,Tt),Ze=mn(Et,dt,pt),St(i),[Qe,Ze]}function ba(r,i){Pe(r,i);var T=r,ae=T==null?void 0:T.autoAllocateChunkSize,me=T==null?void 0:T.cancel,Ce=T==null?void 0:T.pull,Me=T==null?void 0:T.start,He=T==null?void 0:T.type;return{autoAllocateChunkSize:ae===void 0?void 0:J(ae,i+" has member 'autoAllocateChunkSize' that"),cancel:me===void 0?void 0:Sa(me,T,i+" has member 'cancel' that"),pull:Ce===void 0?void 0:_a(Ce,T,i+" has member 'pull' that"),start:Me===void 0?void 0:Aa(Me,T,i+" has member 'start' that"),type:He===void 0?void 0:Pa(He,i+" has member 'type' that")}}function Sa(r,i,T){return we(r,T),function(ae){return g(r,i,[ae])}}function _a(r,i,T){return we(r,T),function(ae){return g(r,i,[ae])}}function Aa(r,i,T){return we(r,T),function(ae){return m(r,i,[ae])}}function Pa(r,i){if(r=""+r,r!=="bytes")throw new TypeError(i+" '"+r+"' is not a valid enumeration value for ReadableStreamType");return r}function ka(r,i){Pe(r,i);var T=r==null?void 0:r.mode;return{mode:T===void 0?void 0:Ta(T,i+" has member 'mode' that")}}function Ta(r,i){if(r=""+r,r!=="byob")throw new TypeError(i+" '"+r+"' is not a valid enumeration value for ReadableStreamReaderMode");return r}function Ca(r,i){Pe(r,i);var T=r==null?void 0:r.preventCancel;return{preventCancel:Boolean(T)}}function gn(r,i){Pe(r,i);var T=r==null?void 0:r.preventAbort,ae=r==null?void 0:r.preventCancel,me=r==null?void 0:r.preventClose,Ce=r==null?void 0:r.signal;return Ce!==void 0&&Ra(Ce,i+" has member 'signal' that"),{preventAbort:Boolean(T),preventCancel:Boolean(ae),preventClose:Boolean(me),signal:Ce}}function Ra(r,i){if(!Wn(r))throw new TypeError(i+" is not an AbortSignal.")}function wa(r,i){Pe(r,i);var T=r==null?void 0:r.readable;u(T,"readable","ReadableWritablePair"),le(T,i+" has member 'readable' that");var ae=r==null?void 0:r.writable;return u(ae,"writable","ReadableWritablePair"),Kr(ae,i+" has member 'writable' that"),{readable:T,writable:ae}}var Lt=function(){function r(i,T){i===void 0&&(i={}),T===void 0&&(T={}),i===void 0?i=null:F(i,"First parameter");var ae=pr(T,"Second parameter"),me=ba(i,"First parameter");if(Yr(this),me.type==="bytes"){if(ae.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var Ce=ar(ae,0);At(this,me,Ce)}else{var Me=vr(ae),Ce=ar(ae,1);pa(this,me,Ce,Me)}}return Object.defineProperty(r.prototype,"locked",{get:function(){if(!Nt(this))throw $t("locked");return Bt(this)},enumerable:!1,configurable:!0}),r.prototype.cancel=function(i){return i===void 0&&(i=void 0),Nt(this)?Bt(this)?O(new TypeError("Cannot cancel a stream that already has a reader")):bt(this,i):O($t("cancel"))},r.prototype.getReader=function(i){if(i===void 0&&(i=void 0),!Nt(this))throw $t("getReader");var T=ka(i,"First parameter");return T.mode===void 0?ve(this):Ut(this)},r.prototype.pipeThrough=function(i,T){if(T===void 0&&(T={}),!Nt(this))throw $t("pipeThrough");v(i,1,"pipeThrough");var ae=wa(i,"First parameter"),me=gn(T,"Second parameter");if(Bt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Qt(ae.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var Ce=vn(this,ae.writable,me.preventClose,me.preventAbort,me.preventCancel,me.signal);return d(Ce),ae.readable},r.prototype.pipeTo=function(i,T){if(T===void 0&&(T={}),!Nt(this))return O($t("pipeTo"));if(i===void 0)return O("Parameter 1 is required in 'pipeTo'.");if(!Kt(i))return O(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ae;try{ae=gn(T,"Second parameter")}catch(me){return O(me)}return Bt(this)?O(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Qt(i)?O(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):vn(this,i,ae.preventClose,ae.preventAbort,ae.preventCancel,ae.signal)},r.prototype.tee=function(){if(!Nt(this))throw $t("tee");var i=ya(this);return Q(i)},r.prototype.values=function(i){if(i===void 0&&(i=void 0),!Nt(this))throw $t("values");var T=Ca(i,"First parameter");return te(this,T.preventCancel)},r}();Object.defineProperties(Lt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(Lt.prototype,e.asyncIterator,{value:Lt.prototype.values,writable:!0,configurable:!0});function Xr(r,i,T,ae,me){ae===void 0&&(ae=1),me===void 0&&(me=function(){return 1});var Ce=Object.create(Lt.prototype);Yr(Ce);var Me=Object.create(Zt.prototype);return yn(Ce,Me,r,i,T,ae,me),Ce}function mn(r,i,T){var ae=Object.create(Lt.prototype);Yr(ae);var me=Object.create(Ne.prototype);return ft(ae,me,r,i,T,0,void 0),ae}function Yr(r){r._state="readable",r._reader=void 0,r._storedError=void 0,r._disturbed=!1}function Nt(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_readableStreamController")?!1:r instanceof Lt}function Bt(r){return r._reader!==void 0}function bt(r,i){if(r._disturbed=!0,r._state==="closed")return R(void 0);if(r._state==="errored")return O(r._storedError);cr(r);var T=r._reader;T!==void 0&&lt(T)&&(T._readIntoRequests.forEach(function(me){me._closeSteps(void 0)}),T._readIntoRequests=new _);var ae=r._readableStreamController[I](i);return p(ae,a)}function cr(r){r._state="closed";var i=r._reader;i!==void 0&&(E(i),Fe(i)&&(i._readRequests.forEach(function(T){T._closeSteps()}),i._readRequests=new _))}function bn(r,i){r._state="errored",r._storedError=i;var T=r._reader;T!==void 0&&(V(T,i),Fe(T)?(T._readRequests.forEach(function(ae){ae._errorSteps(i)}),T._readRequests=new _):(T._readIntoRequests.forEach(function(ae){ae._errorSteps(i)}),T._readIntoRequests=new _))}function $t(r){return new TypeError("ReadableStream.prototype."+r+" can only be used on a ReadableStream")}function Sn(r,i){Pe(r,i);var T=r==null?void 0:r.highWaterMark;return u(T,"highWaterMark","QueuingStrategyInit"),{highWaterMark:S(T)}}var _n=function(r){return r.byteLength};Object.defineProperty(_n,"name",{value:"size",configurable:!0});var Rr=function(){function r(i){v(i,1,"ByteLengthQueuingStrategy"),i=Sn(i,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=i.highWaterMark}return Object.defineProperty(r.prototype,"highWaterMark",{get:function(){if(!Pn(this))throw An("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){if(!Pn(this))throw An("size");return _n},enumerable:!1,configurable:!0}),r}();Object.defineProperties(Rr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Rr.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function An(r){return new TypeError("ByteLengthQueuingStrategy.prototype."+r+" can only be used on a ByteLengthQueuingStrategy")}function Pn(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_byteLengthQueuingStrategyHighWaterMark")?!1:r instanceof Rr}var kn=function(){return 1};Object.defineProperty(kn,"name",{value:"size",configurable:!0});var wr=function(){function r(i){v(i,1,"CountQueuingStrategy"),i=Sn(i,"First parameter"),this._countQueuingStrategyHighWaterMark=i.highWaterMark}return Object.defineProperty(r.prototype,"highWaterMark",{get:function(){if(!Cn(this))throw Tn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){if(!Cn(this))throw Tn("size");return kn},enumerable:!1,configurable:!0}),r}();Object.defineProperties(wr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Tn(r){return new TypeError("CountQueuingStrategy.prototype."+r+" can only be used on a CountQueuingStrategy")}function Cn(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_countQueuingStrategyHighWaterMark")?!1:r instanceof wr}function Ea(r,i){Pe(r,i);var T=r==null?void 0:r.flush,ae=r==null?void 0:r.readableType,me=r==null?void 0:r.start,Ce=r==null?void 0:r.transform,Me=r==null?void 0:r.writableType;return{flush:T===void 0?void 0:xa(T,r,i+" has member 'flush' that"),readableType:ae,start:me===void 0?void 0:Oa(me,r,i+" has member 'start' that"),transform:Ce===void 0?void 0:Fa(Ce,r,i+" has member 'transform' that"),writableType:Me}}function xa(r,i,T){return we(r,T),function(ae){return g(r,i,[ae])}}function Oa(r,i,T){return we(r,T),function(ae){return m(r,i,[ae])}}function Fa(r,i,T){return we(r,T),function(ae,me){return g(r,i,[ae,me])}}var Er=function(){function r(i,T,ae){i===void 0&&(i={}),T===void 0&&(T={}),ae===void 0&&(ae={}),i===void 0&&(i=null);var me=pr(T,"Second parameter"),Ce=pr(ae,"Third parameter"),Me=Ea(i,"First parameter");if(Me.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Me.writableType!==void 0)throw new RangeError("Invalid writableType specified");var He=ar(Ce,0),Ke=vr(Ce),Qe=ar(me,1),Ze=vr(me),et,ct=w(function(St){et=St});Ia(this,ct,Qe,Ze,He,Ke),Da(this,Me),Me.start!==void 0?et(Me.start(this._transformStreamController)):et(void 0)}return Object.defineProperty(r.prototype,"readable",{get:function(){if(!Rn(this))throw On("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"writable",{get:function(){if(!Rn(this))throw On("writable");return this._writable},enumerable:!1,configurable:!0}),r}();Object.defineProperties(Er.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Er.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Ia(r,i,T,ae,me,Ce){function Me(){return i}function He(ct){return Ba(r,ct)}function Ke(ct){return Wa(r,ct)}function Qe(){return ja(r)}r._writable=Gn(Me,He,Qe,Ke,T,ae);function Ze(){return Ua(r)}function et(ct){return Or(r,ct),R(void 0)}r._readable=Xr(Me,Ze,et,me,Ce),r._backpressure=void 0,r._backpressureChangePromise=void 0,r._backpressureChangePromise_resolve=void 0,Fr(r,!0),r._transformStreamController=void 0}function Rn(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_transformStreamController")?!1:r instanceof Er}function xr(r,i){Dt(r._readable._readableStreamController,i),Or(r,i)}function Or(r,i){wn(r._transformStreamController),jr(r._writable._writableStreamController,i),r._backpressure&&Fr(r,!1)}function Fr(r,i){r._backpressureChangePromise!==void 0&&r._backpressureChangePromise_resolve(),r._backpressureChangePromise=w(function(T){r._backpressureChangePromise_resolve=T}),r._backpressure=i}var fr=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!Ir(this))throw Mr("desiredSize");var i=this._controlledTransformStream._readable._readableStreamController;return $r(i)},enumerable:!1,configurable:!0}),r.prototype.enqueue=function(i){if(i===void 0&&(i=void 0),!Ir(this))throw Mr("enqueue");En(this,i)},r.prototype.error=function(i){if(i===void 0&&(i=void 0),!Ir(this))throw Mr("error");La(this,i)},r.prototype.terminate=function(){if(!Ir(this))throw Mr("terminate");Na(this)},r}();Object.defineProperties(fr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(fr.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Ir(r){return!l(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledTransformStream")?!1:r instanceof fr}function Ma(r,i,T,ae){i._controlledTransformStream=r,r._transformStreamController=i,i._transformAlgorithm=T,i._flushAlgorithm=ae}function Da(r,i){var T=Object.create(fr.prototype),ae=function(Ce){try{return En(T,Ce),R(void 0)}catch(Me){return O(Me)}},me=function(){return R(void 0)};i.transform!==void 0&&(ae=function(Ce){return i.transform(Ce,T)}),i.flush!==void 0&&(me=function(){return i.flush(T)}),Ma(r,T,ae,me)}function wn(r){r._transformAlgorithm=void 0,r._flushAlgorithm=void 0}function En(r,i){var T=r._controlledTransformStream,ae=T._readable._readableStreamController;if(!er(ae))throw new TypeError("Readable side is not in a state that permits enqueue");try{Tr(ae,i)}catch(Ce){throw Or(T,Ce),T._readable._storedError}var me=va(ae);me!==T._backpressure&&Fr(T,!0)}function La(r,i){xr(r._controlledTransformStream,i)}function xn(r,i){var T=r._transformAlgorithm(i);return p(T,void 0,function(ae){throw xr(r._controlledTransformStream,ae),ae})}function Na(r){var i=r._controlledTransformStream,T=i._readable._readableStreamController;lr(T);var ae=new TypeError("TransformStream terminated");Or(i,ae)}function Ba(r,i){var T=r._transformStreamController;if(r._backpressure){var ae=r._backpressureChangePromise;return p(ae,function(){var me=r._writable,Ce=me._state;if(Ce==="erroring")throw me._storedError;return xn(T,i)})}return xn(T,i)}function Wa(r,i){return xr(r,i),R(void 0)}function ja(r){var i=r._readable,T=r._transformStreamController,ae=T._flushAlgorithm();return wn(T),p(ae,function(){if(i._state==="errored")throw i._storedError;lr(i._readableStreamController)},function(me){throw xr(r,me),i._storedError})}function Ua(r){return Fr(r,!1),r._backpressureChangePromise}function Mr(r){return new TypeError("TransformStreamDefaultController.prototype."+r+" can only be used on a TransformStreamDefaultController")}function On(r){return new TypeError("TransformStream.prototype."+r+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=Rr,t.CountQueuingStrategy=wr,t.ReadableByteStreamController=Ne,t.ReadableStream=Lt,t.ReadableStreamBYOBReader=mt,t.ReadableStreamBYOBRequest=Be,t.ReadableStreamDefaultController=Zt,t.ReadableStreamDefaultReader=Ee,t.TransformStream=Er,t.TransformStreamDefaultController=fr,t.WritableStream=ir,t.WritableStreamDefaultController=Jt,t.WritableStreamDefaultWriter=or,Object.defineProperty(t,"__esModule",{value:!0})})},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var e=o(t(2)),a=t(4);function o(O){return O&&O.__esModule?O:{default:O}}function c(O,P,B,k,U,p,d){try{var f=O[p](d),m=f.value}catch(g){B(g);return}f.done?P(m):Promise.resolve(m).then(k,U)}function l(O){return function(){var P=this,B=arguments;return new Promise(function(k,U){var p=O.apply(P,B);function d(m){c(p,k,U,d,f,"next",m)}function f(m){c(p,k,U,d,f,"throw",m)}d(void 0)})}}function b(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function C(O,P){for(var B=0;B<P.length;B++){var k=P[B];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}function N(O,P,B){return P&&C(O.prototype,P),B&&C(O,B),O}var L=function(){function O(){b(this,O),this.constructor===O&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}return N(O,[{key:"create",value:function(B,k){if(B<=0||k<=0)throw new Error("Invalid canvas size");var U=this._createCanvas(B,k);return{canvas:U,context:U.getContext("2d")}}},{key:"reset",value:function(B,k,U){if(!B.canvas)throw new Error("Canvas is not specified");if(k<=0||U<=0)throw new Error("Invalid canvas size");B.canvas.width=k,B.canvas.height=U}},{key:"destroy",value:function(B){if(!B.canvas)throw new Error("Canvas is not specified");B.canvas.width=0,B.canvas.height=0,B.canvas=null,B.context=null}},{key:"_createCanvas",value:function(B,k){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}]),O}();n.BaseCanvasFactory=L;var W=function(){function O(P){var B=P.baseUrl,k=B===void 0?null:B,U=P.isCompressed,p=U===void 0?!1:U;b(this,O),this.constructor===O&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=k,this.isCompressed=p}return N(O,[{key:"fetch",value:function(){var P=l(e.default.mark(function k(U){var p=this,d,f,m;return e.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(d=U.name,this.baseUrl){h.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(d){h.next=5;break}throw new Error("CMap name must be specified.");case 5:return f=this.baseUrl+d+(this.isCompressed?".bcmap":""),m=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE,h.abrupt("return",this._fetchData(f,m).catch(function(_){throw new Error("Unable to load ".concat(p.isCompressed?"binary ":"","CMap at: ").concat(f))}));case 8:case"end":return h.stop()}},k,this)}));function B(k){return P.apply(this,arguments)}return B}()},{key:"_fetchData",value:function(B,k){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),O}();n.BaseCMapReaderFactory=W;var w=function(){function O(P){var B=P.baseUrl,k=B===void 0?null:B;b(this,O),this.constructor===O&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=k}return N(O,[{key:"fetch",value:function(){var P=l(e.default.mark(function k(U){var p,d;return e.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(p=U.filename,this.baseUrl){m.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(p){m.next=5;break}throw new Error("Font filename must be specified.");case 5:return d="".concat(this.baseUrl).concat(p),m.abrupt("return",this._fetchData(d).catch(function(g){throw new Error("Unable to load font data at: ".concat(d))}));case 7:case"end":return m.stop()}},k,this)}));function B(k){return P.apply(this,arguments)}return B}()},{key:"_fetchData",value:function(B){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),O}();n.BaseStandardFontDataFactory=w;var R=function(){function O(){b(this,O),this.constructor===O&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}return N(O,[{key:"create",value:function(B,k){if(B<=0||k<=0)throw new Error("Invalid SVG dimensions");var U=this._createSVG("svg:svg");return U.setAttribute("version","1.1"),U.setAttribute("width","".concat(B,"px")),U.setAttribute("height","".concat(k,"px")),U.setAttribute("preserveAspectRatio","none"),U.setAttribute("viewBox","0 0 ".concat(B," ").concat(k)),U}},{key:"createElement",value:function(B){if(typeof B!="string")throw new Error("Invalid SVG element type");return this._createSVG(B)}},{key:"_createSVG",value:function(B){(0,a.unreachable)("Abstract method `_createSVG` called.")}}]),O}();n.BaseSVGFactory=R},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(137),_node_utils=__w_pdfjs_require__(138),_annotation_storage=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(145),_transport_stream=__w_pdfjs_require__(146),_xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault(s){return s&&s.__esModule?s:{default:s}}function _classPrivateFieldInitSpec(s,n,t){_checkPrivateRedeclaration(s,n),n.set(s,t)}function _checkPrivateRedeclaration(s,n){if(n.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(s,n,t){var e=_classExtractFieldDescriptor(s,n,"set");return _classApplyDescriptorSet(s,e,t),t}function _classApplyDescriptorSet(s,n,t){if(n.set)n.set.call(s,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}}function _classPrivateFieldGet(s,n){var t=_classExtractFieldDescriptor(s,n,"get");return _classApplyDescriptorGet(s,t)}function _classExtractFieldDescriptor(s,n,t){if(!n.has(s))throw new TypeError("attempted to "+t+" private field on non-instance");return n.get(s)}function _classApplyDescriptorGet(s,n){return n.get?n.get.call(s):n.value}function _toConsumableArray(s){return _arrayWithoutHoles(s)||_iterableToArray(s)||_unsupportedIterableToArray(s)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function _arrayWithoutHoles(s){if(Array.isArray(s))return _arrayLikeToArray(s)}function _createForOfIteratorHelper(s,n){var t=typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=_unsupportedIterableToArray(s))||n&&s&&typeof s.length=="number"){t&&(s=t);var e=0,a=function(){};return{s:a,n:function(){return e>=s.length?{done:!0}:{done:!1,value:s[e++]}},e:function(C){throw C},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,c=!1,l;return{s:function(){t=t.call(s)},n:function(){var C=t.next();return o=C.done,C},e:function(C){c=!0,l=C},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(c)throw l}}}}function _classCallCheck(s,n){if(!(s instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}function _createClass(s,n,t){return n&&_defineProperties(s.prototype,n),t&&_defineProperties(s,t),s}function asyncGeneratorStep(s,n,t,e,a,o,c){try{var l=s[o](c),b=l.value}catch(C){t(C);return}l.done?n(b):Promise.resolve(b).then(e,a)}function _asyncToGenerator(s){return function(){var n=this,t=arguments;return new Promise(function(e,a){var o=s.apply(n,t);function c(b){asyncGeneratorStep(o,e,a,c,l,"next",b)}function l(b){asyncGeneratorStep(o,e,a,c,l,"throw",b)}c(void 0)})}}function _slicedToArray(s,n){return _arrayWithHoles(s)||_iterableToArrayLimit(s,n)||_unsupportedIterableToArray(s,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(s,n){if(!!s){if(typeof s=="string")return _arrayLikeToArray(s,n);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(s,n)}}function _arrayLikeToArray(s,n){(n==null||n>s.length)&&(n=s.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=s[t];return e}function _iterableToArrayLimit(s,n){var t=s==null?null:typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var e=[],a=!0,o=!1,c,l;try{for(t=t.call(s);!(a=(c=t.next()).done)&&(e.push(c.value),!(n&&e.length===n));a=!0);}catch(b){o=!0,l=b}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return e}}function _arrayWithHoles(s){if(Array.isArray(s))return s}function _typeof(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(t){return typeof t}:_typeof=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(s)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var createPDFNetworkStream;function setPDFNetworkStreamFactory(s){createPDFNetworkStream=s}function getDocument(s){var n=new PDFDocumentLoadingTask,t;if(typeof s=="string"||s instanceof URL)t={url:s};else if((0,_util.isArrayBuffer)(s))t={data:s};else if(s instanceof PDFDataRangeTransport)t={range:s};else{if(_typeof(s)!=="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!s.url&&!s.data&&!s.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=s}var e=Object.create(null),a=null,o=null;for(var c in t){var l=t[c];switch(c){case"url":if(typeof window!="undefined")try{e[c]=new URL(l,window.location).href;continue}catch(N){(0,_util.warn)('Cannot create valid URL: "'.concat(N,'".'))}else if(typeof l=="string"||l instanceof URL){e[c]=l.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":a=l;continue;case"worker":o=l;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&l instanceof Buffer)e[c]=new Uint8Array(l);else{if(l instanceof Uint8Array)break;if(typeof l=="string")e[c]=(0,_util.stringToBytes)(l);else if(_typeof(l)==="object"&&l!==null&&!isNaN(l.length))e[c]=new Uint8Array(l);else if((0,_util.isArrayBuffer)(l))e[c]=new Uint8Array(l);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}e[c]=l}if(e.rangeChunkSize=e.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,e.CMapReaderFactory=e.CMapReaderFactory||DefaultCMapReaderFactory,e.StandardFontDataFactory=e.StandardFontDataFactory||DefaultStandardFontDataFactory,e.ignoreErrors=e.stopAtErrors!==!0,e.fontExtraProperties=e.fontExtraProperties===!0,e.pdfBug=e.pdfBug===!0,e.enableXfa=e.enableXfa===!0,(typeof e.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(e.docBaseUrl))&&(e.docBaseUrl=null),Number.isInteger(e.maxImageSize)||(e.maxImageSize=-1),typeof e.useWorkerFetch!="boolean"&&(e.useWorkerFetch=e.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&e.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof e.isEvalSupported!="boolean"&&(e.isEvalSupported=!0),typeof e.disableFontFace!="boolean"&&(e.disableFontFace=_is_node.isNodeJS),typeof e.useSystemFonts!="boolean"&&(e.useSystemFonts=!_is_node.isNodeJS&&!e.disableFontFace),typeof e.ownerDocument=="undefined"&&(e.ownerDocument=globalThis.document),typeof e.disableRange!="boolean"&&(e.disableRange=!1),typeof e.disableStream!="boolean"&&(e.disableStream=!1),typeof e.disableAutoFetch!="boolean"&&(e.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(e.verbosity),!o){var b={verbosity:e.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=b.port?PDFWorker.fromPort(b):new PDFWorker(b),n._worker=o}var C=n.docId;return o.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");var N=_fetchDocument(o,e,a,C),L=new Promise(function(W){var w;a?w=new _transport_stream.PDFDataTransportStream({length:e.length,initialData:e.initialData,progressiveDone:e.progressiveDone,contentDispositionFilename:e.contentDispositionFilename,disableRange:e.disableRange,disableStream:e.disableStream},a):e.data||(w=createPDFNetworkStream({url:e.url,length:e.length,httpHeaders:e.httpHeaders,withCredentials:e.withCredentials,rangeChunkSize:e.rangeChunkSize,disableRange:e.disableRange,disableStream:e.disableStream})),W(w)});return Promise.all([N,L]).then(function(W){var w=_slicedToArray(W,2),R=w[0],O=w[1];if(n.destroyed)throw new Error("Loading aborted");var P=new _message_handler.MessageHandler(C,R,o.port),B=new WorkerTransport(P,n,O,e);n._transport=B,P.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(s,n,t,e){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return _fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function s(n,t,e,a){var o;return _regenerator.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!n.destroyed){l.next=2;break}throw new Error("Worker was destroyed");case 2:return e&&(t.length=e.length,t.initialData=e.initialData,t.progressiveDone=e.progressiveDone,t.contentDispositionFilename=e.contentDispositionFilename),l.next=5,n.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.12.313",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});case 5:if(o=l.sent,!n.destroyed){l.next=8;break}throw new Error("Worker was destroyed");case 8:return l.abrupt("return",o);case 9:case"end":return l.stop()}},s)})),_fetchDocument2.apply(this,arguments)}var PDFDocumentLoadingTask=function(){function s(){_classCallCheck(this,s),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(s.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(s,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){var a;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.destroyed=!0,c.next=3,(a=this._transport)===null||a===void 0?void 0:a.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return c.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),s}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function s(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;_classCallCheck(this,s),this.length=n,this.initialData=t,this.progressiveDone=e,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(s,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var a=_createForOfIteratorHelper(this._rangeListeners),o;try{for(a.s();!(o=a.n()).done;){var c=o.value;c(t,e)}}catch(l){a.e(l)}finally{a.f()}}},{key:"onDataProgress",value:function(t,e){var a=this;this._readyCapability.promise.then(function(){var o=_createForOfIteratorHelper(a._progressListeners),c;try{for(o.s();!(c=o.n()).done;){var l=c.value;l(t,e)}}catch(b){o.e(b)}finally{o.f()}})}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then(function(){var a=_createForOfIteratorHelper(e._progressiveReadListeners),o;try{for(a.s();!(o=a.n()).done;){var c=o.value;c(t)}}catch(l){a.e(l)}finally{a.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var e=_createForOfIteratorHelper(t._progressiveDoneListeners),a;try{for(e.s();!(a=e.n()).done;){var o=a.value;o()}}catch(c){e.e(c)}finally{e.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),s}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function s(n,t){var e=this;_classCallCheck(this,s),this._pdfInfo=n,this._transport=t,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){var a=_asyncToGenerator(_regenerator.default.mark(function c(){return _regenerator.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),b.abrupt("return",e.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return b.stop()}},c)}));function o(){return a.apply(this,arguments)}return o}()})}return _createClass(s,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"stats",get:function(){return this._transport.stats}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),s}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function s(n,t,e,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;_classCallCheck(this,s),this._pageIndex=n,this._pageInfo=t,this._ownerDocument=a,this._transport=e,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=e.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(s,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.scale,a=t.rotation,o=a===void 0?this.rotate:a,c=t.offsetX,l=c===void 0?0:c,b=t.offsetY,C=b===void 0?0:b,N=t.dontFlip,L=N===void 0?!1:N;return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:o,offsetX:l,offsetY:C,dontFlip:L})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.intent,a=e===void 0?"display":e,o=this._transport.getRenderingIntent(a),c=this._annotationPromises.get(o.cacheKey);return c||(c=this._transport.getAnnotations(this._pageIndex,o.renderingIntent),this._annotationPromises.set(o.cacheKey,c),c=c.then(function(l){var b=_createForOfIteratorHelper(l),C;try{var N=function(){var W=C.value;W.titleObj!==void 0&&Object.defineProperty(W,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),W.titleObj.str}}),W.contentsObj!==void 0&&Object.defineProperty(W,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),W.contentsObj.str}})};for(b.s();!(C=b.n()).done;)N()}catch(L){b.e(L)}finally{b.f()}return l})),c}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){var a;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",((a=this._transport._htmlForXfa)===null||a===void 0?void 0:a.children[this._pageIndex])||null);case 1:case"end":return c.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"render",value:function(t){var e,a,o=this,c,l=t.canvasContext,b=t.viewport,C=t.intent,N=C===void 0?"display":C,L=t.annotationMode,W=L===void 0?_util.AnnotationMode.ENABLE:L,w=t.transform,R=w===void 0?null:w,O=t.imageLayer,P=O===void 0?null:O,B=t.canvasFactory,k=B===void 0?null:B,U=t.background,p=U===void 0?null:U,d=t.optionalContentConfigPromise,f=d===void 0?null:d,m=t.annotationCanvasMap,g=m===void 0?null:m;((e=arguments[0])===null||e===void 0?void 0:e.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&W===_util.AnnotationMode.ENABLE&&(W=_util.AnnotationMode.ENABLE_FORMS)),((a=arguments[0])===null||a===void 0?void 0:a.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&W===_util.AnnotationMode.ENABLE&&(W=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var h=this._transport.getRenderingIntent(N,W);this.pendingCleanup=!1,f||(f=this._transport.getOptionalContentConfig());var _=this._intentStates.get(h.cacheKey);_||(_=Object.create(null),this._intentStates.set(h.cacheKey,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);var x=k||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),z=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);_.displayReadyCapability||(_.displayReadyCapability=(0,_util.createPromiseCapability)(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(h));var D=function(ie){_.renderTasks.delete($),(o.cleanupAfterRender||z)&&(o.pendingCleanup=!0),o._tryCleanup(),ie?($.capability.reject(ie),o._abortOperatorList({intentState:_,reason:ie instanceof Error?ie:new Error(ie)})):$.capability.resolve(),o._stats&&(o._stats.timeEnd("Rendering"),o._stats.timeEnd("Overall"))},$=new InternalRenderTask({callback:D,params:{canvasContext:l,viewport:b,transform:R,imageLayer:P,background:p},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:g,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:x,useRequestAnimationFrame:!z,pdfBug:this._pdfBug});((c=_).renderTasks||(c.renderTasks=new Set)).add($);var ee=$.task;return Promise.all([_.displayReadyCapability.promise,f]).then(function(Z){var ie=_slicedToArray(Z,2),V=ie[0],Y=ie[1];if(o.pendingCleanup){D();return}o._stats&&o._stats.time("Rendering"),$.initializeGraphics({transparency:V,optionalContentConfig:Y}),$.operatorListChanged()}).catch(D),ee}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.intent,a=e===void 0?"display":e,o=t.annotationMode,c=o===void 0?_util.AnnotationMode.ENABLE:o;function l(){C.operatorList.lastChunk&&(C.opListReadCapability.resolve(C.operatorList),C.renderTasks.delete(N))}var b=this._transport.getRenderingIntent(a,c,!0),C=this._intentStates.get(b.cacheKey);C||(C=Object.create(null),this._intentStates.set(b.cacheKey,C));var N;if(!C.opListReadCapability){var L;N=Object.create(null),N.operatorListChanged=l,C.opListReadCapability=(0,_util.createPromiseCapability)(),((L=C).renderTasks||(L.renderTasks=new Set)).add(N),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(b)}return C.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.normalizeWhitespace,a=e===void 0?!1:e,o=t.disableCombineTextItems,c=o===void 0?!1:o,l=t.includeMarkedContent,b=l===void 0?!1:l,C=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:a===!0,combineTextItems:c!==!0,includeMarkedContent:b===!0},{highWaterMark:C,size:function(L){return L.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(a){return _xfa_text.XfaText.textContent(a)});var e=this.streamTextContent(t);return new Promise(function(a,o){function c(){l.read().then(function(C){var N,L=C.value,W=C.done;if(W){a(b);return}Object.assign(b.styles,L.styles),(N=b.items).push.apply(N,_toConsumableArray(L.items)),c()},o)}var l=e.getReader(),b={items:[],styles:Object.create(null)};c()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0;var t=[],e=_createForOfIteratorHelper(this._intentStates.values()),a;try{for(e.s();!(a=e.n()).done;){var o=a.value;if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),!o.opListReadCapability){var c=_createForOfIteratorHelper(o.renderTasks),l;try{for(c.s();!(l=c.n()).done;){var b=l.value;t.push(b.completed),b.cancel()}}catch(C){c.e(C)}finally{c.f()}}}}catch(C){e.e(C)}finally{e.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;var e=_createForOfIteratorHelper(this._intentStates.values()),a;try{for(e.s();!(a=e.n()).done;){var o=a.value,c=o.renderTasks,l=o.operatorList;if(c.size>0||!l.lastChunk)return!1}}catch(b){e.e(b)}finally{e.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,e){var a=this._intentStates.get(e);!a||(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var a=0,o=t.length;a<o;a++)e.operatorList.fnArray.push(t.fnArray[a]),e.operatorList.argsArray.push(t.argsArray[a]);e.operatorList.lastChunk=t.lastChunk;var c=_createForOfIteratorHelper(e.renderTasks),l;try{for(c.s();!(l=c.n()).done;){var b=l.value;b.operatorListChanged()}}catch(C){c.e(C)}finally{c.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var e=this,a=t.renderingIntent,o=t.cacheKey,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:o,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}),l=c.getReader(),b=this._intentStates.get(o);b.streamReader=l;var C=function N(){l.read().then(function(L){var W=L.value,w=L.done;if(w){b.streamReader=null;return}e._transport.destroyed||(e._renderPageChunk(W,b),N())},function(L){if(b.streamReader=null,!e._transport.destroyed){if(b.operatorList){b.operatorList.lastChunk=!0;var W=_createForOfIteratorHelper(b.renderTasks),w;try{for(W.s();!(w=W.n()).done;){var R=w.value;R.operatorListChanged()}}catch(O){W.e(O)}finally{W.f()}e._tryCleanup()}if(b.displayReadyCapability)b.displayReadyCapability.reject(L);else if(b.opListReadCapability)b.opListReadCapability.reject(L);else throw L}})};C()}},{key:"_abortOperatorList",value:function(t){var e=this,a=t.intentState,o=t.reason,c=t.force,l=c===void 0?!1:c;if(!!a.streamReader){if(!l){if(a.renderTasks.size>0)return;if(o instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout(function(){e._abortOperatorList({intentState:a,reason:o,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(a.streamReader.cancel(new _util.AbortException(o.message)).catch(function(){}),a.streamReader=null,!this._transport.destroyed){var b=_createForOfIteratorHelper(this._intentStates),C;try{for(b.s();!(C=b.n()).done;){var N=_slicedToArray(C.value,2),L=N[0],W=N[1];if(W===a){this._intentStates.delete(L);break}}}catch(w){b.e(w)}finally{b.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),s}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function s(){_classCallCheck(this,s),this._listeners=[],this._deferred=Promise.resolve()}return _createClass(s,[{key:"postMessage",value:function(t,e){var a=this;function o(l){if(globalThis.structuredClone)return globalThis.structuredClone(l,e);function b(N){if(typeof N=="function"||_typeof(N)==="symbol"||N instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(N==null?void 0:N.toString()));if(_typeof(N)!=="object"||N===null)return N;if(C.has(N))return C.get(N);var L,W;if((L=N.buffer)&&(0,_util.isArrayBuffer)(L))return e!=null&&e.includes(L)?W=new N.constructor(L,N.byteOffset,N.byteLength):W=new N.constructor(N),C.set(N,W),W;if(N instanceof Map){W=new Map,C.set(N,W);var w=_createForOfIteratorHelper(N),R;try{for(w.s();!(R=w.n()).done;){var O=_slicedToArray(R.value,2),P=O[0],B=O[1];W.set(P,b(B))}}catch(h){w.e(h)}finally{w.f()}return W}if(N instanceof Set){W=new Set,C.set(N,W);var k=_createForOfIteratorHelper(N),U;try{for(k.s();!(U=k.n()).done;){var p=U.value;W.add(b(p))}}catch(h){k.e(h)}finally{k.f()}return W}W=Array.isArray(N)?[]:Object.create(null),C.set(N,W);for(var d in N){for(var f,m=void 0,g=N;!(m=Object.getOwnPropertyDescriptor(g,d));)g=Object.getPrototypeOf(g);typeof m.value!="undefined"&&(typeof m.value=="function"&&!((f=N.hasOwnProperty)!==null&&f!==void 0&&f.call(N,d))||(W[d]=b(m.value)))}return W}var C=new WeakMap;return b(l)}var c={data:o(t)};this._deferred.then(function(){var l=_createForOfIteratorHelper(a._listeners),b;try{for(l.s();!(b=l.n()).done;){var C=b.value;C.call(a,c)}}catch(N){l.e(N)}finally{l.f()}})}},{key:"addEventListener",value:function(t,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(t,e){var a=this._listeners.indexOf(e);this._listeners.splice(a,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),s}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if((typeof document=="undefined"?"undefined":_typeof(document))==="object"){var _document,_document$currentScri,pdfjsFilePath=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(s){var n='importScripts("'.concat(s,'");');return URL.createObjectURL(new Blob([n]))}}var PDFWorker=function(){function PDFWorker(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=s.name,t=n===void 0?null:n,e=s.port,a=e===void 0?null:e,o=s.verbosity,c=o===void 0?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,PDFWorker),a&&PDFWorker._workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=c,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a){PDFWorker._workerPorts.set(a,this),this._initializeFromPort(a);return}this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(n){this._port=n,this._messageHandler=new _message_handler.MessageHandler("main","worker",n),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var n=this;if(typeof Worker!="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var e=new Worker(t),a=new _message_handler.MessageHandler("main","worker",e),o=function(){e.removeEventListener("error",c),a.destroy(),e.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},c=function(){n._webWorker||o()};e.addEventListener("error",c),a.on("test",function(b){if(e.removeEventListener("error",c),n.destroyed){o();return}b?(n._messageHandler=a,n._port=e,n._webWorker=e,n._readyCapability.resolve(),a.send("configure",{verbosity:n.verbosity})):(n._setupFakeWorker(),a.destroy(),e.terminate())}),a.on("ready",function(b){if(e.removeEventListener("error",c),n.destroyed){o();return}try{l()}catch{n._setupFakeWorker()}});var l=function(){var C=new Uint8Array([255]);try{a.send("test",C,[C.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),C[0]=0,a.send("test",C)}};l();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var n=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(t){if(n.destroyed){n._readyCapability.reject(new Error("Worker was destroyed"));return}var e=new LoopbackPort;n._port=e;var a="fake".concat(PDFWorkerUtil.fakeWorkerId++),o=new _message_handler.MessageHandler(a+"_worker",a,e);t.setup(o,e);var c=new _message_handler.MessageHandler(a,a+"_worker",e);n._messageHandler=c,n._readyCapability.resolve(),c.send("configure",{verbosity:n.verbosity})}).catch(function(t){n._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(n){if(!(n!=null&&n.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(n.port)?this._workerPorts.get(n.port):new PDFWorker(n)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var n;return((n=globalThis.pdfjsWorker)===null||n===void 0?void 0:n.WorkerMessageHandler)||null}catch{return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!(_is_node.isNodeJS&&typeof commonjsRequire=="function")){_context4.next=6;break}return worker=eval("require")(_this11.workerSrc),_context4.abrupt("return",worker.WorkerMessageHandler);case 6:return _context4.next=8,(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}},_callee4)}));return function s(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap,WorkerTransport=function(){function s(n,t,e,a){_classCallCheck(this,s),_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=n,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,a.useWorkerFetch||(this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.StandardFontDataFactory=new a.StandardFontDataFactory({baseUrl:a.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(s,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_util.RenderingIntentFlag.DISPLAY,c="";switch(t){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,c=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(e))}return a&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:"".concat(o,"_").concat(c)}}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var e=[],a=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),o;try{for(a.s();!(o=a.n()).done;){var c=o.value;e.push(c._destroy())}}catch(b){a.e(b)}finally{a.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var l=this.messageHandler.sendWithPromise("Terminate",null);return e.push(l),Promise.all(e).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),_classPrivateFieldSet(t,_metadataPromise,null),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,a=this.loadingTask;e.on("GetReader",function(o,c){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(l){t._lastProgress={loaded:l.loaded,total:l.total}},c.onPull=function(){t._fullReader.read().then(function(l){var b=l.value,C=l.done;if(C){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(b),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(b),1,[b])}).catch(function(l){c.error(l)})},c.onCancel=function(l){t._fullReader.cancel(l),c.ready.catch(function(b){if(!t.destroyed)throw b})}}),e.on("ReaderHeadersReady",function(o){var c=(0,_util.createPromiseCapability)(),l=t._fullReader;return l.headersReady.then(function(){if(!l.isStreamingSupported||!l.isRangeSupported){if(t._lastProgress){var b;(b=a.onProgress)===null||b===void 0||b.call(a,t._lastProgress)}l.onProgress=function(C){var N;(N=a.onProgress)===null||N===void 0||N.call(a,{loaded:C.loaded,total:C.total})}}c.resolve({isStreamingSupported:l.isStreamingSupported,isRangeSupported:l.isRangeSupported,contentLength:l.contentLength})},c.reject),c.promise}),e.on("GetRangeReader",function(o,c){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var l=t._networkStream.getRangeReader(o.begin,o.end);if(!l){c.close();return}c.onPull=function(){l.read().then(function(b){var C=b.value,N=b.done;if(N){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(C),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(C),1,[C])}).catch(function(b){c.error(b)})},c.onCancel=function(b){l.cancel(b),c.ready.catch(function(C){if(!t.destroyed)throw C})}}),e.on("GetDoc",function(o){var c=o.pdfInfo;t._numPages=c.numPages,t._htmlForXfa=c.htmlForXfa,delete c.htmlForXfa,a._capability.resolve(new PDFDocumentProxy(c,t))}),e.on("DocException",function(o){var c;switch(o.name){case"PasswordException":c=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":c=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}a._capability.reject(c)}),e.on("PasswordRequest",function(o){if(t._passwordCapability=(0,_util.createPromiseCapability)(),a.onPassword){var c=function(b){t._passwordCapability.resolve({password:b})};try{a.onPassword(c,o.code)}catch(l){t._passwordCapability.reject(l)}}else t._passwordCapability.reject(new _util.PasswordException(o.message,o.code));return t._passwordCapability.promise}),e.on("DataLoaded",function(o){var c;(c=a.onProgress)===null||c===void 0||c.call(a,{loaded:o.length,total:o.length}),t.downloadInfoCapability.resolve(o)}),e.on("StartRenderPage",function(o){if(!t.destroyed){var c=_classPrivateFieldGet(t,_pageCache).get(o.pageIndex);c._startRenderPage(o.transparency,o.cacheKey)}}),e.on("commonobj",function(o){var c,l=_slicedToArray(o,3),b=l[0],C=l[1],N=l[2];if(!t.destroyed&&!t.commonObjs.has(b))switch(C){case"Font":var L=t._params;if("error"in N){var W=N.error;(0,_util.warn)("Error during font loading: ".concat(W)),t.commonObjs.resolve(b,W);break}var w=null;L.pdfBug&&(c=globalThis.FontInspector)!==null&&c!==void 0&&c.enabled&&(w={registerFont:function(P,B){globalThis.FontInspector.fontAdded(P,B)}});var R=new _font_loader.FontFaceObject(N,{isEvalSupported:L.isEvalSupported,disableFontFace:L.disableFontFace,ignoreErrors:L.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:w});t.fontLoader.bind(R).catch(function(O){return e.sendWithPromise("FontFallback",{id:b})}).finally(function(){!L.fontExtraProperties&&R.data&&(R.data=null),t.commonObjs.resolve(b,R)});break;case"FontPath":case"Image":t.commonObjs.resolve(b,N);break;default:throw new Error("Got unknown common object type ".concat(C))}}),e.on("obj",function(o){var c,l=_slicedToArray(o,4),b=l[0],C=l[1],N=l[2],L=l[3];if(!t.destroyed){var W=_classPrivateFieldGet(t,_pageCache).get(C);if(!W.objs.has(b))switch(N){case"Image":W.objs.resolve(b,L);var w=8e6;(L==null||(c=L.data)===null||c===void 0?void 0:c.length)>w&&(W.cleanupAfterRender=!0);break;case"Pattern":W.objs.resolve(b,L);break;default:throw new Error("Got unknown object type ".concat(N))}}}),e.on("DocProgress",function(o){var c;t.destroyed||(c=a.onProgress)===null||c===void 0||c.call(a,{loaded:o.loaded,total:o.total})}),e.on("DocStats",function(o){t.destroyed||_classPrivateFieldSet(t,_docStats,Object.freeze({streamTypes:Object.freeze(o.streamTypes),fontTypes:Object.freeze(o.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",function(o){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),e.on("FetchStandardFontData",function(o){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(t){var e,a,o=t.featureId;this.destroyed||(e=(a=this.loadingTask).onUnsupportedFeature)===null||e===void 0||e.call(a,o)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var a=t-1,o=_classPrivateFieldGet(this,_pagePromises).get(a);if(o)return o;var c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:a}).then(function(l){if(e.destroyed)throw new Error("Transport destroyed");var b=new PDFPageProxy(a,l,e,e._params.ownerDocument,e._params.pdfBug);return _classPrivateFieldGet(e,_pageCache).set(a,b),b});return _classPrivateFieldGet(this,_pagePromises).set(a,c),c}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"saveDocument",value:function(){var t,e,a=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(t=(e=this._fullReader)===null||e===void 0?void 0:e.filename)!==null&&t!==void 0?t:null}).finally(function(){a.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(t){return new _optional_content_config.OptionalContentConfig(t)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){var a,o,c,l;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:(a=(o=t._fullReader)===null||o===void 0?void 0:o.filename)!==null&&a!==void 0?a:null,contentLength:(c=(l=t._fullReader)===null||l===void 0?void 0:l.contentLength)!==null&&c!==void 0?c:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){var a,o,c,l,b,C=arguments;return _regenerator.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return a=C.length>0&&C[0]!==void 0?C[0]:!1,L.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){L.next=5;break}return L.abrupt("return");case 5:o=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),L.prev=6,o.s();case 8:if((c=o.n()).done){L.next=15;break}if(l=c.value,b=l.cleanup(),b){L.next=13;break}throw new Error("startCleanup: Page ".concat(l.pageNumber," is currently rendering."));case 13:L.next=8;break;case 15:L.next=20;break;case 17:L.prev=17,L.t0=L.catch(6),o.e(L.t0);case 20:return L.prev=20,o.f(),L.finish(20);case 23:this.commonObjs.clear(),a||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 28:case"end":return L.stop()}},e,this,[[6,17,20,23]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),s}(),PDFObjects=function(){function s(){_classCallCheck(this,s),this._objs=Object.create(null)}return _createClass(s,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e)return this._ensureObj(t).capability.promise.then(e),null;var a=this._objs[t];if(!a||!a.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return a.data}},{key:"has",value:function(t){var e=this._objs[t];return(e==null?void 0:e.resolved)||!1}},{key:"resolve",value:function(t,e){var a=this._ensureObj(t);a.resolved=!0,a.data=e,a.capability.resolve(e)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),s}(),RenderTask=function(){function s(n){_classCallCheck(this,s),this._internalRenderTask=n,this.onContinue=null}return _createClass(s,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),s}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function s(n){var t=n.callback,e=n.params,a=n.objs,o=n.commonObjs,c=n.annotationCanvasMap,l=n.operatorList,b=n.pageIndex,C=n.canvasFactory,N=n.useRequestAnimationFrame,L=N===void 0?!1:N,W=n.pdfBug,w=W===void 0?!1:W;_classCallCheck(this,s),this.callback=t,this.params=e,this.objs=a,this.commonObjs=o,this.annotationCanvasMap=c,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=b,this.canvasFactory=C,this._pdfBug=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=L===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}return _createClass(s,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(t){var e,a=t.transparency,o=a===void 0?!1:a,c=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(s.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");s.canvasInUse.add(this._canvas)}this._pdfBug&&(e=globalThis.StepperManager)!==null&&e!==void 0&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var l=this.params,b=l.canvasContext,C=l.viewport,N=l.transform,L=l.imageLayer,W=l.background;this.gfx=new _canvas.CanvasGraphics(b,this.commonObjs,this.objs,this.canvasFactory,L,c,this.annotationCanvasMap),this.gfx.beginDrawing({transform:N,viewport:C,transparency:o,background:W}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&s.canvasInUse.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){t._nextBound().catch(t._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var n=_asyncToGenerator(_regenerator.default.mark(function e(){return _regenerator.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.cancelled){o.next=2;break}return o.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&s.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return o.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),s}(),version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},(s,n,t)=>{function e(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(x){return typeof x}:e=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},e(h)}Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var a=c(t(2)),o=t(4);function c(h){return h&&h.__esModule?h:{default:h}}function l(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(_&&_.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),_&&b(h,_)}function b(h,_){return b=Object.setPrototypeOf||function(z,D){return z.__proto__=D,z},b(h,_)}function C(h){var _=W();return function(){var z=w(h),D;if(_){var $=w(this).constructor;D=Reflect.construct(z,arguments,$)}else D=z.apply(this,arguments);return N(this,D)}}function N(h,_){if(_&&(e(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function W(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(h){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},w(h)}function R(h,_,x,z,D,$,ee){try{var Z=h[$](ee),ie=Z.value}catch(V){x(V);return}Z.done?_(ie):Promise.resolve(ie).then(z,D)}function O(h){return function(){var _=this,x=arguments;return new Promise(function(z,D){var $=h.apply(_,x);function ee(ie){R($,z,D,ee,Z,"next",ie)}function Z(ie){R($,z,D,ee,Z,"throw",ie)}ee(void 0)})}}function P(h,_){var x=typeof Symbol!="undefined"&&h[Symbol.iterator]||h["@@iterator"];if(!x){if(Array.isArray(h)||(x=B(h))||_&&h&&typeof h.length=="number"){x&&(h=x);var z=0,D=function(){};return{s:D,n:function(){return z>=h.length?{done:!0}:{done:!1,value:h[z++]}},e:function(V){throw V},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=!0,ee=!1,Z;return{s:function(){x=x.call(h)},n:function(){var V=x.next();return $=V.done,V},e:function(V){ee=!0,Z=V},f:function(){try{!$&&x.return!=null&&x.return()}finally{if(ee)throw Z}}}}function B(h,_){if(!!h){if(typeof h=="string")return k(h,_);var x=Object.prototype.toString.call(h).slice(8,-1);if(x==="Object"&&h.constructor&&(x=h.constructor.name),x==="Map"||x==="Set")return Array.from(h);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return k(h,_)}}function k(h,_){(_==null||_>h.length)&&(_=h.length);for(var x=0,z=new Array(_);x<_;x++)z[x]=h[x];return z}function U(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}function p(h,_){for(var x=0;x<_.length;x++){var z=_[x];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(h,z.key,z)}}function d(h,_,x){return _&&p(h.prototype,_),x&&p(h,x),h}var f=function(){function h(_){var x=_.docId,z=_.onUnsupportedFeature,D=_.ownerDocument,$=D===void 0?globalThis.document:D;_.styleElement,U(this,h),this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=x,this._onUnsupportedFeature=z,this._document=$,this.nativeFontFaces=[],this.styleElement=null}return d(h,[{key:"addNativeFontFace",value:function(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}},{key:"insertRule",value:function(x){var z=this.styleElement;z||(z=this.styleElement=this._document.createElement("style"),z.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(z));var D=z.sheet;D.insertRule(x,D.cssRules.length)}},{key:"clear",value:function(){var x=P(this.nativeFontFaces),z;try{for(x.s();!(z=x.n()).done;){var D=z.value;this._document.fonts.delete(D)}}catch($){x.e($)}finally{x.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var _=O(a.default.mark(function z(D){var $=this,ee,Z;return a.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(D.attached||D.missingFile)){V.next=2;break}return V.abrupt("return");case 2:if(D.attached=!0,!this.isFontLoadingAPISupported){V.next=19;break}if(ee=D.createNativeFontFace(),!ee){V.next=18;break}return this.addNativeFontFace(ee),V.prev=7,V.next=10,ee.loaded;case 10:V.next=18;break;case 12:throw V.prev=12,V.t0=V.catch(7),this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)("Failed to load font '".concat(ee.family,"': '").concat(V.t0,"'.")),D.disableFontFace=!0,V.t0;case 18:return V.abrupt("return");case 19:if(Z=D.createFontFaceRule(),!Z){V.next=26;break}if(this.insertRule(Z),!this.isSyncFontLoadingSupported){V.next=24;break}return V.abrupt("return");case 24:return V.next=26,new Promise(function(Y){var E=$._queueLoadingCallback(Y);$._prepareFontLoadEvent([Z],[D],E)});case 26:case"end":return V.stop()}},z,this,[[7,12]])}));function x(z){return _.apply(this,arguments)}return x}()},{key:"_queueLoadingCallback",value:function(x){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var x,z=!!((x=this._document)!==null&&x!==void 0&&x.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",z)}},{key:"isSyncFontLoadingSupported",get:function(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(x,z,D){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),h}(),m;n.FontLoader=m,n.FontLoader=m=function(h){l(x,h);var _=C(x);function x(z){var D;return U(this,x),D=_.call(this,z),D.loadingContext={requests:[],nextRequestId:0},D.loadTestFontId=0,D}return d(x,[{key:"isSyncFontLoadingSupported",get:function(){var D=!1;if(typeof navigator=="undefined")D=!0;else{var $=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);($==null?void 0:$[1])>=14&&(D=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",D)}},{key:"_queueLoadingCallback",value:function(D){function $(){for((0,o.assert)(!Z.done,"completeRequest() cannot be called twice."),Z.done=!0;ee.requests.length>0&&ee.requests[0].done;){var ie=ee.requests.shift();setTimeout(ie.callback,0)}}var ee=this.loadingContext,Z={id:"pdfjs-font-loading-".concat(ee.nextRequestId++),done:!1,complete:$,callback:D};return ee.requests.push(Z),Z}},{key:"_loadTestFont",get:function(){var D=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,o.shadow)(this,"_loadTestFont",D())}},{key:"_prepareFontLoadEvent",value:function(D,$,ee){function Z(pe,_e){return pe.charCodeAt(_e)<<24|pe.charCodeAt(_e+1)<<16|pe.charCodeAt(_e+2)<<8|pe.charCodeAt(_e+3)&255}function ie(pe,_e,ke,Ee){var Fe=pe.substring(0,_e),Ie=pe.substring(_e+ke);return Fe+Ee+Ie}var V,Y,E=this._document.createElement("canvas");E.width=1,E.height=1;var y=E.getContext("2d"),A=0;function I(pe,_e){if(A++,A>30){(0,o.warn)("Load test font never loaded."),_e();return}y.font="30px "+pe,y.fillText(".",0,20);var ke=y.getImageData(0,0,1,1);if(ke.data[3]>0){_e();return}setTimeout(I.bind(null,pe,_e))}var q="lt".concat(Date.now()).concat(this.loadTestFontId++),re=this._loadTestFont,X=976;re=ie(re,X,q.length,q);var be=16,Pe=1482184792,we=Z(re,be);for(V=0,Y=q.length-3;V<Y;V+=4)we=we-Pe+Z(q,V)|0;V<q.length&&(we=we-Pe+Z(q+"XXX",V)|0),re=ie(re,be,4,(0,o.string32)(we));var H="url(data:font/opentype;base64,".concat(btoa(re),");"),F='@font-face {font-family:"'.concat(q,'";src:').concat(H,"}");this.insertRule(F);var v=[],u=P($),S;try{for(u.s();!(S=u.n()).done;){var M=S.value;v.push(M.loadedName)}}catch(pe){u.e(pe)}finally{u.f()}v.push(q);var j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(var J=0,le=v;J<le.length;J++){var ve=le[J],ye=this._document.createElement("span");ye.textContent="Hi",ye.style.fontFamily=ve,j.appendChild(ye)}this._document.body.appendChild(j),I(q,function(){j.remove(),ee.complete()})}}]),x}(f);var g=function(){function h(_,x){var z=x.isEvalSupported,D=z===void 0?!0:z,$=x.disableFontFace,ee=$===void 0?!1:$,Z=x.ignoreErrors,ie=Z===void 0?!1:Z,V=x.onUnsupportedFeature,Y=x.fontRegistry,E=Y===void 0?null:Y;U(this,h),this.compiledGlyphs=Object.create(null);for(var y in _)this[y]=_[y];this.isEvalSupported=D!==!1,this.disableFontFace=ee===!0,this.ignoreErrors=ie===!0,this._onUnsupportedFeature=V,this.fontRegistry=E}return d(h,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var x;if(!this.cssFontInfo)x=new FontFace(this.loadedName,this.data,{});else{var z={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(z.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),x=new FontFace(this.cssFontInfo.fontFamily,this.data,z)}return this.fontRegistry&&this.fontRegistry.registerFont(this),x}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var x=(0,o.bytesToString)(this.data),z="url(data:".concat(this.mimetype,";base64,").concat(btoa(x),");"),D;if(!this.cssFontInfo)D='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(z,"}");else{var $="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&($+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),D='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat($,"src:").concat(z,"}")}return this.fontRegistry&&this.fontRegistry.registerFont(this,z),D}},{key:"getPathGenerator",value:function(x,z){if(this.compiledGlyphs[z]!==void 0)return this.compiledGlyphs[z];var D;try{D=x.get(this.loadedName+"_path_"+z)}catch(Y){if(!this.ignoreErrors)throw Y;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)('getPathGenerator - ignoring character: "'.concat(Y,'".')),this.compiledGlyphs[z]=function(E,y){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){var $=[],ee=P(D),Z;try{for(ee.s();!(Z=ee.n()).done;){var ie=Z.value,V=ie.args!==void 0?ie.args.join(","):"";$.push("c.",ie.cmd,"(",V,`);
`)}}catch(Y){ee.e(Y)}finally{ee.f()}return this.compiledGlyphs[z]=new Function("c","size",$.join(""))}return this.compiledGlyphs[z]=function(Y,E){var y=P(D),A;try{for(y.s();!(A=y.n()).done;){var I=A.value;I.cmd==="scale"&&(I.args=[E,-E]),Y[I.cmd].apply(Y,I.args)}}catch(q){y.e(q)}finally{y.f()}}}}]),h}();n.FontFaceObject=g},(s,n,t)=>{function e(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(m){return typeof m}:e=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(d)}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var a=t(135),o=t(6),c=t(4);function l(d,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}function b(d,f,m){return f&&l(d.prototype,f),m&&l(d,m),d}function C(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),f&&N(d,f)}function N(d,f){return N=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g},N(d,f)}function L(d){var f=R();return function(){var g=O(d),h;if(f){var _=O(this).constructor;h=Reflect.construct(g,arguments,_)}else h=g.apply(this,arguments);return W(this,h)}}function W(d,f){if(f&&(e(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(d)}function w(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(d){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},O(d)}function P(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var B=function d(){P(this,d),(0,c.unreachable)("Not implemented: NodeCanvasFactory")};n.NodeCanvasFactory=B;var k=function d(){P(this,d),(0,c.unreachable)("Not implemented: NodeCMapReaderFactory")};n.NodeCMapReaderFactory=k;var U=function d(){P(this,d),(0,c.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(n.NodeStandardFontDataFactory=U,o.isNodeJS){var p=function(f){return new Promise(function(m,g){var h=require$$4;h.readFile(f,function(_,x){if(_||!x){g(new Error(_));return}m(new Uint8Array(x))})})};n.NodeCanvasFactory=B=function(d){C(m,d);var f=L(m);function m(){return P(this,m),f.apply(this,arguments)}return b(m,[{key:"_createCanvas",value:function(h,_){var x=require$$4;return x.createCanvas(h,_)}}]),m}(a.BaseCanvasFactory),n.NodeCMapReaderFactory=k=function(d){C(m,d);var f=L(m);function m(){return P(this,m),f.apply(this,arguments)}return b(m,[{key:"_fetchData",value:function(h,_){return p(h).then(function(x){return{cMapData:x,compressionType:_}})}}]),m}(a.BaseCMapReaderFactory),n.NodeStandardFontDataFactory=U=function(d){C(m,d);var f=L(m);function m(){return P(this,m),f.apply(this,arguments)}return b(m,[{key:"_fetchData",value:function(h){return p(h)}}]),m}(a.BaseStandardFontDataFactory)}},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationStorage=void 0;var e=t(4);function a(R,O){return C(R)||b(R,O)||c(R,O)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(R,O){if(!!R){if(typeof R=="string")return l(R,O);var P=Object.prototype.toString.call(R).slice(8,-1);if(P==="Object"&&R.constructor&&(P=R.constructor.name),P==="Map"||P==="Set")return Array.from(R);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return l(R,O)}}function l(R,O){(O==null||O>R.length)&&(O=R.length);for(var P=0,B=new Array(O);P<O;P++)B[P]=R[P];return B}function b(R,O){var P=R==null?null:typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(P!=null){var B=[],k=!0,U=!1,p,d;try{for(P=P.call(R);!(k=(p=P.next()).done)&&(B.push(p.value),!(O&&B.length===O));k=!0);}catch(f){U=!0,d=f}finally{try{!k&&P.return!=null&&P.return()}finally{if(U)throw d}}return B}}function C(R){if(Array.isArray(R))return R}function N(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function L(R,O){for(var P=0;P<O.length;P++){var B=O[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}function W(R,O,P){return O&&L(R.prototype,O),P&&L(R,P),R}var w=function(){function R(){N(this,R),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return W(R,[{key:"getValue",value:function(P,B){var k=this._storage.get(P);return k===void 0?B:Object.assign(B,k)}},{key:"setValue",value:function(P,B){var k=this._storage.get(P),U=!1;if(k!==void 0)for(var p=0,d=Object.entries(B);p<d.length;p++){var f=a(d[p],2),m=f[0],g=f[1];k[m]!==g&&(U=!0,k[m]=g)}else U=!0,this._storage.set(P,B);U&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,e.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),R}();n.AnnotationStorage=w},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var e=t(4),a=t(141),o=t(1);function c(H){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(v){return typeof v}:c=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(H)}function l(H,F){var v=typeof Symbol!="undefined"&&H[Symbol.iterator]||H["@@iterator"];if(!v){if(Array.isArray(H)||(v=w(H))||F&&H&&typeof H.length=="number"){v&&(H=v);var u=0,S=function(){};return{s:S,n:function(){return u>=H.length?{done:!0}:{done:!1,value:H[u++]}},e:function(ve){throw ve},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,j=!1,J;return{s:function(){v=v.call(H)},n:function(){var ve=v.next();return M=ve.done,ve},e:function(ve){j=!0,J=ve},f:function(){try{!M&&v.return!=null&&v.return()}finally{if(j)throw J}}}}function b(H,F){if(!(H instanceof F))throw new TypeError("Cannot call a class as a function")}function C(H,F){for(var v=0;v<F.length;v++){var u=F[v];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(H,u.key,u)}}function N(H,F,v){return F&&C(H.prototype,F),v&&C(H,v),H}function L(H,F){return P(H)||O(H,F)||w(H,F)||W()}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(H,F){if(!!H){if(typeof H=="string")return R(H,F);var v=Object.prototype.toString.call(H).slice(8,-1);if(v==="Object"&&H.constructor&&(v=H.constructor.name),v==="Map"||v==="Set")return Array.from(H);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return R(H,F)}}function R(H,F){(F==null||F>H.length)&&(F=H.length);for(var v=0,u=new Array(F);v<F;v++)u[v]=H[v];return u}function O(H,F){var v=H==null?null:typeof Symbol!="undefined"&&H[Symbol.iterator]||H["@@iterator"];if(v!=null){var u=[],S=!0,M=!1,j,J;try{for(v=v.call(H);!(S=(j=v.next()).done)&&(u.push(j.value),!(F&&u.length===F));S=!0);}catch(le){M=!0,J=le}finally{try{!S&&v.return!=null&&v.return()}finally{if(M)throw J}}return u}}function P(H){if(Array.isArray(H))return H}var B=16,k=100,U=4096,p=15,d=10,f=1e3,m=16,g=1.000001;function h(H,F){if(H._removeMirroring)throw new Error("Context is already forwarding operations.");H.__originalSave=H.save,H.__originalRestore=H.restore,H.__originalRotate=H.rotate,H.__originalScale=H.scale,H.__originalTranslate=H.translate,H.__originalTransform=H.transform,H.__originalSetTransform=H.setTransform,H.__originalResetTransform=H.resetTransform,H.__originalClip=H.clip,H.__originalMoveTo=H.moveTo,H.__originalLineTo=H.lineTo,H.__originalBezierCurveTo=H.bezierCurveTo,H.__originalRect=H.rect,H.__originalClosePath=H.closePath,H.__originalBeginPath=H.beginPath,H._removeMirroring=function(){H.save=H.__originalSave,H.restore=H.__originalRestore,H.rotate=H.__originalRotate,H.scale=H.__originalScale,H.translate=H.__originalTranslate,H.transform=H.__originalTransform,H.setTransform=H.__originalSetTransform,H.resetTransform=H.__originalResetTransform,H.clip=H.__originalClip,H.moveTo=H.__originalMoveTo,H.lineTo=H.__originalLineTo,H.bezierCurveTo=H.__originalBezierCurveTo,H.rect=H.__originalRect,H.closePath=H.__originalClosePath,H.beginPath=H.__originalBeginPath,delete H._removeMirroring},H.save=function(){F.save(),this.__originalSave()},H.restore=function(){F.restore(),this.__originalRestore()},H.translate=function(u,S){F.translate(u,S),this.__originalTranslate(u,S)},H.scale=function(u,S){F.scale(u,S),this.__originalScale(u,S)},H.transform=function(u,S,M,j,J,le){F.transform(u,S,M,j,J,le),this.__originalTransform(u,S,M,j,J,le)},H.setTransform=function(u,S,M,j,J,le){F.setTransform(u,S,M,j,J,le),this.__originalSetTransform(u,S,M,j,J,le)},H.resetTransform=function(){F.resetTransform(),this.__originalResetTransform()},H.rotate=function(u){F.rotate(u),this.__originalRotate(u)},H.clip=function(u){F.clip(u),this.__originalClip(u)},H.moveTo=function(v,u){F.moveTo(v,u),this.__originalMoveTo(v,u)},H.lineTo=function(v,u){F.lineTo(v,u),this.__originalLineTo(v,u)},H.bezierCurveTo=function(v,u,S,M,j,J){F.bezierCurveTo(v,u,S,M,j,J),this.__originalBezierCurveTo(v,u,S,M,j,J)},H.rect=function(v,u,S,M){F.rect(v,u,S,M),this.__originalRect(v,u,S,M)},H.closePath=function(){F.closePath(),this.__originalClosePath()},H.beginPath=function(){F.beginPath(),this.__originalBeginPath()}}function _(H){if(!H.mozCurrentTransform){H._originalSave=H.save,H._originalRestore=H.restore,H._originalRotate=H.rotate,H._originalScale=H.scale,H._originalTranslate=H.translate,H._originalTransform=H.transform,H._originalSetTransform=H.setTransform,H._originalResetTransform=H.resetTransform,H._transformMatrix=H._transformMatrix||[1,0,0,1,0,0],H._transformStack=[];try{var F=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(H),"lineWidth");H._setLineWidth=F.set,H._getLineWidth=F.get,Object.defineProperty(H,"lineWidth",{set:function(u){this._setLineWidth(u*g)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(H,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(H,"mozCurrentTransformInverse",{get:function(){var u=L(this._transformMatrix,6),S=u[0],M=u[1],j=u[2],J=u[3],le=u[4],ve=u[5],ye=S*J-M*j,pe=M*j-S*J;return[J/ye,M/pe,j/pe,S/ye,(J*le-j*ve)/pe,(M*le-S*ve)/ye]}}),H.save=function(){var u=this._transformMatrix;this._transformStack.push(u),this._transformMatrix=u.slice(0,6),this._originalSave()},H.restore=function(){var u=this._transformStack.pop();u&&(this._transformMatrix=u,this._originalRestore())},H.translate=function(u,S){var M=this._transformMatrix;M[4]=M[0]*u+M[2]*S+M[4],M[5]=M[1]*u+M[3]*S+M[5],this._originalTranslate(u,S)},H.scale=function(u,S){var M=this._transformMatrix;M[0]*=u,M[1]*=u,M[2]*=S,M[3]*=S,this._originalScale(u,S)},H.transform=function(u,S,M,j,J,le){var ve=this._transformMatrix;this._transformMatrix=[ve[0]*u+ve[2]*S,ve[1]*u+ve[3]*S,ve[0]*M+ve[2]*j,ve[1]*M+ve[3]*j,ve[0]*J+ve[2]*le+ve[4],ve[1]*J+ve[3]*le+ve[5]],H._originalTransform(u,S,M,j,J,le)},H.setTransform=function(u,S,M,j,J,le){this._transformMatrix=[u,S,M,j,J,le],H._originalSetTransform(u,S,M,j,J,le)},H.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],H._originalResetTransform()},H.rotate=function(u){var S=Math.cos(u),M=Math.sin(u),j=this._transformMatrix;this._transformMatrix=[j[0]*S+j[2]*M,j[1]*S+j[3]*M,j[0]*-M+j[2]*S,j[1]*-M+j[3]*S,j[4],j[5]],this._originalRotate(u)}}}var x=function(){function H(F){b(this,H),this.canvasFactory=F,this.cache=Object.create(null)}return N(H,[{key:"getCanvas",value:function(v,u,S,M){var j;return this.cache[v]!==void 0?(j=this.cache[v],this.canvasFactory.reset(j,u,S),j.context.setTransform(1,0,0,1,0,0)):(j=this.canvasFactory.create(u,S),this.cache[v]=j),M&&_(j.context),j}},{key:"clear",value:function(){for(var v in this.cache){var u=this.cache[v];this.canvasFactory.destroy(u),delete this.cache[v]}}}]),H}();function z(H){var F=1e3,v=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=H.width,S=H.height,M=u+1,j,J,le,ve,ye=new Uint8Array(M*(S+1)),pe=u+7&-8,_e=H.data,ke=new Uint8Array(pe*S),Ee=0;for(j=0,J=_e.length;j<J;j++)for(var Fe=_e[j],Ie=128;Ie>0;)ke[Ee++]=Fe&Ie?0:255,Ie>>=1;var We=0;for(Ee=0,ke[Ee]!==0&&(ye[0]=1,++We),le=1;le<u;le++)ke[Ee]!==ke[Ee+1]&&(ye[le]=ke[Ee]?2:1,++We),Ee++;for(ke[Ee]!==0&&(ye[le]=2,++We),j=1;j<S;j++){Ee=j*pe,ve=j*M,ke[Ee-pe]!==ke[Ee]&&(ye[ve]=ke[Ee]?1:8,++We);var Ue=(ke[Ee]?4:0)+(ke[Ee-pe]?8:0);for(le=1;le<u;le++)Ue=(Ue>>2)+(ke[Ee+1]?4:0)+(ke[Ee-pe+1]?8:0),v[Ue]&&(ye[ve+le]=v[Ue],++We),Ee++;if(ke[Ee-pe]!==ke[Ee]&&(ye[ve+le]=ke[Ee]?2:4,++We),We>F)return null}for(Ee=pe*(S-1),ve=j*M,ke[Ee]!==0&&(ye[ve]=8,++We),le=1;le<u;le++)ke[Ee]!==ke[Ee+1]&&(ye[ve+le]=ke[Ee]?4:8,++We),Ee++;if(ke[Ee]!==0&&(ye[ve+le]=4,++We),We>F)return null;var fe=new Int32Array([0,M,-1,0,-M,0,0,0,1]),de=[];for(j=0;We&&j<=S;j++){for(var G=j*M,te=G+u;G<te&&!ye[G];)G++;if(G!==te){var K=[G%M,j],oe=G,ne=ye[G];do{var Q=fe[ne];do G+=Q;while(!ye[G]);var he=ye[G];he!==5&&he!==10?(ne=he,ye[G]=0):(ne=he&51*ne>>4,ye[G]&=ne>>2|ne<<2),K.push(G%M,G/M|0),ye[G]||--We}while(oe!==G);de.push(K),--j}}var ce=function(Re){Re.save(),Re.scale(1/u,-1/S),Re.translate(0,-S),Re.beginPath();for(var De=0,Le=de.length;De<Le;De++){var Ae=de[De];Re.moveTo(Ae[0],Ae[1]);for(var Ge=2,xe=Ae.length;Ge<xe;Ge+=2)Re.lineTo(Ae[Ge],Ae[Ge+1])}Re.fill(),Re.beginPath(),Re.restore()};return ce}var D=function(){function H(F,v){b(this,H),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,F,v])}return N(H,[{key:"clone",value:function(){var v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}},{key:"setCurrentPoint",value:function(v,u){this.x=v,this.y=u}},{key:"updatePathMinMax",value:function(v,u,S){var M=e.Util.applyTransform([u,S],v),j=L(M,2);u=j[0],S=j[1],this.minX=Math.min(this.minX,u),this.minY=Math.min(this.minY,S),this.maxX=Math.max(this.maxX,u),this.maxY=Math.max(this.maxY,S)}},{key:"updateCurvePathMinMax",value:function(v,u,S,M,j,J,le,ve,ye){var pe=e.Util.bezierBoundingBox(u,S,M,j,J,le,ve,ye);this.updatePathMinMax(v,pe[0],pe[1]),this.updatePathMinMax(v,pe[2],pe[3])}},{key:"getPathBoundingBox",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.PathType.FILL,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=[this.minX,this.minY,this.maxX,this.maxY];if(v===a.PathType.STROKE){u||(0,e.unreachable)("Stroke bounding box must include transform.");var M=e.Util.singularValueDecompose2dScale(u),j=M[0]*this.lineWidth/2,J=M[1]*this.lineWidth/2;S[0]-=j,S[1]-=J,S[2]+=j,S[3]+=J}return S}},{key:"updateClipFromPath",value:function(){var v=e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.PathType.FILL,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e.Util.intersect(this.clipBox,this.getPathBoundingBox(v,u))}}]),H}();function $(H,F){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData!="undefined"&&F instanceof ImageData){H.putImageData(F,0,0);return}var u=F.height,S=F.width,M=u%m,j=(u-M)/m,J=M===0?j:j+1,le=H.createImageData(S,m),ve=0,ye,pe=F.data,_e=le.data,ke,Ee,Fe,Ie,We,Ue,fe,de;if(v)switch(v.length){case 1:We=v[0],Ue=v[0],fe=v[0],de=v[0];break;case 4:We=v[0],Ue=v[1],fe=v[2],de=v[3];break}if(F.kind===e.ImageKind.GRAYSCALE_1BPP){var G=pe.byteLength,te=new Uint32Array(_e.buffer,0,_e.byteLength>>2),K=te.length,oe=S+7>>3,ne=4294967295,Q=e.IsLittleEndianCached.value?4278190080:255;if(de&&de[0]===255&&de[255]===0){var he=[Q,ne];ne=he[0],Q=he[1]}for(ke=0;ke<J;ke++){for(Fe=ke<j?m:M,ye=0,Ee=0;Ee<Fe;Ee++){for(var ce=G-ve,Se=0,Re=ce>oe?S:ce*8-7,De=Re&-8,Le=0,Ae=0;Se<De;Se+=8)Ae=pe[ve++],te[ye++]=Ae&128?ne:Q,te[ye++]=Ae&64?ne:Q,te[ye++]=Ae&32?ne:Q,te[ye++]=Ae&16?ne:Q,te[ye++]=Ae&8?ne:Q,te[ye++]=Ae&4?ne:Q,te[ye++]=Ae&2?ne:Q,te[ye++]=Ae&1?ne:Q;for(;Se<Re;Se++)Le===0&&(Ae=pe[ve++],Le=128),te[ye++]=Ae&Le?ne:Q,Le>>=1}for(;ye<K;)te[ye++]=0;H.putImageData(le,0,ke*m)}}else if(F.kind===e.ImageKind.RGBA_32BPP){var Ge=!!(We||Ue||fe);for(Ee=0,Ie=S*m*4,ke=0;ke<j;ke++){if(_e.set(pe.subarray(ve,ve+Ie)),ve+=Ie,Ge)for(var xe=0;xe<Ie;xe+=4)We&&(_e[xe+0]=We[_e[xe+0]]),Ue&&(_e[xe+1]=Ue[_e[xe+1]]),fe&&(_e[xe+2]=fe[_e[xe+2]]);H.putImageData(le,0,Ee),Ee+=m}if(ke<J){if(Ie=S*M*4,_e.set(pe.subarray(ve,ve+Ie)),Ge)for(var Oe=0;Oe<Ie;Oe+=4)We&&(_e[Oe+0]=We[_e[Oe+0]]),Ue&&(_e[Oe+1]=Ue[_e[Oe+1]]),fe&&(_e[Oe+2]=fe[_e[Oe+2]]);H.putImageData(le,0,Ee)}}else if(F.kind===e.ImageKind.RGB_24BPP){var Be=!!(We||Ue||fe);for(Fe=m,Ie=S*Fe,ke=0;ke<J;ke++){for(ke>=j&&(Fe=M,Ie=S*Fe),ye=0,Ee=Ie;Ee--;)_e[ye++]=pe[ve++],_e[ye++]=pe[ve++],_e[ye++]=pe[ve++],_e[ye++]=255;if(Be)for(var Ne=0;Ne<ye;Ne+=4)We&&(_e[Ne+0]=We[_e[Ne+0]]),Ue&&(_e[Ne+1]=Ue[_e[Ne+1]]),fe&&(_e[Ne+2]=fe[_e[Ne+2]]);H.putImageData(le,0,ke*m)}}else throw new Error("bad image kind: ".concat(F.kind))}function ee(H,F){for(var v=F.height,u=F.width,S=v%m,M=(v-S)/m,j=S===0?M:M+1,J=H.createImageData(u,m),le=0,ve=F.data,ye=J.data,pe=0;pe<j;pe++){for(var _e=pe<M?m:S,ke=3,Ee=0;Ee<_e;Ee++)for(var Fe=void 0,Ie=0,We=0;We<u;We++)Ie||(Fe=ve[le++],Ie=128),ye[ke]=Fe&Ie?0:255,ke+=4,Ie>>=1;H.putImageData(J,0,pe*m)}}function Z(H,F){for(var v=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],u=0,S=v.length;u<S;u++){var M=v[u];H[M]!==void 0&&(F[M]=H[M])}H.setLineDash!==void 0&&(F.setLineDash(H.getLineDash()),F.lineDashOffset=H.lineDashOffset)}function ie(H){H.strokeStyle="#000000",H.fillStyle="#000000",H.fillRule="nonzero",H.globalAlpha=1,H.lineWidth=1,H.lineCap="butt",H.lineJoin="miter",H.miterLimit=10,H.globalCompositeOperation="source-over",H.font="10px sans-serif",H.setLineDash!==void 0&&(H.setLineDash([]),H.lineDashOffset=0)}function V(H,F,v,u){for(var S=H.length,M=3;M<S;M+=4){var j=H[M];if(j===0)H[M-3]=F,H[M-2]=v,H[M-1]=u;else if(j<255){var J=255-j;H[M-3]=H[M-3]*j+F*J>>8,H[M-2]=H[M-2]*j+v*J>>8,H[M-1]=H[M-1]*j+u*J>>8}}}function Y(H,F,v){for(var u=H.length,S=1/255,M=3;M<u;M+=4){var j=v?v[H[M]]:H[M];F[M]=F[M]*j*S|0}}function E(H,F,v){for(var u=H.length,S=3;S<u;S+=4){var M=H[S-3]*77+H[S-2]*152+H[S-1]*28;F[S]=v?F[S]*v[M>>8]>>8:F[S]*M>>16}}function y(H,F,v,u,S,M,j,J,le,ve,ye){var pe=!!M,_e=pe?M[0]:0,ke=pe?M[1]:0,Ee=pe?M[2]:0,Fe;S==="Luminosity"?Fe=E:Fe=Y;for(var Ie=1048576,We=Math.min(u,Math.ceil(Ie/v)),Ue=0;Ue<u;Ue+=We){var fe=Math.min(We,u-Ue),de=H.getImageData(J-ve,Ue+(le-ye),v,fe),G=F.getImageData(J,Ue+le,v,fe);pe&&V(de.data,_e,ke,Ee),Fe(de.data,G.data,j),F.putImageData(G,J,Ue+le)}}function A(H,F,v,u){var S=u[0],M=u[1],j=u[2]-S,J=u[3]-M;j===0||J===0||(y(F.context,v,j,J,F.subtype,F.backdrop,F.transferMap,S,M,F.offsetX,F.offsetY),H.save(),H.globalAlpha=1,H.globalCompositeOperation="source-over",H.setTransform(1,0,0,1,0,0),H.drawImage(v.canvas,0,0),H.restore())}function I(H,F){var v=e.Util.singularValueDecompose2dScale(H);v[0]=Math.fround(v[0]),v[1]=Math.fround(v[1]);var u=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return F!==void 0?F:v[0]<=u||v[1]<=u}var q=["butt","round","square"],re=["miter","round","bevel"],X={},be={},Pe=function(){function H(F,v,u,S,M,j,J){b(this,H),this.ctx=F,this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=v,this.objs=u,this.canvasFactory=S,this.imageLayer=M,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=j,this.cachedCanvases=new x(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=J,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,F&&_(F),this._cachedGetSinglePixelWidth=null}return N(H,[{key:"beginDrawing",value:function(v){var u=v.transform,S=v.viewport,M=v.transparency,j=M===void 0?!1:M,J=v.background,le=J===void 0?null:J,ve=this.ctx.canvas.width,ye=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=le||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,ve,ye),this.ctx.restore(),j){var pe=this.cachedCanvases.getCanvas("transparent",ve,ye,!0);this.compositeCtx=this.ctx,this.transparentCanvas=pe.canvas,this.ctx=pe.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),ie(this.ctx),u&&(this.ctx.transform.apply(this.ctx,u),this.outputScaleX=u[0],this.outputScaleY=u[0]),this.ctx.transform.apply(this.ctx,S.transform),this.viewportScale=S.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(v,u,S,M){var j=v.argsArray,J=v.fnArray,le=u||0,ve=j.length;if(ve===le)return le;for(var ye=ve-le>d&&typeof S=="function",pe=ye?Date.now()+p:0,_e=0,ke=this.commonObjs,Ee=this.objs,Fe;;){if(M!==void 0&&le===M.nextBreakPoint)return M.breakIt(le,S),le;if(Fe=J[le],Fe!==e.OPS.dependency)this[Fe].apply(this,j[le]);else{var Ie=l(j[le]),We;try{for(Ie.s();!(We=Ie.n()).done;){var Ue=We.value,fe=Ue.startsWith("g_")?ke:Ee;if(!fe.has(Ue))return fe.get(Ue,S),le}}catch(de){Ie.e(de)}finally{Ie.f()}}if(le++,le===ve)return le;if(ye&&++_e>d){if(Date.now()>pe)return S(),le;_e=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||this.current.activeSMask!==null;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(v,u){for(var S=v.width,M=v.height,j=Math.max(Math.hypot(u[0],u[1]),1),J=Math.max(Math.hypot(u[2],u[3]),1),le=S,ve=M,ye="prescale1",pe,_e;j>2&&le>1||J>2&&ve>1;){var ke=le,Ee=ve;j>2&&le>1&&(ke=Math.ceil(le/2),j/=le/ke),J>2&&ve>1&&(Ee=Math.ceil(ve/2),J/=ve/Ee),pe=this.cachedCanvases.getCanvas(ye,ke,Ee),_e=pe.context,_e.clearRect(0,0,ke,Ee),_e.drawImage(v,0,0,le,ve,0,0,ke,Ee),v=pe.canvas,le=ke,ve=Ee,ye=ye==="prescale1"?"prescale2":"prescale1"}return{img:v,paintWidth:le,paintHeight:ve}}},{key:"_createMaskCanvas",value:function(v){var u=this.ctx,S=v.width,M=v.height,j=this.current.fillColor,J=this.current.patternFill,le=this.cachedCanvases.getCanvas("maskCanvas",S,M),ve=le.context;ee(ve,v);var ye=u.mozCurrentTransform,pe=e.Util.transform(ye,[1/S,0,0,-1/M,0,0]);pe=e.Util.transform(pe,[1,0,0,1,0,-M]);var _e=e.Util.applyTransform([0,0],pe),ke=e.Util.applyTransform([S,M],pe),Ee=e.Util.normalizeRect([_e[0],_e[1],ke[0],ke[1]]),Fe=Math.ceil(Ee[2]-Ee[0]),Ie=Math.ceil(Ee[3]-Ee[1]),We=this.cachedCanvases.getCanvas("fillCanvas",Fe,Ie,!0),Ue=We.context,fe=Math.min(_e[0],ke[0]),de=Math.min(_e[1],ke[1]);Ue.translate(-fe,-de),Ue.transform.apply(Ue,pe);var G=this._scaleImage(le.canvas,Ue.mozCurrentTransformInverse);Ue.imageSmoothingEnabled=I(Ue.mozCurrentTransform,v.interpolate),Ue.drawImage(G.img,0,0,G.img.width,G.img.height,0,0,S,M),Ue.globalCompositeOperation="source-in";var te=e.Util.transform(Ue.mozCurrentTransformInverse,[1,0,0,1,-fe,-de]);return Ue.fillStyle=J?j.getPattern(u,this,te,a.PathType.FILL):j,Ue.fillRect(0,0,S,M),{canvas:We.canvas,offsetX:Math.round(fe),offsetY:Math.round(de)}}},{key:"setLineWidth",value:function(v){this.current.lineWidth=v,this.ctx.lineWidth=v}},{key:"setLineCap",value:function(v){this.ctx.lineCap=q[v]}},{key:"setLineJoin",value:function(v){this.ctx.lineJoin=re[v]}},{key:"setMiterLimit",value:function(v){this.ctx.miterLimit=v}},{key:"setDash",value:function(v,u){var S=this.ctx;S.setLineDash!==void 0&&(S.setLineDash(v),S.lineDashOffset=u)}},{key:"setRenderingIntent",value:function(v){}},{key:"setFlatness",value:function(v){}},{key:"setGState",value:function(v){for(var u=0,S=v.length;u<S;u++){var M=v[u],j=M[0],J=M[1];switch(j){case"LW":this.setLineWidth(J);break;case"LC":this.setLineCap(J);break;case"LJ":this.setLineJoin(J);break;case"ML":this.setMiterLimit(J);break;case"D":this.setDash(J[0],J[1]);break;case"RI":this.setRenderingIntent(J);break;case"FL":this.setFlatness(J);break;case"Font":this.setFont(J[0],J[1]);break;case"CA":this.current.strokeAlpha=M[1];break;case"ca":this.current.fillAlpha=M[1],this.ctx.globalAlpha=M[1];break;case"BM":this.ctx.globalCompositeOperation=J;break;case"SMask":this.current.activeSMask=J?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=J}}}},{key:"checkSMaskState",value:function(){var v=!!this.suspendedCtx;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.suspendedCtx)throw new Error("beginSMaskMode called while already in smask mode");var v=this.ctx.canvas.width,u=this.ctx.canvas.height,S="smaskGroupAt"+this.groupLevel,M=this.cachedCanvases.getCanvas(S,v,u,!0);this.suspendedCtx=this.ctx,this.ctx=M.context;var j=this.ctx;j.setTransform.apply(j,this.suspendedCtx.mozCurrentTransform),Z(this.suspendedCtx,j),h(j,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.suspendedCtx)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Z(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.current.activeSMask=null,this.suspendedCtx=null}},{key:"compose",value:function(v){if(!!this.current.activeSMask){v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var u=this.current.activeSMask,S=this.suspendedCtx;A(S,u,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.ctx.save();var v=this.current;this.stateStack.push(v),this.current=v.clone()}},{key:"restore",value:function(){this.stateStack.length===0&&this.current.activeSMask&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(v,u,S,M,j,J){this.ctx.transform(v,u,S,M,j,J),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(v,u){for(var S=this.ctx,M=this.current,j=M.x,J=M.y,le,ve,ye=0,pe=0,_e=v.length;ye<_e;ye++)switch(v[ye]|0){case e.OPS.rectangle:j=u[pe++],J=u[pe++];var ke=u[pe++],Ee=u[pe++],Fe=j+ke,Ie=J+Ee;S.moveTo(j,J),ke===0||Ee===0?S.lineTo(Fe,Ie):(S.lineTo(Fe,J),S.lineTo(Fe,Ie),S.lineTo(j,Ie)),M.updatePathMinMax(S.mozCurrentTransform,j,J),M.updatePathMinMax(S.mozCurrentTransform,Fe,Ie),S.closePath();break;case e.OPS.moveTo:j=u[pe++],J=u[pe++],S.moveTo(j,J),M.updatePathMinMax(S.mozCurrentTransform,j,J);break;case e.OPS.lineTo:j=u[pe++],J=u[pe++],S.lineTo(j,J),M.updatePathMinMax(S.mozCurrentTransform,j,J);break;case e.OPS.curveTo:le=j,ve=J,j=u[pe+4],J=u[pe+5],S.bezierCurveTo(u[pe],u[pe+1],u[pe+2],u[pe+3],j,J),M.updateCurvePathMinMax(S.mozCurrentTransform,le,ve,u[pe],u[pe+1],u[pe+2],u[pe+3],j,J),pe+=6;break;case e.OPS.curveTo2:le=j,ve=J,S.bezierCurveTo(j,J,u[pe],u[pe+1],u[pe+2],u[pe+3]),M.updateCurvePathMinMax(S.mozCurrentTransform,le,ve,j,J,u[pe],u[pe+1],u[pe+2],u[pe+3]),j=u[pe+2],J=u[pe+3],pe+=4;break;case e.OPS.curveTo3:le=j,ve=J,j=u[pe+2],J=u[pe+3],S.bezierCurveTo(u[pe],u[pe+1],j,J,j,J),M.updateCurvePathMinMax(S.mozCurrentTransform,le,ve,u[pe],u[pe+1],j,J,j,J),pe+=4;break;case e.OPS.closePath:S.closePath();break}M.setCurrentPoint(j,J)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(v){v=typeof v!="undefined"?v:!0;var u=this.ctx,S=this.current.strokeColor;if(u.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(c(S)==="object"&&S!==null&&S!==void 0&&S.getPattern){var M=this.getSinglePixelWidth();u.save(),u.strokeStyle=S.getPattern(u,this,u.mozCurrentTransformInverse,a.PathType.STROKE),u.lineWidth=Math.max(M,this.current.lineWidth),u.stroke(),u.restore()}else{var j=this.getSinglePixelWidth();j<0&&-j>=this.current.lineWidth?(u.save(),u.resetTransform(),u.lineWidth=Math.round(this._combinedScaleFactor),u.stroke(),u.restore()):(u.lineWidth=Math.max(j,this.current.lineWidth),u.stroke())}v&&this.consumePath(this.current.getClippedPathBoundingBox()),u.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(v){v=typeof v!="undefined"?v:!0;var u=this.ctx,S=this.current.fillColor,M=this.current.patternFill,j=!1;M&&(u.save(),u.fillStyle=S.getPattern(u,this,u.mozCurrentTransformInverse,a.PathType.FILL),j=!0);var J=this.current.getClippedPathBoundingBox();this.contentVisible&&J!==null&&(this.pendingEOFill?(u.fill("evenodd"),this.pendingEOFill=!1):u.fill()),j&&u.restore(),v&&this.consumePath(J)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=X}},{key:"eoClip",value:function(){this.pendingClip=be}},{key:"beginText",value:function(){this.current.textMatrix=e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var v=this.pendingTextPaths,u=this.ctx;if(v===void 0){u.beginPath();return}u.save(),u.beginPath();for(var S=0;S<v.length;S++){var M=v[S];u.setTransform.apply(u,M.transform),u.translate(M.x,M.y),M.addToPath(u,M.fontSize)}u.restore(),u.clip(),u.beginPath(),delete this.pendingTextPaths}},{key:"setCharSpacing",value:function(v){this.current.charSpacing=v}},{key:"setWordSpacing",value:function(v){this.current.wordSpacing=v}},{key:"setHScale",value:function(v){this.current.textHScale=v/100}},{key:"setLeading",value:function(v){this.current.leading=-v}},{key:"setFont",value:function(v,u){var S=this.commonObjs.get(v),M=this.current;if(!S)throw new Error("Can't find font for ".concat(v));if(M.fontMatrix=S.fontMatrix||e.FONT_IDENTITY_MATRIX,(M.fontMatrix[0]===0||M.fontMatrix[3]===0)&&(0,e.warn)("Invalid font matrix for font "+v),u<0?(u=-u,M.fontDirection=-1):M.fontDirection=1,this.current.font=S,this.current.fontSize=u,!S.isType3Font){var j=S.loadedName||"sans-serif",J="normal";S.black?J="900":S.bold&&(J="bold");var le=S.italic?"italic":"normal",ve='"'.concat(j,'", ').concat(S.fallbackName),ye=u;u<B?ye=B:u>k&&(ye=k),this.current.fontSizeScale=u/ye,this.ctx.font="".concat(le," ").concat(J," ").concat(ye,"px ").concat(ve)}}},{key:"setTextRenderingMode",value:function(v){this.current.textRenderingMode=v}},{key:"setTextRise",value:function(v){this.current.textRise=v}},{key:"moveText",value:function(v,u){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=u}},{key:"setLeadingMoveText",value:function(v,u){this.setLeading(-u),this.moveText(v,u)}},{key:"setTextMatrix",value:function(v,u,S,M,j,J){this.current.textMatrix=[v,u,S,M,j,J],this.current.textMatrixScale=Math.hypot(v,u),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(v,u,S,M,j){var J=this.ctx,le=this.current,ve=le.font,ye=le.textRenderingMode,pe=le.fontSize/le.fontSizeScale,_e=ye&e.TextRenderingMode.FILL_STROKE_MASK,ke=!!(ye&e.TextRenderingMode.ADD_TO_PATH_FLAG),Ee=le.patternFill&&!ve.missingFile,Fe;if((ve.disableFontFace||ke||Ee)&&(Fe=ve.getPathGenerator(this.commonObjs,v)),ve.disableFontFace||Ee?(J.save(),J.translate(u,S),J.beginPath(),Fe(J,pe),M&&J.setTransform.apply(J,M),(_e===e.TextRenderingMode.FILL||_e===e.TextRenderingMode.FILL_STROKE)&&J.fill(),(_e===e.TextRenderingMode.STROKE||_e===e.TextRenderingMode.FILL_STROKE)&&(j&&(J.resetTransform(),J.lineWidth=Math.round(this._combinedScaleFactor)),J.stroke()),J.restore()):((_e===e.TextRenderingMode.FILL||_e===e.TextRenderingMode.FILL_STROKE)&&J.fillText(v,u,S),(_e===e.TextRenderingMode.STROKE||_e===e.TextRenderingMode.FILL_STROKE)&&(j?(J.save(),J.moveTo(u,S),J.resetTransform(),J.lineWidth=Math.round(this._combinedScaleFactor),J.strokeText(v,0,0),J.restore()):J.strokeText(v,u,S))),ke){var Ie=this.pendingTextPaths||(this.pendingTextPaths=[]);Ie.push({transform:J.mozCurrentTransform,x:u,y:S,fontSize:pe,addToPath:Fe})}}},{key:"isFontSubpixelAAEnabled",get:function(){var v=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),u=v.context;u.scale(1.5,1),u.fillText("I",0,10);for(var S=u.getImageData(0,0,10,10).data,M=!1,j=3;j<S.length;j+=4)if(S[j]>0&&S[j]<255){M=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",M)}},{key:"showText",value:function(v){var u=this.current,S=u.font;if(S.isType3Font)return this.showType3Text(v);var M=u.fontSize;if(M!==0){var j=this.ctx,J=u.fontSizeScale,le=u.charSpacing,ve=u.wordSpacing,ye=u.fontDirection,pe=u.textHScale*ye,_e=v.length,ke=S.vertical,Ee=ke?1:-1,Fe=S.defaultVMetrics,Ie=M*u.fontMatrix[0],We=u.textRenderingMode===e.TextRenderingMode.FILL&&!S.disableFontFace&&!u.patternFill;j.save(),j.transform.apply(j,u.textMatrix),j.translate(u.x,u.y+u.textRise),ye>0?j.scale(pe,-1):j.scale(pe,1);var Ue;if(u.patternFill){j.save();var fe=u.fillColor.getPattern(j,this,j.mozCurrentTransformInverse,a.PathType.FILL);Ue=j.mozCurrentTransform,j.restore(),j.fillStyle=fe}var de=u.lineWidth,G=!1,te=u.textMatrixScale;if(te===0||de===0){var K=u.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;(K===e.TextRenderingMode.STROKE||K===e.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,de=this.getSinglePixelWidth(),G=de<0)}else de/=te;J!==1&&(j.scale(J,J),de/=J),j.lineWidth=de;var oe=0,ne;for(ne=0;ne<_e;++ne){var Q=v[ne];if((0,e.isNum)(Q)){oe+=Ee*Q*M/1e3;continue}var he=!1,ce=(Q.isSpace?ve:0)+le,Se=Q.fontChar,Re=Q.accent,De=void 0,Le=void 0,Ae=Q.width;if(ke){var Ge=Q.vmetric||Fe,xe=-(Q.vmetric?Ge[1]:Ae*.5)*Ie,Oe=Ge[2]*Ie;Ae=Ge?-Ge[0]:Ae,De=xe/J,Le=(oe+Oe)/J}else De=oe/J,Le=0;if(S.remeasure&&Ae>0){var Be=j.measureText(Se).width*1e3/M*J;if(Ae<Be&&this.isFontSubpixelAAEnabled){var Ne=Ae/Be;he=!0,j.save(),j.scale(Ne,1),De/=Ne}else Ae!==Be&&(De+=(Ae-Be)/2e3*M/J)}if(this.contentVisible&&(Q.isInFont||S.missingFile)){if(We&&!Re)j.fillText(Se,De,Le);else if(this.paintChar(Se,De,Le,Ue,G),Re){var Ve=De+M*Re.offset.x/J,Ye=Le-M*Re.offset.y/J;this.paintChar(Re.fontChar,Ve,Ye,Ue,G)}}var Je=void 0;ke?Je=Ae*Ie-ce*ye:Je=Ae*Ie+ce*ye,oe+=Je,he&&j.restore()}ke?u.y-=oe:u.x+=oe*pe,j.restore(),this.compose()}}},{key:"showType3Text",value:function(v){var u=this.ctx,S=this.current,M=S.font,j=S.fontSize,J=S.fontDirection,le=M.vertical?1:-1,ve=S.charSpacing,ye=S.wordSpacing,pe=S.textHScale*J,_e=S.fontMatrix||e.FONT_IDENTITY_MATRIX,ke=v.length,Ee=S.textRenderingMode===e.TextRenderingMode.INVISIBLE,Fe,Ie,We,Ue;if(!(Ee||j===0)){for(this._cachedGetSinglePixelWidth=null,u.save(),u.transform.apply(u,S.textMatrix),u.translate(S.x,S.y),u.scale(pe,J),Fe=0;Fe<ke;++Fe){if(Ie=v[Fe],(0,e.isNum)(Ie)){Ue=le*Ie*j/1e3,this.ctx.translate(Ue,0),S.x+=Ue*pe;continue}var fe=(Ie.isSpace?ye:0)+ve,de=M.charProcOperatorList[Ie.operatorListId];if(!de){(0,e.warn)('Type3 character "'.concat(Ie.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=Ie,this.save(),u.scale(j,j),u.transform.apply(u,_e),this.executeOperatorList(de),this.restore());var G=e.Util.applyTransform([Ie.width,0],_e);We=G[0]*j+fe,u.translate(We,0),S.x+=We*pe}u.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(v,u){}},{key:"setCharWidthAndBounds",value:function(v,u,S,M,j,J){this.ctx.rect(S,M,j-S,J-M),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(v){var u=this,S;if(v[0]==="TilingPattern"){var M=v[1],j=this.baseTransform||this.ctx.mozCurrentTransform.slice(),J={createCanvasGraphics:function(ve){return new H(ve,u.commonObjs,u.objs,u.canvasFactory)}};S=new a.TilingPattern(v,M,this.ctx,J,j)}else S=this._getPattern(v[1],v[2]);return S}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(v,u,S){var M=e.Util.makeHexColor(v,u,S);this.ctx.strokeStyle=M,this.current.strokeColor=M}},{key:"setFillRGBColor",value:function(v,u,S){var M=e.Util.makeHexColor(v,u,S);this.ctx.fillStyle=M,this.current.fillColor=M,this.current.patternFill=!1}},{key:"_getPattern",value:function(v){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S;return this.cachedPatterns.has(v)?S=this.cachedPatterns.get(v):(S=(0,a.getShadingPattern)(this.objs.get(v)),this.cachedPatterns.set(v,S)),u&&(S.matrix=u),S}},{key:"shadingFill",value:function(v){if(!!this.contentVisible){var u=this.ctx;this.save();var S=this._getPattern(v);u.fillStyle=S.getPattern(u,this,u.mozCurrentTransformInverse,a.PathType.SHADING);var M=u.mozCurrentTransformInverse;if(M){var j=u.canvas,J=j.width,le=j.height,ve=e.Util.applyTransform([0,0],M),ye=e.Util.applyTransform([0,le],M),pe=e.Util.applyTransform([J,0],M),_e=e.Util.applyTransform([J,le],M),ke=Math.min(ve[0],ye[0],pe[0],_e[0]),Ee=Math.min(ve[1],ye[1],pe[1],_e[1]),Fe=Math.max(ve[0],ye[0],pe[0],_e[0]),Ie=Math.max(ve[1],ye[1],pe[1],_e[1]);this.ctx.fillRect(ke,Ee,Fe-ke,Ie-Ee)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,e.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,e.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(v,u){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&v.length===6&&this.transform.apply(this,v),this.baseTransform=this.ctx.mozCurrentTransform,u)){var S=u[2]-u[0],M=u[3]-u[1];this.ctx.rect(u[0],u[1],S,M),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,u[0],u[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,u[2],u[3]),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(v){if(!!this.contentVisible){this.save();var u=this.suspendedCtx;this.current.activeSMask&&(this.suspendedCtx=null,this.current.activeSMask=null);var S=this.ctx;v.isolated||(0,e.info)("TODO: Support non-isolated groups."),v.knockout&&(0,e.warn)("Knockout groups not supported.");var M=S.mozCurrentTransform;if(v.matrix&&S.transform.apply(S,v.matrix),!v.bbox)throw new Error("Bounding box is required.");var j=e.Util.getAxialAlignedBoundingBox(v.bbox,S.mozCurrentTransform),J=[0,0,S.canvas.width,S.canvas.height];j=e.Util.intersect(j,J)||[0,0,0,0];var le=Math.floor(j[0]),ve=Math.floor(j[1]),ye=Math.max(Math.ceil(j[2])-le,1),pe=Math.max(Math.ceil(j[3])-ve,1),_e=1,ke=1;ye>U&&(_e=ye/U,ye=U),pe>U&&(ke=pe/U,pe=U),this.current.startNewPathAndClipBox([0,0,ye,pe]);var Ee="groupAt"+this.groupLevel;v.smask&&(Ee+="_smask_"+this.smaskCounter++%2);var Fe=this.cachedCanvases.getCanvas(Ee,ye,pe,!0),Ie=Fe.context;Ie.scale(1/_e,1/ke),Ie.translate(-le,-ve),Ie.transform.apply(Ie,M),v.smask?this.smaskStack.push({canvas:Fe.canvas,context:Ie,offsetX:le,offsetY:ve,scaleX:_e,scaleY:ke,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(S.setTransform(1,0,0,1,0,0),S.translate(le,ve),S.scale(_e,ke),S.save()),Z(S,Ie),this.ctx=Ie,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push({ctx:S,suspendedCtx:u}),this.groupLevel++}}},{key:"endGroup",value:function(v){if(!!this.contentVisible){this.groupLevel--;var u=this.ctx,S=this.groupStack.pop(),M=S.ctx,j=S.suspendedCtx;if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,j&&(this.suspendedCtx=j),v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();var J=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,J);var le=e.Util.getAxialAlignedBoundingBox([0,0,u.canvas.width,u.canvas.height],J);this.ctx.drawImage(u.canvas,0,0),this.ctx.restore(),this.compose(le)}}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(v,u,S,M,j){if(this.save(),Array.isArray(u)&&u.length===4){var J=u[2]-u[0],le=u[3]-u[1];if(j&&this.annotationCanvasMap){S=S.slice(),S[4]-=u[0],S[5]-=u[1],u=u.slice(),u[0]=u[1]=0,u[2]=J,u[3]=le;var ve=e.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),ye=L(ve,2),pe=ye[0],_e=ye[1],ke=this.viewportScale,Ee=Math.ceil(J*this.outputScaleX*ke),Fe=Math.ceil(le*this.outputScaleY*ke);this.annotationCanvas=this.canvasFactory.create(Ee,Fe);var Ie=this.annotationCanvas,We=Ie.canvas,Ue=Ie.context;We.style.width="calc(".concat(J,"px * var(--viewport-scale-factor))"),We.style.height="calc(".concat(le,"px * var(--viewport-scale-factor))"),this.annotationCanvasMap.set(v,We),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ue,this.ctx.setTransform(pe,0,0,-_e,0,le*_e),_(this.ctx),ie(this.ctx)}else ie(this.ctx),this.ctx.rect(u[0],u[1],J,le),this.clip(),this.endPath()}this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,S),this.transform.apply(this,M)}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}},{key:"paintImageMaskXObject",value:function(v){if(!!this.contentVisible){var u=this.ctx,S=v.width,M=v.height,j=this.processingType3;if(j&&j.compiled===void 0&&(S<=f&&M<=f?j.compiled=z({data:v.data,width:S,height:M}):j.compiled=null),j!=null&&j.compiled){j.compiled(u);return}var J=this._createMaskCanvas(v),le=J.canvas;u.save(),u.setTransform(1,0,0,1,0,0),u.drawImage(le,J.offsetX,J.offsetY),u.restore(),this.compose()}}},{key:"paintImageMaskXObjectRepeat",value:function(v,u){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,j=arguments.length>4?arguments[4]:void 0,J=arguments.length>5?arguments[5]:void 0;if(!!this.contentVisible){var le=this.ctx;le.save();var ve=le.mozCurrentTransform;le.transform(u,S,M,j,0,0);var ye=this._createMaskCanvas(v);le.setTransform(1,0,0,1,0,0);for(var pe=0,_e=J.length;pe<_e;pe+=2){var ke=e.Util.transform(ve,[u,S,M,j,J[pe],J[pe+1]]),Ee=e.Util.applyTransform([0,0],ke),Fe=L(Ee,2),Ie=Fe[0],We=Fe[1];le.drawImage(ye.canvas,Ie,We)}le.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(v){if(!!this.contentVisible){for(var u=this.ctx,S=this.current.fillColor,M=this.current.patternFill,j=0,J=v.length;j<J;j++){var le=v[j],ve=le.width,ye=le.height,pe=this.cachedCanvases.getCanvas("maskCanvas",ve,ye),_e=pe.context;_e.save(),ee(_e,le),_e.globalCompositeOperation="source-in",_e.fillStyle=M?S.getPattern(_e,this,u.mozCurrentTransformInverse,a.PathType.FILL):S,_e.fillRect(0,0,ve,ye),_e.restore(),u.save(),u.transform.apply(u,le.transform),u.scale(1,-1),u.drawImage(pe.canvas,0,0,ve,ye,0,-1,1,1),u.restore()}this.compose()}}},{key:"paintImageXObject",value:function(v){if(!!this.contentVisible){var u=v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v);if(!u){(0,e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(u)}}},{key:"paintImageXObjectRepeat",value:function(v,u,S,M){if(!!this.contentVisible){var j=v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v);if(!j){(0,e.warn)("Dependent image isn't ready yet");return}for(var J=j.width,le=j.height,ve=[],ye=0,pe=M.length;ye<pe;ye+=2)ve.push({transform:[u,0,0,S,M[ye],M[ye+1]],x:0,y:0,w:J,h:le});this.paintInlineImageXObjectGroup(j,ve)}}},{key:"paintInlineImageXObject",value:function(v){if(!!this.contentVisible){var u=v.width,S=v.height,M=this.ctx;this.save(),M.scale(1/u,-1/S);var j;if(typeof HTMLElement=="function"&&v instanceof HTMLElement||!v.data)j=v;else{var J=this.cachedCanvases.getCanvas("inlineImage",u,S),le=J.context;$(le,v,this.current.transferMaps),j=J.canvas}var ve=this._scaleImage(j,M.mozCurrentTransformInverse);if(M.imageSmoothingEnabled=I(M.mozCurrentTransform,v.interpolate),M.drawImage(ve.img,0,0,ve.paintWidth,ve.paintHeight,0,-S,u,S),this.imageLayer){var ye=this.getCanvasPosition(0,-S);this.imageLayer.appendImage({imgData:v,left:ye[0],top:ye[1],width:u/M.mozCurrentTransformInverse[0],height:S/M.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(v,u){if(!!this.contentVisible){var S=this.ctx,M=v.width,j=v.height,J=this.cachedCanvases.getCanvas("inlineImage",M,j),le=J.context;$(le,v,this.current.transferMaps);for(var ve=0,ye=u.length;ve<ye;ve++){var pe=u[ve];if(S.save(),S.transform.apply(S,pe.transform),S.scale(1,-1),S.drawImage(J.canvas,pe.x,pe.y,pe.w,pe.h,0,-1,1,1),this.imageLayer){var _e=this.getCanvasPosition(pe.x,pe.y);this.imageLayer.appendImage({imgData:v,left:_e[0],top:_e[1],width:M,height:j})}S.restore()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(v){}},{key:"markPointProps",value:function(v,u){}},{key:"beginMarkedContent",value:function(v){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(v,u){v==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(u)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(v){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);var u=this.ctx;this.pendingClip&&(this.pendingClip===be?u.clip("evenodd"):u.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),u.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(this._cachedGetSinglePixelWidth===null){var v=this.ctx.mozCurrentTransform,u=Math.abs(v[0]*v[3]-v[2]*v[1]),S=Math.pow(v[0],2)+Math.pow(v[2],2),M=Math.pow(v[1],2)+Math.pow(v[3],2),j=Math.sqrt(Math.max(S,M))/u;S!==M&&this._combinedScaleFactor*j>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*j):u>Number.EPSILON?this._cachedGetSinglePixelWidth=j:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(v,u){var S=this.ctx.mozCurrentTransform;return[S[0]*v+S[2]*u+S[4],S[1]*v+S[3]*u+S[5]]}},{key:"isContentVisible",value:function(){for(var v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}}]),H}();n.CanvasGraphics=Pe;for(var we in e.OPS)Pe.prototype[we]!==void 0&&(Pe.prototype[e.OPS[we]]=Pe.prototype[we])},(s,n,t)=>{function e(D){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(ee){return typeof ee}:e=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},e(D)}Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=_;var a=t(4);function o(D,$){var ee=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!ee){if(Array.isArray(D)||(ee=c(D))||$&&D&&typeof D.length=="number"){ee&&(D=ee);var Z=0,ie=function(){};return{s:ie,n:function(){return Z>=D.length?{done:!0}:{done:!1,value:D[Z++]}},e:function(A){throw A},f:ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V=!0,Y=!1,E;return{s:function(){ee=ee.call(D)},n:function(){var A=ee.next();return V=A.done,A},e:function(A){Y=!0,E=A},f:function(){try{!V&&ee.return!=null&&ee.return()}finally{if(Y)throw E}}}}function c(D,$){if(!!D){if(typeof D=="string")return l(D,$);var ee=Object.prototype.toString.call(D).slice(8,-1);if(ee==="Object"&&D.constructor&&(ee=D.constructor.name),ee==="Map"||ee==="Set")return Array.from(D);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return l(D,$)}}function l(D,$){($==null||$>D.length)&&($=D.length);for(var ee=0,Z=new Array($);ee<$;ee++)Z[ee]=D[ee];return Z}function b(D,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create($&&$.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),$&&C(D,$)}function C(D,$){return C=Object.setPrototypeOf||function(Z,ie){return Z.__proto__=ie,Z},C(D,$)}function N(D){var $=w();return function(){var Z=R(D),ie;if($){var V=R(this).constructor;ie=Reflect.construct(Z,arguments,V)}else ie=Z.apply(this,arguments);return L(this,ie)}}function L(D,$){if($&&(e($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(D)}function W(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(D){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},R(D)}function O(D,$){if(!(D instanceof $))throw new TypeError("Cannot call a class as a function")}function P(D,$){for(var ee=0;ee<$.length;ee++){var Z=$[ee];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(D,Z.key,Z)}}function B(D,$,ee){return $&&P(D.prototype,$),ee&&P(D,ee),D}var k={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=k;function U(D,$){if(!(!$||typeof Path2D=="undefined")){var ee=$[2]-$[0],Z=$[3]-$[1],ie=new Path2D;ie.rect($[0],$[1],ee,Z),D.clip(ie)}}var p=function(){function D(){O(this,D),this.constructor===D&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}return B(D,[{key:"getPattern",value:function(){(0,a.unreachable)("Abstract method `getPattern` called.")}}]),D}(),d=function(D){b(ee,D);var $=N(ee);function ee(Z){var ie;return O(this,ee),ie=$.call(this),ie._type=Z[1],ie._bbox=Z[2],ie._colorStops=Z[3],ie._p0=Z[4],ie._p1=Z[5],ie._r0=Z[6],ie._r1=Z[7],ie.matrix=null,ie}return B(ee,[{key:"_createGradient",value:function(ie){var V;this._type==="axial"?V=ie.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(V=ie.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var Y=o(this._colorStops),E;try{for(Y.s();!(E=Y.n()).done;){var y=E.value;V.addColorStop(y[0],y[1])}}catch(A){Y.e(A)}finally{Y.f()}return V}},{key:"getPattern",value:function(ie,V,Y,E){var y;if(E===k.STROKE||E===k.FILL){var A=V.current.getClippedPathBoundingBox(E,ie.mozCurrentTransform)||[0,0,0,0],I=Math.ceil(A[2]-A[0])||1,q=Math.ceil(A[3]-A[1])||1,re=V.cachedCanvases.getCanvas("pattern",I,q,!0),X=re.context;X.clearRect(0,0,X.canvas.width,X.canvas.height),X.beginPath(),X.rect(0,0,X.canvas.width,X.canvas.height),X.translate(-A[0],-A[1]),Y=a.Util.transform(Y,[1,0,0,1,A[0],A[1]]),X.transform.apply(X,V.baseTransform),this.matrix&&X.transform.apply(X,this.matrix),U(X,this._bbox),X.fillStyle=this._createGradient(X),X.fill(),y=ie.createPattern(re.canvas,"no-repeat");var be=new DOMMatrix(Y);try{y.setTransform(be)}catch(Pe){(0,a.warn)('RadialAxialShadingPattern.getPattern: "'.concat(Pe==null?void 0:Pe.message,'".'))}}else U(ie,this._bbox),y=this._createGradient(ie);return y}}]),ee}(p);function f(D,$,ee,Z,ie,V,Y,E){var y=$.coords,A=$.colors,I=D.data,q=D.width*4,re;y[ee+1]>y[Z+1]&&(re=ee,ee=Z,Z=re,re=V,V=Y,Y=re),y[Z+1]>y[ie+1]&&(re=Z,Z=ie,ie=re,re=Y,Y=E,E=re),y[ee+1]>y[Z+1]&&(re=ee,ee=Z,Z=re,re=V,V=Y,Y=re);var X=(y[ee]+$.offsetX)*$.scaleX,be=(y[ee+1]+$.offsetY)*$.scaleY,Pe=(y[Z]+$.offsetX)*$.scaleX,we=(y[Z+1]+$.offsetY)*$.scaleY,H=(y[ie]+$.offsetX)*$.scaleX,F=(y[ie+1]+$.offsetY)*$.scaleY;if(!(be>=F))for(var v=A[V],u=A[V+1],S=A[V+2],M=A[Y],j=A[Y+1],J=A[Y+2],le=A[E],ve=A[E+1],ye=A[E+2],pe=Math.round(be),_e=Math.round(F),ke,Ee,Fe,Ie,We,Ue,fe,de,G=pe;G<=_e;G++){if(G<we){var te=void 0;G<be?te=0:te=(be-G)/(be-we),ke=X-(X-Pe)*te,Ee=v-(v-M)*te,Fe=u-(u-j)*te,Ie=S-(S-J)*te}else{var K=void 0;G>F?K=1:we===F?K=0:K=(we-G)/(we-F),ke=Pe-(Pe-H)*K,Ee=M-(M-le)*K,Fe=j-(j-ve)*K,Ie=J-(J-ye)*K}var oe=void 0;G<be?oe=0:G>F?oe=1:oe=(be-G)/(be-F),We=X-(X-H)*oe,Ue=v-(v-le)*oe,fe=u-(u-ve)*oe,de=S-(S-ye)*oe;for(var ne=Math.round(Math.min(ke,We)),Q=Math.round(Math.max(ke,We)),he=q*G+ne*4,ce=ne;ce<=Q;ce++)oe=(ke-ce)/(ke-We),oe<0?oe=0:oe>1&&(oe=1),I[he++]=Ee-(Ee-Ue)*oe|0,I[he++]=Fe-(Fe-fe)*oe|0,I[he++]=Ie-(Ie-de)*oe|0,I[he++]=255}}function m(D,$,ee){var Z=$.coords,ie=$.colors,V,Y;switch($.type){case"lattice":var E=$.verticesPerRow,y=Math.floor(Z.length/E)-1,A=E-1;for(V=0;V<y;V++)for(var I=V*E,q=0;q<A;q++,I++)f(D,ee,Z[I],Z[I+1],Z[I+E],ie[I],ie[I+1],ie[I+E]),f(D,ee,Z[I+E+1],Z[I+1],Z[I+E],ie[I+E+1],ie[I+1],ie[I+E]);break;case"triangles":for(V=0,Y=Z.length;V<Y;V+=3)f(D,ee,Z[V],Z[V+1],Z[V+2],ie[V],ie[V+1],ie[V+2]);break;default:throw new Error("illegal figure")}}var g=function(D){b(ee,D);var $=N(ee);function ee(Z){var ie;return O(this,ee),ie=$.call(this),ie._coords=Z[2],ie._colors=Z[3],ie._figures=Z[4],ie._bounds=Z[5],ie._bbox=Z[7],ie._background=Z[8],ie.matrix=null,ie}return B(ee,[{key:"_createMeshCanvas",value:function(ie,V,Y){var E=1.1,y=3e3,A=2,I=Math.floor(this._bounds[0]),q=Math.floor(this._bounds[1]),re=Math.ceil(this._bounds[2])-I,X=Math.ceil(this._bounds[3])-q,be=Math.min(Math.ceil(Math.abs(re*ie[0]*E)),y),Pe=Math.min(Math.ceil(Math.abs(X*ie[1]*E)),y),we=re/be,H=X/Pe,F={coords:this._coords,colors:this._colors,offsetX:-I,offsetY:-q,scaleX:1/we,scaleY:1/H},v=be+A*2,u=Pe+A*2,S=Y.getCanvas("mesh",v,u,!1),M=S.context,j=M.createImageData(be,Pe);if(V)for(var J=j.data,le=0,ve=J.length;le<ve;le+=4)J[le]=V[0],J[le+1]=V[1],J[le+2]=V[2],J[le+3]=255;var ye=o(this._figures),pe;try{for(ye.s();!(pe=ye.n()).done;){var _e=pe.value;m(j,_e,F)}}catch(Ee){ye.e(Ee)}finally{ye.f()}M.putImageData(j,A,A);var ke=S.canvas;return{canvas:ke,offsetX:I-A*we,offsetY:q-A*H,scaleX:we,scaleY:H}}},{key:"getPattern",value:function(ie,V,Y,E){U(ie,this._bbox);var y;if(E===k.SHADING)y=a.Util.singularValueDecompose2dScale(ie.mozCurrentTransform);else if(y=a.Util.singularValueDecompose2dScale(V.baseTransform),this.matrix){var A=a.Util.singularValueDecompose2dScale(this.matrix);y=[y[0]*A[0],y[1]*A[1]]}var I=this._createMeshCanvas(y,E===k.SHADING?null:this._background,V.cachedCanvases);return E!==k.SHADING&&(ie.setTransform.apply(ie,V.baseTransform),this.matrix&&ie.transform.apply(ie,this.matrix)),ie.translate(I.offsetX,I.offsetY),ie.scale(I.scaleX,I.scaleY),ie.createPattern(I.canvas,"no-repeat")}}]),ee}(p),h=function(D){b(ee,D);var $=N(ee);function ee(){return O(this,ee),$.apply(this,arguments)}return B(ee,[{key:"getPattern",value:function(){return"hotpink"}}]),ee}(p);function _(D){switch(D[0]){case"RadialAxial":return new d(D);case"Mesh":return new g(D);case"Dummy":return new h}throw new Error("Unknown IR type: ".concat(D[0]))}var x={COLORED:1,UNCOLORED:2},z=function(){function D($,ee,Z,ie,V){O(this,D),this.operatorList=$[2],this.matrix=$[3]||[1,0,0,1,0,0],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ee,this.ctx=Z,this.canvasGraphicsFactory=ie,this.baseTransform=V}return B(D,[{key:"createPatternCanvas",value:function(ee){var Z=this.operatorList,ie=this.bbox,V=this.xstep,Y=this.ystep,E=this.paintType,y=this.tilingType,A=this.color,I=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+y);var q=ie[0],re=ie[1],X=ie[2],be=ie[3],Pe=a.Util.singularValueDecompose2dScale(this.matrix),we=a.Util.singularValueDecompose2dScale(this.baseTransform),H=[Pe[0]*we[0],Pe[1]*we[1]],F=this.getSizeAndScale(V,this.ctx.canvas.width,H[0]),v=this.getSizeAndScale(Y,this.ctx.canvas.height,H[1]),u=ee.cachedCanvases.getCanvas("pattern",F.size,v.size,!0),S=u.context,M=I.createCanvasGraphics(S);M.groupLevel=ee.groupLevel,this.setFillAndStrokeStyleToContext(M,E,A);var j=q,J=re,le=X,ve=be;return q<0&&(j=0,le+=Math.abs(q)),re<0&&(J=0,ve+=Math.abs(re)),S.translate(-(F.scale*j),-(v.scale*J)),M.transform(F.scale,0,0,v.scale,0,0),this.clipBbox(M,j,J,le,ve),M.baseTransform=M.ctx.mozCurrentTransform.slice(),M.executeOperatorList(Z),M.endDrawing(),{canvas:u.canvas,scaleX:F.scale,scaleY:v.scale,offsetX:j,offsetY:J}}},{key:"getSizeAndScale",value:function(ee,Z,ie){ee=Math.abs(ee);var V=Math.max(D.MAX_PATTERN_SIZE,Z),Y=Math.ceil(ee*ie);return Y>=V?Y=V:ie=Y/ee,{scale:ie,size:Y}}},{key:"clipBbox",value:function(ee,Z,ie,V,Y){var E=V-Z,y=Y-ie;ee.ctx.rect(Z,ie,E,y),ee.clip(),ee.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(ee,Z,ie){var V=ee.ctx,Y=ee.current;switch(Z){case x.COLORED:var E=this.ctx;V.fillStyle=E.fillStyle,V.strokeStyle=E.strokeStyle,Y.fillColor=E.fillStyle,Y.strokeColor=E.strokeStyle;break;case x.UNCOLORED:var y=a.Util.makeHexColor(ie[0],ie[1],ie[2]);V.fillStyle=y,V.strokeStyle=y,Y.fillColor=y,Y.strokeColor=y;break;default:throw new a.FormatError("Unsupported paint type: ".concat(Z))}}},{key:"getPattern",value:function(ee,Z,ie,V){var Y=ie;V!==k.SHADING&&(Y=a.Util.transform(Y,Z.baseTransform),this.matrix&&(Y=a.Util.transform(Y,this.matrix)));var E=this.createPatternCanvas(Z),y=new DOMMatrix(Y);y=y.translate(E.offsetX,E.offsetY),y=y.scale(1/E.scaleX,1/E.scaleY);var A=ee.createPattern(E.canvas,"repeat");try{A.setTransform(y)}catch(I){(0,a.warn)('TilingPattern.getPattern: "'.concat(I==null?void 0:I.message,'".'))}return A}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),D}();n.TilingPattern=z},(s,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;var t=Object.create(null);n.GlobalWorkerOptions=t,t.workerPort=t.workerPort===void 0?null:t.workerPort,t.workerSrc=t.workerSrc===void 0?"":t.workerSrc},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var e=o(t(2)),a=t(4);function o(P){return P&&P.__esModule?P:{default:P}}function c(P,B,k,U,p,d,f){try{var m=P[d](f),g=m.value}catch(h){k(h);return}m.done?B(g):Promise.resolve(g).then(U,p)}function l(P){return function(){var B=this,k=arguments;return new Promise(function(U,p){var d=P.apply(B,k);function f(g){c(d,U,p,f,m,"next",g)}function m(g){c(d,U,p,f,m,"throw",g)}f(void 0)})}}function b(P,B){if(!(P instanceof B))throw new TypeError("Cannot call a class as a function")}function C(P,B){for(var k=0;k<B.length;k++){var U=B[k];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}function N(P,B,k){return B&&C(P.prototype,B),k&&C(P,k),P}function L(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(k){return typeof k}:L=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},L(P)}var W={UNKNOWN:0,DATA:1,ERROR:2},w={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function R(P){if(!(P instanceof Error||L(P)==="object"&&P!==null))return(0,a.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),P;switch(P.name){case"AbortException":return new a.AbortException(P.message);case"MissingPDFException":return new a.MissingPDFException(P.message);case"PasswordException":return new a.PasswordException(P.message,P.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(P.message,P.status);case"UnknownErrorException":return new a.UnknownErrorException(P.message,P.details);default:return new a.UnknownErrorException(P.message,P.toString())}}var O=function(){function P(B,k,U){var p=this;b(this,P),this.sourceName=B,this.targetName=k,this.comObj=U,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(d){var f=d.data;if(f.targetName===p.sourceName){if(f.stream){p._processStreamMessage(f);return}if(f.callback){var m=f.callbackId,g=p.callbackCapabilities[m];if(!g)throw new Error("Cannot resolve callback ".concat(m));if(delete p.callbackCapabilities[m],f.callback===W.DATA)g.resolve(f.data);else if(f.callback===W.ERROR)g.reject(R(f.reason));else throw new Error("Unexpected callback case");return}var h=p.actionHandler[f.action];if(!h)throw new Error("Unknown action from worker: ".concat(f.action));if(f.callbackId){var _=p.sourceName,x=f.sourceName;new Promise(function(z){z(h(f.data))}).then(function(z){U.postMessage({sourceName:_,targetName:x,callback:W.DATA,callbackId:f.callbackId,data:z})},function(z){U.postMessage({sourceName:_,targetName:x,callback:W.ERROR,callbackId:f.callbackId,reason:R(z)})});return}if(f.streamId){p._createStreamSink(f);return}h(f.data)}},U.addEventListener("message",this._onComObjOnMessage)}return N(P,[{key:"on",value:function(k,U){var p=this.actionHandler;if(p[k])throw new Error('There is already an actionName called "'.concat(k,'"'));p[k]=U}},{key:"send",value:function(k,U,p){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,data:U},p)}},{key:"sendWithPromise",value:function(k,U,p){var d=this.callbackId++,f=(0,a.createPromiseCapability)();this.callbackCapabilities[d]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,callbackId:d,data:U},p)}catch(m){f.reject(m)}return f.promise}},{key:"sendWithStream",value:function(k,U,p,d){var f=this,m=this.streamId++,g=this.sourceName,h=this.targetName,_=this.comObj;return new ReadableStream({start:function(z){var D=(0,a.createPromiseCapability)();return f.streamControllers[m]={controller:z,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},_.postMessage({sourceName:g,targetName:h,action:k,streamId:m,data:U,desiredSize:z.desiredSize},d),D.promise},pull:function(z){var D=(0,a.createPromiseCapability)();return f.streamControllers[m].pullCall=D,_.postMessage({sourceName:g,targetName:h,stream:w.PULL,streamId:m,desiredSize:z.desiredSize}),D.promise},cancel:function(z){(0,a.assert)(z instanceof Error,"cancel must have a valid reason");var D=(0,a.createPromiseCapability)();return f.streamControllers[m].cancelCall=D,f.streamControllers[m].isClosed=!0,_.postMessage({sourceName:g,targetName:h,stream:w.CANCEL,streamId:m,reason:R(z)}),D.promise}},p)}},{key:"_createStreamSink",value:function(k){var U=k.streamId,p=this.sourceName,d=k.sourceName,f=this.comObj,m=this,g=this.actionHandler[k.action],h={enqueue:function(x){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,D=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var $=this.desiredSize;this.desiredSize-=z,$>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f.postMessage({sourceName:p,targetName:d,stream:w.ENQUEUE,streamId:U,chunk:x},D)}},close:function(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:p,targetName:d,stream:w.CLOSE,streamId:U}),delete m.streamSinks[U])},error:function(x){(0,a.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:p,targetName:d,stream:w.ERROR,streamId:U,reason:R(x)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:k.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[U]=h,new Promise(function(_){_(g(k.data,h))}).then(function(){f.postMessage({sourceName:p,targetName:d,stream:w.START_COMPLETE,streamId:U,success:!0})},function(_){f.postMessage({sourceName:p,targetName:d,stream:w.START_COMPLETE,streamId:U,reason:R(_)})})}},{key:"_processStreamMessage",value:function(k){var U=k.streamId,p=this.sourceName,d=k.sourceName,f=this.comObj,m=this.streamControllers[U],g=this.streamSinks[U];switch(k.stream){case w.START_COMPLETE:k.success?m.startCall.resolve():m.startCall.reject(R(k.reason));break;case w.PULL_COMPLETE:k.success?m.pullCall.resolve():m.pullCall.reject(R(k.reason));break;case w.PULL:if(!g){f.postMessage({sourceName:p,targetName:d,stream:w.PULL_COMPLETE,streamId:U,success:!0});break}g.desiredSize<=0&&k.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=k.desiredSize,new Promise(function(h){h(g.onPull&&g.onPull())}).then(function(){f.postMessage({sourceName:p,targetName:d,stream:w.PULL_COMPLETE,streamId:U,success:!0})},function(h){f.postMessage({sourceName:p,targetName:d,stream:w.PULL_COMPLETE,streamId:U,reason:R(h)})});break;case w.ENQUEUE:if((0,a.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(k.chunk);break;case w.CLOSE:if((0,a.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,U);break;case w.ERROR:(0,a.assert)(m,"error should have stream controller"),m.controller.error(R(k.reason)),this._deleteStreamController(m,U);break;case w.CANCEL_COMPLETE:k.success?m.cancelCall.resolve():m.cancelCall.reject(R(k.reason)),this._deleteStreamController(m,U);break;case w.CANCEL:if(!g)break;new Promise(function(h){h(g.onCancel&&g.onCancel(R(k.reason)))}).then(function(){f.postMessage({sourceName:p,targetName:d,stream:w.CANCEL_COMPLETE,streamId:U,success:!0})},function(h){f.postMessage({sourceName:p,targetName:d,stream:w.CANCEL_COMPLETE,streamId:U,reason:R(h)})}),g.sinkCapability.reject(R(k.reason)),g.isCancelled=!0,delete this.streamSinks[U];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var B=l(e.default.mark(function U(p,d){return e.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Promise.allSettled([p.startCall&&p.startCall.promise,p.pullCall&&p.pullCall.promise,p.cancelCall&&p.cancelCall.promise]);case 2:delete this.streamControllers[d];case 3:case"end":return m.stop()}},U,this)}));function k(U,p){return B.apply(this,arguments)}return k}()},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),P}();n.MessageHandler=O},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var e=t(4);function a(B,k){if(!(B instanceof k))throw new TypeError("Cannot call a class as a function")}function o(B,k){for(var U=0;U<k.length;U++){var p=k[U];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(B,p.key,p)}}function c(B,k,U){return k&&o(B.prototype,k),U&&o(B,U),B}function l(B,k,U){b(B,k),k.set(B,U)}function b(B,k){if(k.has(B))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C(B,k){var U=W(B,k,"get");return N(B,U)}function N(B,k){return k.get?k.get.call(B):k.value}function L(B,k,U){var p=W(B,k,"set");return w(B,p,U),U}function W(B,k,U){if(!k.has(B))throw new TypeError("attempted to "+U+" private field on non-instance");return k.get(B)}function w(B,k,U){if(k.set)k.set.call(B,U);else{if(!k.writable)throw new TypeError("attempted to set read only private field");k.value=U}}var R=new WeakMap,O=new WeakMap,P=function(){function B(k){var U=k.parsedData,p=k.rawData;a(this,B),l(this,R,{writable:!0,value:void 0}),l(this,O,{writable:!0,value:void 0}),L(this,R,U),L(this,O,p)}return c(B,[{key:"getRaw",value:function(){return C(this,O)}},{key:"get",value:function(U){var p;return(p=C(this,R).get(U))!==null&&p!==void 0?p:null}},{key:"getAll",value:function(){return(0,e.objectFromMap)(C(this,R))}},{key:"has",value:function(U){return C(this,R).has(U)}}]),B}();n.Metadata=P},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var e=t(4);function a(W,w){var R=typeof Symbol!="undefined"&&W[Symbol.iterator]||W["@@iterator"];if(!R){if(Array.isArray(W)||(R=o(W))||w&&W&&typeof W.length=="number"){R&&(W=R);var O=0,P=function(){};return{s:P,n:function(){return O>=W.length?{done:!0}:{done:!1,value:W[O++]}},e:function(d){throw d},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=!0,k=!1,U;return{s:function(){R=R.call(W)},n:function(){var d=R.next();return B=d.done,d},e:function(d){k=!0,U=d},f:function(){try{!B&&R.return!=null&&R.return()}finally{if(k)throw U}}}}function o(W,w){if(!!W){if(typeof W=="string")return c(W,w);var R=Object.prototype.toString.call(W).slice(8,-1);if(R==="Object"&&W.constructor&&(R=W.constructor.name),R==="Map"||R==="Set")return Array.from(W);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return c(W,w)}}function c(W,w){(w==null||w>W.length)&&(w=W.length);for(var R=0,O=new Array(w);R<w;R++)O[R]=W[R];return O}function l(W,w){for(var R=0;R<w.length;R++){var O=w[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(W,O.key,O)}}function b(W,w,R){return w&&l(W.prototype,w),R&&l(W,R),W}function C(W,w){if(!(W instanceof w))throw new TypeError("Cannot call a class as a function")}var N=function W(w,R){C(this,W),this.visible=!0,this.name=w,this.intent=R},L=function(){function W(w){if(C(this,W),this.name=null,this.creator=null,this._order=null,this._groups=new Map,w!==null){this.name=w.name,this.creator=w.creator,this._order=w.order;var R=a(w.groups),O;try{for(R.s();!(O=R.n()).done;){var P=O.value;this._groups.set(P.id,new N(P.name,P.intent))}}catch(_){R.e(_)}finally{R.f()}if(w.baseState==="OFF"){var B=a(this._groups),k;try{for(B.s();!(k=B.n()).done;){var U=k.value;U.visible=!1}}catch(_){B.e(_)}finally{B.f()}}var p=a(w.on),d;try{for(p.s();!(d=p.n()).done;){var f=d.value;this._groups.get(f).visible=!0}}catch(_){p.e(_)}finally{p.f()}var m=a(w.off),g;try{for(m.s();!(g=m.n()).done;){var h=g.value;this._groups.get(h).visible=!1}}catch(_){m.e(_)}finally{m.f()}}}return b(W,[{key:"_evaluateVisibilityExpression",value:function(R){var O=R.length;if(O<2)return!0;for(var P=R[0],B=1;B<O;B++){var k=R[B],U=void 0;if(Array.isArray(k))U=this._evaluateVisibilityExpression(k);else if(this._groups.has(k))U=this._groups.get(k).visible;else return(0,e.warn)("Optional content group not found: ".concat(k)),!0;switch(P){case"And":if(!U)return!1;break;case"Or":if(U)return!0;break;case"Not":return!U;default:return!0}}return P==="And"}},{key:"isVisible",value:function(R){if(this._groups.size===0)return!0;if(!R)return(0,e.warn)("Optional content group not defined."),!0;if(R.type==="OCG")return this._groups.has(R.id)?this._groups.get(R.id).visible:((0,e.warn)("Optional content group not found: ".concat(R.id)),!0);if(R.type==="OCMD"){if(R.expression)return this._evaluateVisibilityExpression(R.expression);if(!R.policy||R.policy==="AnyOn"){var O=a(R.ids),P;try{for(O.s();!(P=O.n()).done;){var B=P.value;if(!this._groups.has(B))return(0,e.warn)("Optional content group not found: ".concat(B)),!0;if(this._groups.get(B).visible)return!0}}catch(x){O.e(x)}finally{O.f()}return!1}else if(R.policy==="AllOn"){var k=a(R.ids),U;try{for(k.s();!(U=k.n()).done;){var p=U.value;if(!this._groups.has(p))return(0,e.warn)("Optional content group not found: ".concat(p)),!0;if(!this._groups.get(p).visible)return!1}}catch(x){k.e(x)}finally{k.f()}return!0}else if(R.policy==="AnyOff"){var d=a(R.ids),f;try{for(d.s();!(f=d.n()).done;){var m=f.value;if(!this._groups.has(m))return(0,e.warn)("Optional content group not found: ".concat(m)),!0;if(!this._groups.get(m).visible)return!0}}catch(x){d.e(x)}finally{d.f()}return!1}else if(R.policy==="AllOff"){var g=a(R.ids),h;try{for(g.s();!(h=g.n()).done;){var _=h.value;if(!this._groups.has(_))return(0,e.warn)("Optional content group not found: ".concat(_)),!0;if(this._groups.get(_).visible)return!1}}catch(x){g.e(x)}finally{g.f()}return!0}return(0,e.warn)("Unknown optional content policy ".concat(R.policy,".")),!0}return(0,e.warn)("Unknown group type ".concat(R.type,".")),!0}},{key:"setVisibility",value:function(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this._groups.has(R)){(0,e.warn)("Optional content group not found: ".concat(R));return}this._groups.get(R).visible=!!O}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,e.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(R){return this._groups.get(R)||null}}]),W}();n.OptionalContentConfig=L},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var e=c(t(2)),a=t(4),o=t(1);function c(k){return k&&k.__esModule?k:{default:k}}function l(k,U,p,d,f,m,g){try{var h=k[m](g),_=h.value}catch(x){p(x);return}h.done?U(_):Promise.resolve(_).then(d,f)}function b(k){return function(){var U=this,p=arguments;return new Promise(function(d,f){var m=k.apply(U,p);function g(_){l(m,d,f,g,h,"next",_)}function h(_){l(m,d,f,g,h,"throw",_)}g(void 0)})}}function C(k,U){var p=typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(!p){if(Array.isArray(k)||(p=N(k))||U&&k&&typeof k.length=="number"){p&&(k=p);var d=0,f=function(){};return{s:f,n:function(){return d>=k.length?{done:!0}:{done:!1,value:k[d++]}},e:function(x){throw x},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,g=!1,h;return{s:function(){p=p.call(k)},n:function(){var x=p.next();return m=x.done,x},e:function(x){g=!0,h=x},f:function(){try{!m&&p.return!=null&&p.return()}finally{if(g)throw h}}}}function N(k,U){if(!!k){if(typeof k=="string")return L(k,U);var p=Object.prototype.toString.call(k).slice(8,-1);if(p==="Object"&&k.constructor&&(p=k.constructor.name),p==="Map"||p==="Set")return Array.from(k);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return L(k,U)}}function L(k,U){(U==null||U>k.length)&&(U=k.length);for(var p=0,d=new Array(U);p<U;p++)d[p]=k[p];return d}function W(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}function w(k,U){for(var p=0;p<U.length;p++){var d=U[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(k,d.key,d)}}function R(k,U,p){return U&&w(k.prototype,U),p&&w(k,p),k}var O=function(){function k(U,p){var d=this;W(this,k),(0,a.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=U.progressiveDone||!1,this._contentDispositionFilename=U.contentDispositionFilename||null;var f=U.initialData;if((f==null?void 0:f.length)>0){var m=new Uint8Array(f).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!U.disableStream,this._isRangeSupported=!U.disableRange,this._contentLength=U.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(g,h){d._onReceiveData({begin:g,chunk:h})}),this._pdfDataRangeTransport.addProgressListener(function(g,h){d._onProgress({loaded:g,total:h})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(g){d._onReceiveData({chunk:g})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){d._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return R(k,[{key:"_onReceiveData",value:function(p){var d=new Uint8Array(p.chunk).buffer;if(p.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{var f=this._rangeReaders.some(function(m){return m._begin!==p.begin?!1:(m._enqueue(d),!0)});(0,a.assert)(f,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var p,d;return(p=(d=this._fullRequestReader)===null||d===void 0?void 0:d._loaded)!==null&&p!==void 0?p:0}},{key:"_onProgress",value:function(p){if(p.total===void 0){var d=this._rangeReaders[0];d!=null&&d.onProgress&&d.onProgress({loaded:p.loaded})}else{var f=this._fullRequestReader;f!=null&&f.onProgress&&f.onProgress({loaded:p.loaded,total:p.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(p){var d=this._rangeReaders.indexOf(p);d>=0&&this._rangeReaders.splice(d,1)}},{key:"getFullReader",value:function(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var p=this._queuedChunks;return this._queuedChunks=null,new P(this,p,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(p,d){if(d<=this._progressiveDataLength)return null;var f=new B(this,p,d);return this._pdfDataRangeTransport.requestDataRange(p,d),this._rangeReaders.push(f),f}},{key:"cancelAllRequests",value:function(p){this._fullRequestReader&&this._fullRequestReader.cancel(p);var d=C(this._rangeReaders.slice(0)),f;try{for(d.s();!(f=d.n()).done;){var m=f.value;m.cancel(p)}}catch(g){d.e(g)}finally{d.f()}this._pdfDataRangeTransport.abort()}}]),k}();n.PDFDataTransportStream=O;var P=function(){function k(U,p){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;W(this,k),this._stream=U,this._done=d||!1,this._filename=(0,o.isPdfFile)(f)?f:null,this._queuedChunks=p||[],this._loaded=0;var m=C(this._queuedChunks),g;try{for(m.s();!(g=m.n()).done;){var h=g.value;this._loaded+=h.byteLength}}catch(_){m.e(_)}finally{m.f()}this._requests=[],this._headersReady=Promise.resolve(),U._fullRequestReader=this,this.onProgress=null}return R(k,[{key:"_enqueue",value:function(p){if(!this._done){if(this._requests.length>0){var d=this._requests.shift();d.resolve({value:p,done:!1})}else this._queuedChunks.push(p);this._loaded+=p.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var U=b(e.default.mark(function d(){var f,m;return e.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(this._queuedChunks.length>0)){h.next=3;break}return f=this._queuedChunks.shift(),h.abrupt("return",{value:f,done:!1});case 3:if(!this._done){h.next=5;break}return h.abrupt("return",{value:void 0,done:!0});case 5:return m=(0,a.createPromiseCapability)(),this._requests.push(m),h.abrupt("return",m.promise);case 8:case"end":return h.stop()}},d,this)}));function p(){return U.apply(this,arguments)}return p}()},{key:"cancel",value:function(p){this._done=!0;var d=C(this._requests),f;try{for(d.s();!(f=d.n()).done;){var m=f.value;m.resolve({value:void 0,done:!0})}}catch(g){d.e(g)}finally{d.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),k}(),B=function(){function k(U,p,d){W(this,k),this._stream=U,this._begin=p,this._end=d,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return R(k,[{key:"_enqueue",value:function(p){if(!this._done){if(this._requests.length===0)this._queuedChunk=p;else{var d=this._requests.shift();d.resolve({value:p,done:!1});var f=C(this._requests),m;try{for(f.s();!(m=f.n()).done;){var g=m.value;g.resolve({value:void 0,done:!0})}}catch(h){f.e(h)}finally{f.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var U=b(e.default.mark(function d(){var f,m;return e.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this._queuedChunk){h.next=4;break}return f=this._queuedChunk,this._queuedChunk=null,h.abrupt("return",{value:f,done:!1});case 4:if(!this._done){h.next=6;break}return h.abrupt("return",{value:void 0,done:!0});case 6:return m=(0,a.createPromiseCapability)(),this._requests.push(m),h.abrupt("return",m.promise);case 9:case"end":return h.stop()}},d,this)}));function p(){return U.apply(this,arguments)}return p}()},{key:"cancel",value:function(p){this._done=!0;var d=C(this._requests),f;try{for(d.s();!(f=d.n()).done;){var m=f.value;m.resolve({value:void 0,done:!0})}}catch(g){d.e(g)}finally{d.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),k}()},(s,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;function t(C,N){var L=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!L){if(Array.isArray(C)||(L=e(C))||N&&C&&typeof C.length=="number"){L&&(C=L);var W=0,w=function(){};return{s:w,n:function(){return W>=C.length?{done:!0}:{done:!1,value:C[W++]}},e:function(k){throw k},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=!0,O=!1,P;return{s:function(){L=L.call(C)},n:function(){var k=L.next();return R=k.done,k},e:function(k){O=!0,P=k},f:function(){try{!R&&L.return!=null&&L.return()}finally{if(O)throw P}}}}function e(C,N){if(!!C){if(typeof C=="string")return a(C,N);var L=Object.prototype.toString.call(C).slice(8,-1);if(L==="Object"&&C.constructor&&(L=C.constructor.name),L==="Map"||L==="Set")return Array.from(C);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return a(C,N)}}function a(C,N){(N==null||N>C.length)&&(N=C.length);for(var L=0,W=new Array(N);L<N;L++)W[L]=C[L];return W}function o(C,N){if(!(C instanceof N))throw new TypeError("Cannot call a class as a function")}function c(C,N){for(var L=0;L<N.length;L++){var W=N[L];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(C,W.key,W)}}function l(C,N,L){return N&&c(C.prototype,N),L&&c(C,L),C}var b=function(){function C(){o(this,C)}return l(C,null,[{key:"textContent",value:function(L){var W=[],w={items:W,styles:Object.create(null)};function R(O){var P;if(!!O){var B=null,k=O.name;if(k==="#text")B=O.value;else if(C.shouldBuildText(k))O!=null&&(P=O.attributes)!==null&&P!==void 0&&P.textContent?B=O.attributes.textContent:O.value&&(B=O.value);else return;if(B!==null&&W.push({str:B}),!!O.children){var U=t(O.children),p;try{for(U.s();!(p=U.n()).done;){var d=p.value;R(d)}}catch(f){U.e(f)}finally{U.f()}}}}return R(L),w}},{key:"shouldBuildText",value:function(L){return!(L==="textarea"||L==="input"||L==="option"||L==="select")}}]),C}();n.XfaText=b},(s,n,t)=>{function e(fe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(G){return typeof G}:e=function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},e(fe)}Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationLayer=void 0;var a=t(4),o=t(1),c=t(139),l=t(149),b=t(150);function C(fe,de,G){return N(fe,de),G}function N(fe,de){if(fe!==de)throw new TypeError("Private static access of wrong provenance")}function L(fe,de,G){return typeof Reflect!="undefined"&&Reflect.get?L=Reflect.get:L=function(K,oe,ne){var Q=W(K,oe);if(!!Q){var he=Object.getOwnPropertyDescriptor(Q,oe);return he.get?he.get.call(ne):he.value}},L(fe,de,G||fe)}function W(fe,de){for(;!Object.prototype.hasOwnProperty.call(fe,de)&&(fe=g(fe),fe!==null););return fe}function w(fe,de,G){return de in fe?Object.defineProperty(fe,de,{value:G,enumerable:!0,configurable:!0,writable:!0}):fe[de]=G,fe}function R(fe){return B(fe)||P(fe)||z(fe)||O()}function O(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(fe){if(typeof Symbol!="undefined"&&fe[Symbol.iterator]!=null||fe["@@iterator"]!=null)return Array.from(fe)}function B(fe){if(Array.isArray(fe))return D(fe)}function k(fe,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(de&&de.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),de&&U(fe,de)}function U(fe,de){return U=Object.setPrototypeOf||function(te,K){return te.__proto__=K,te},U(fe,de)}function p(fe){var de=m();return function(){var te=g(fe),K;if(de){var oe=g(this).constructor;K=Reflect.construct(te,arguments,oe)}else K=te.apply(this,arguments);return d(this,K)}}function d(fe,de){if(de&&(e(de)==="object"||typeof de=="function"))return de;if(de!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(fe)}function f(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g(fe){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)},g(fe)}function h(fe,de){var G=typeof Symbol!="undefined"&&fe[Symbol.iterator]||fe["@@iterator"];if(!G){if(Array.isArray(fe)||(G=z(fe))||de&&fe&&typeof fe.length=="number"){G&&(fe=G);var te=0,K=function(){};return{s:K,n:function(){return te>=fe.length?{done:!0}:{done:!1,value:fe[te++]}},e:function(ce){throw ce},f:K}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oe=!0,ne=!1,Q;return{s:function(){G=G.call(fe)},n:function(){var ce=G.next();return oe=ce.done,ce},e:function(ce){ne=!0,Q=ce},f:function(){try{!oe&&G.return!=null&&G.return()}finally{if(ne)throw Q}}}}function _(fe,de){return ee(fe)||$(fe,de)||z(fe,de)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(fe,de){if(!!fe){if(typeof fe=="string")return D(fe,de);var G=Object.prototype.toString.call(fe).slice(8,-1);if(G==="Object"&&fe.constructor&&(G=fe.constructor.name),G==="Map"||G==="Set")return Array.from(fe);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return D(fe,de)}}function D(fe,de){(de==null||de>fe.length)&&(de=fe.length);for(var G=0,te=new Array(de);G<de;G++)te[G]=fe[G];return te}function $(fe,de){var G=fe==null?null:typeof Symbol!="undefined"&&fe[Symbol.iterator]||fe["@@iterator"];if(G!=null){var te=[],K=!0,oe=!1,ne,Q;try{for(G=G.call(fe);!(K=(ne=G.next()).done)&&(te.push(ne.value),!(de&&te.length===de));K=!0);}catch(he){oe=!0,Q=he}finally{try{!K&&G.return!=null&&G.return()}finally{if(oe)throw Q}}return te}}function ee(fe){if(Array.isArray(fe))return fe}function Z(fe,de){if(!(fe instanceof de))throw new TypeError("Cannot call a class as a function")}function ie(fe,de){for(var G=0;G<de.length;G++){var te=de[G];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(fe,te.key,te)}}function V(fe,de,G){return de&&ie(fe.prototype,de),G&&ie(fe,G),fe}var Y=1e3,E=new WeakSet,y=function(){function fe(){Z(this,fe)}return V(fe,null,[{key:"create",value:function(G){var te=G.data.annotationType;switch(te){case a.AnnotationType.LINK:return new I(G);case a.AnnotationType.TEXT:return new q(G);case a.AnnotationType.WIDGET:var K=G.data.fieldType;switch(K){case"Tx":return new X(G);case"Btn":return G.data.radioButton?new Pe(G):G.data.checkBox?new be(G):new we(G);case"Ch":return new H(G)}return new re(G);case a.AnnotationType.POPUP:return new F(G);case a.AnnotationType.FREETEXT:return new u(G);case a.AnnotationType.LINE:return new S(G);case a.AnnotationType.SQUARE:return new M(G);case a.AnnotationType.CIRCLE:return new j(G);case a.AnnotationType.POLYLINE:return new J(G);case a.AnnotationType.CARET:return new ve(G);case a.AnnotationType.INK:return new ye(G);case a.AnnotationType.POLYGON:return new le(G);case a.AnnotationType.HIGHLIGHT:return new pe(G);case a.AnnotationType.UNDERLINE:return new _e(G);case a.AnnotationType.SQUIGGLY:return new ke(G);case a.AnnotationType.STRIKEOUT:return new Ee(G);case a.AnnotationType.STAMP:return new Fe(G);case a.AnnotationType.FILEATTACHMENT:return new Ie(G);default:return new A(G)}}}]),fe}(),A=function(){function fe(de){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=G.isRenderable,K=te===void 0?!1:te,oe=G.ignoreBorder,ne=oe===void 0?!1:oe,Q=G.createQuadrilaterals,he=Q===void 0?!1:Q;Z(this,fe),this.isRenderable=K,this.data=de.data,this.layer=de.layer,this.page=de.page,this.viewport=de.viewport,this.linkService=de.linkService,this.downloadManager=de.downloadManager,this.imageResourcesPath=de.imageResourcesPath,this.renderForms=de.renderForms,this.svgFactory=de.svgFactory,this.annotationStorage=de.annotationStorage,this.enableScripting=de.enableScripting,this.hasJSActions=de.hasJSActions,this._fieldObjects=de.fieldObjects,this._mouseState=de.mouseState,K&&(this.container=this._createContainer(ne)),he&&(this.quadrilaterals=this._createQuadrilaterals(ne))}return V(fe,[{key:"_createContainer",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,te=this.data,K=this.page,oe=this.viewport,ne=document.createElement("section"),Q=te.rect[2]-te.rect[0],he=te.rect[3]-te.rect[1];ne.setAttribute("data-annotation-id",te.id);var ce=a.Util.normalizeRect([te.rect[0],K.view[3]-te.rect[1]+K.view[1],te.rect[2],K.view[3]-te.rect[3]+K.view[1]]);if(te.hasOwnCanvas){var Se=oe.transform.slice(),Re=a.Util.singularValueDecompose2dScale(Se),De=_(Re,2),Le=De[0],Ae=De[1];Q=Math.ceil(Q*Le),he=Math.ceil(he*Ae),ce[0]*=Le,ce[1]*=Ae;for(var Ge=0;Ge<4;Ge++)Se[Ge]=Math.sign(Se[Ge]);ne.style.transform="matrix(".concat(Se.join(","),")")}else ne.style.transform="matrix(".concat(oe.transform.join(","),")");if(ne.style.transformOrigin="".concat(-ce[0],"px ").concat(-ce[1],"px"),!G&&te.borderStyle.width>0){ne.style.borderWidth="".concat(te.borderStyle.width,"px"),te.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(Q-=2*te.borderStyle.width,he-=2*te.borderStyle.width);var xe=te.borderStyle.horizontalCornerRadius,Oe=te.borderStyle.verticalCornerRadius;if(xe>0||Oe>0){var Be="".concat(xe,"px / ").concat(Oe,"px");ne.style.borderRadius=Be}switch(te.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:ne.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:ne.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:ne.style.borderBottomStyle="solid";break}var Ne=te.borderColor||te.color||null;Ne?ne.style.borderColor=a.Util.makeHexColor(te.color[0]|0,te.color[1]|0,te.color[2]|0):ne.style.borderWidth=0}return ne.style.left="".concat(ce[0],"px"),ne.style.top="".concat(ce[1],"px"),te.hasOwnCanvas?ne.style.width=ne.style.height="auto":(ne.style.width="".concat(Q,"px"),ne.style.height="".concat(he,"px")),ne}},{key:"_createQuadrilaterals",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;var te=[],K=this.data.rect,oe=h(this.data.quadPoints),ne;try{for(oe.s();!(ne=oe.n()).done;){var Q=ne.value;this.data.rect=[Q[2].x,Q[2].y,Q[1].x,Q[1].y],te.push(this._createContainer(G))}}catch(he){oe.e(he)}finally{oe.f()}return this.data.rect=K,te}},{key:"_createPopup",value:function(G,te){var K=this.container;this.quadrilaterals&&(G=G||this.quadrilaterals,K=this.quadrilaterals[0]),G||(G=document.createElement("div"),G.style.height=K.style.height,G.style.width=K.style.width,K.appendChild(G));var oe=new v({container:K,trigger:G,color:te.color,titleObj:te.titleObj,modificationDate:te.modificationDate,contentsObj:te.contentsObj,richText:te.richText,hideWrapper:!0}),ne=oe.render();ne.style.left=K.style.width,K.appendChild(ne)}},{key:"_renderQuadrilaterals",value:function(G){var te=h(this.quadrilaterals),K;try{for(te.s();!(K=te.n()).done;){var oe=K.value;oe.className=G}}catch(ne){te.e(ne)}finally{te.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(G){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,K=[];if(this._fieldObjects){var oe=this._fieldObjects[G];if(oe){var ne=h(oe),Q;try{for(ne.s();!(Q=ne.n()).done;){var he=Q.value,ce=he.page,Se=he.id,Re=he.exportValues;if(ce!==-1&&Se!==te){var De=typeof Re=="string"?Re:null,Le=document.getElementById(Se);if(Le&&!E.has(Le)){(0,a.warn)("_getElementsByName - element not allowed: ".concat(Se));continue}K.push({id:Se,exportValue:De,domElement:Le})}}}catch(Ne){ne.e(Ne)}finally{ne.f()}}return K}var Ae=h(document.getElementsByName(G)),Ge;try{for(Ae.s();!(Ge=Ae.n()).done;){var xe=Ge.value,Oe=xe.id,Be=xe.exportValue;Oe!==te&&(!E.has(xe)||K.push({id:Oe,exportValue:Be,domElement:xe}))}}catch(Ne){Ae.e(Ne)}finally{Ae.f()}return K}}],[{key:"platform",get:function(){var G=typeof navigator!="undefined"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:G.includes("Win"),isMac:G.includes("Mac")})}}]),fe}(),I=function(fe){k(G,fe);var de=p(G);function G(te){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Z(this,G);var oe=!!(te.data.url||te.data.dest||te.data.action||te.data.isTooltipOnly||te.data.resetForm||te.data.actions&&(te.data.actions.Action||te.data.actions["Mouse Up"]||te.data.actions["Mouse Down"]));return de.call(this,te,{isRenderable:oe,ignoreBorder:!!(K!=null&&K.ignoreBorder),createQuadrilaterals:!0})}return V(G,[{key:"render",value:function(){var K=this.data,oe=this.linkService,ne=document.createElement("a");if(K.url){var Q;oe.addLinkAttributes||(0,a.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),(Q=oe.addLinkAttributes)===null||Q===void 0||Q.call(oe,ne,K.url,K.newWindow)}else if(K.action)this._bindNamedAction(ne,K.action);else if(K.dest)this._bindLink(ne,K.dest);else{var he=!1;K.actions&&(K.actions.Action||K.actions["Mouse Up"]||K.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(he=!0,this._bindJSAction(ne,K)),K.resetForm?this._bindResetFormAction(ne,K.resetForm):he||this._bindLink(ne,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(ce,Se){var Re=Se===0?ne:ne.cloneNode();return ce.appendChild(Re),ce}):(this.container.className="linkAnnotation",this.container.appendChild(ne),this.container)}},{key:"_bindLink",value:function(K,oe){var ne=this;K.href=this.linkService.getDestinationHash(oe),K.onclick=function(){return oe&&ne.linkService.goToDestination(oe),!1},(oe||oe==="")&&(K.className="internalLink")}},{key:"_bindNamedAction",value:function(K,oe){var ne=this;K.href=this.linkService.getAnchorUrl(""),K.onclick=function(){return ne.linkService.executeNamedAction(oe),!1},K.className="internalLink"}},{key:"_bindJSAction",value:function(K,oe){var ne=this;K.href=this.linkService.getAnchorUrl("");for(var Q=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),he=function(){var Le=Se[ce],Ae=Q.get(Le);if(!Ae)return"continue";K[Ae]=function(){var Ge;return(Ge=ne.linkService.eventBus)===null||Ge===void 0||Ge.dispatch("dispatcheventinsandbox",{source:ne,detail:{id:oe.id,name:Le}}),!1}},ce=0,Se=Object.keys(oe.actions);ce<Se.length;ce++)var Re=he();K.onclick||(K.onclick=function(){return!1}),K.className="internalLink"}},{key:"_bindResetFormAction",value:function(K,oe){var ne=this,Q=K.onclick;if(Q||(K.href=this.linkService.getAnchorUrl("")),K.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Q||(K.onclick=function(){return!1});return}K.onclick=function(){Q&&Q();var he=oe.fields,ce=oe.refs,Se=oe.include,Re=[];if(he.length!==0||ce.length!==0){var De=new Set(ce),Le=h(he),Ae;try{for(Le.s();!(Ae=Le.n()).done;){var Ge=Ae.value,xe=ne._fieldObjects[Ge]||[],Oe=h(xe),Be;try{for(Oe.s();!(Be=Oe.n()).done;){var Ne=Be.value.id;De.add(Ne)}}catch(ze){Oe.e(ze)}finally{Oe.f()}}}catch(ze){Le.e(ze)}finally{Le.f()}for(var Ve=0,Ye=Object.values(ne._fieldObjects);Ve<Ye.length;Ve++){var Je=Ye[Ve],rt=h(Je),it;try{for(rt.s();!(it=rt.n()).done;){var yt=it.value;De.has(yt.id)===Se&&Re.push(yt)}}catch(ze){rt.e(ze)}finally{rt.f()}}}else for(var ht=0,Rt=Object.values(ne._fieldObjects);ht<Rt.length;ht++){var Xt=Rt[ht];Re.push.apply(Re,R(Xt))}for(var xt=ne.annotationStorage,Ot=[],Ft=0,Yt=Re;Ft<Yt.length;Ft++){var _t=Yt[Ft],wt=_t.id;switch(Ot.push(wt),_t.type){case"text":{var ue=_t.defaultValue||"";xt.setValue(wt,{value:ue,valueAsString:ue});break}case"checkbox":case"radiobutton":{var Te=_t.defaultValue===_t.exportValues;xt.setValue(wt,{value:Te});break}case"combobox":case"listbox":{var se=_t.defaultValue||"";xt.setValue(wt,{value:se});break}default:continue}var ge=document.getElementById(wt);!ge||!E.has(ge)||ge.dispatchEvent(new Event("resetform"))}if(ne.enableScripting){var je;(je=ne.linkService.eventBus)===null||je===void 0||je.dispatch("dispatcheventinsandbox",{source:ne,detail:{id:"app",ids:Ot,name:"ResetForm"}})}return!1}}}]),G}(A),q=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q})}return V(G,[{key:"render",value:function(){this.container.className="textAnnotation";var K=document.createElement("img");return K.style.height=this.container.style.height,K.style.width=this.container.style.width,K.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",K.alt="[{{type}} Annotation]",K.dataset.l10nId="text_annotation_type",K.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(K,this.data),this.container.appendChild(K),this.container}}]),G}(A),re=function(fe){k(G,fe);var de=p(G);function G(){return Z(this,G),de.apply(this,arguments)}return V(G,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(K){var oe=A.platform,ne=oe.isWin,Q=oe.isMac;return ne&&K.ctrlKey||Q&&K.metaKey}},{key:"_setEventListener",value:function(K,oe,ne,Q){var he=this;oe.includes("mouse")?K.addEventListener(oe,function(ce){var Se;(Se=he.linkService.eventBus)===null||Se===void 0||Se.dispatch("dispatcheventinsandbox",{source:he,detail:{id:he.data.id,name:ne,value:Q(ce),shift:ce.shiftKey,modifier:he._getKeyModifier(ce)}})}):K.addEventListener(oe,function(ce){var Se;(Se=he.linkService.eventBus)===null||Se===void 0||Se.dispatch("dispatcheventinsandbox",{source:he,detail:{id:he.data.id,name:ne,value:ce.target.checked}})})}},{key:"_setEventListeners",value:function(K,oe,ne){var Q=h(oe),he;try{for(Q.s();!(he=Q.n()).done;){var ce,Se=_(he.value,2),Re=Se[0],De=Se[1];(De==="Action"||(ce=this.data.actions)!==null&&ce!==void 0&&ce[De])&&this._setEventListener(K,Re,De,ne)}}catch(Le){Q.e(Le)}finally{Q.f()}}},{key:"_setBackgroundColor",value:function(K){var oe=this.data.backgroundColor||null;K.style.backgroundColor=oe===null?"transparent":a.Util.makeHexColor(oe[0],oe[1],oe[2])}},{key:"_dispatchEventFromSandbox",value:function(K,oe){for(var ne=this,Q=function(Ae,Ge,xe){var Oe=xe.detail[Ae];xe.target.style[Ge]=l.ColorConverters["".concat(Oe[0],"_HTML")](Oe.slice(1))},he={display:function(Ae){var Ge=Ae.detail.display%2===1;Ae.target.style.visibility=Ge?"hidden":"visible",ne.annotationStorage.setValue(ne.data.id,{hidden:Ge,print:Ae.detail.display===0||Ae.detail.display===3})},print:function(Ae){ne.annotationStorage.setValue(ne.data.id,{print:Ae.detail.print})},hidden:function(Ae){Ae.target.style.visibility=Ae.detail.hidden?"hidden":"visible",ne.annotationStorage.setValue(ne.data.id,{hidden:Ae.detail.hidden})},focus:function(Ae){setTimeout(function(){return Ae.target.focus({preventScroll:!1})},0)},userName:function(Ae){Ae.target.title=Ae.detail.userName},readonly:function(Ae){Ae.detail.readonly?Ae.target.setAttribute("readonly",""):Ae.target.removeAttribute("readonly")},required:function(Ae){Ae.detail.required?Ae.target.setAttribute("required",""):Ae.target.removeAttribute("required")},bgColor:function(Ae){Q("bgColor","backgroundColor",Ae)},fillColor:function(Ae){Q("fillColor","backgroundColor",Ae)},fgColor:function(Ae){Q("fgColor","color",Ae)},textColor:function(Ae){Q("textColor","color",Ae)},borderColor:function(Ae){Q("borderColor","borderColor",Ae)},strokeColor:function(Ae){Q("strokeColor","borderColor",Ae)}},ce=0,Se=Object.keys(oe.detail);ce<Se.length;ce++){var Re=Se[ce],De=K[Re]||he[Re];De&&De(oe)}}}]),G}(A),X=function(fe){k(G,fe);var de=p(G);function G(te){Z(this,G);var K=te.renderForms||!te.data.hasAppearance&&!!te.data.fieldValue;return de.call(this,te,{isRenderable:K})}return V(G,[{key:"setPropertyOnSiblings",value:function(K,oe,ne,Q){var he=this.annotationStorage,ce=h(this._getElementsByName(K.name,K.id)),Se;try{for(ce.s();!(Se=ce.n()).done;){var Re=Se.value;Re.domElement&&(Re.domElement[oe]=ne),he.setValue(Re.id,w({},Q,ne))}}catch(De){ce.e(De)}finally{ce.f()}}},{key:"render",value:function(){var K=this,oe=this.annotationStorage,ne=this.data.id;this.container.className="textWidgetAnnotation";var Q=null;if(this.renderForms){var he=oe.getValue(ne,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),ce=he.valueAsString||he.value||"",Se={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(Q=document.createElement("textarea"),Q.textContent=ce):(Q=document.createElement("input"),Q.type="text",Q.setAttribute("value",ce)),E.add(Q),Q.disabled=this.data.readOnly,Q.name=this.data.fieldName,Q.tabIndex=Y,Se.userValue=ce,Q.setAttribute("id",ne),Q.addEventListener("input",function(xe){oe.setValue(ne,{value:xe.target.value}),K.setPropertyOnSiblings(Q,"value",xe.target.value,"value")}),Q.addEventListener("resetform",function(xe){var Oe=K.data.defaultFieldValue||"";Q.value=Se.userValue=Oe,delete Se.formattedValue});var Re=function(Oe){Se.formattedValue&&(Oe.target.value=Se.formattedValue),Oe.target.scrollLeft=0,Se.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var De;Q.addEventListener("focus",function(xe){Se.userValue&&(xe.target.value=Se.userValue)}),Q.addEventListener("updatefromsandbox",function(xe){var Oe={value:function(Ne){Se.userValue=Ne.detail.value||"",oe.setValue(ne,{value:Se.userValue.toString()}),Se.formattedValue||(Ne.target.value=Se.userValue)},valueAsString:function(Ne){Se.formattedValue=Ne.detail.valueAsString||"",Ne.target!==document.activeElement&&(Ne.target.value=Se.formattedValue),oe.setValue(ne,{formattedValue:Se.formattedValue})},selRange:function(Ne){var Ve=_(Ne.detail.selRange,2),Ye=Ve[0],Je=Ve[1];Ye>=0&&Je<Ne.target.value.length&&Ne.target.setSelectionRange(Ye,Je)}};K._dispatchEventFromSandbox(Oe,xe)}),Q.addEventListener("keydown",function(xe){var Oe;Se.beforeInputValue=xe.target.value;var Be=-1;xe.key==="Escape"?Be=0:xe.key==="Enter"?Be=2:xe.key==="Tab"&&(Be=3),Be!==-1&&(Se.userValue=xe.target.value,(Oe=K.linkService.eventBus)===null||Oe===void 0||Oe.dispatch("dispatcheventinsandbox",{source:K,detail:{id:ne,name:"Keystroke",value:xe.target.value,willCommit:!0,commitKey:Be,selStart:xe.target.selectionStart,selEnd:xe.target.selectionEnd}}))});var Le=Re;Re=null,Q.addEventListener("blur",function(xe){if(K._mouseState.isDown){var Oe;Se.userValue=xe.target.value,(Oe=K.linkService.eventBus)===null||Oe===void 0||Oe.dispatch("dispatcheventinsandbox",{source:K,detail:{id:ne,name:"Keystroke",value:xe.target.value,willCommit:!0,commitKey:1,selStart:xe.target.selectionStart,selEnd:xe.target.selectionEnd}})}Le(xe)}),Q.addEventListener("mousedown",function(xe){Se.beforeInputValue=xe.target.value,Se.beforeInputSelectionRange=null}),Q.addEventListener("keyup",function(xe){xe.target.selectionStart===xe.target.selectionEnd&&(Se.beforeInputSelectionRange=null)}),Q.addEventListener("select",function(xe){Se.beforeInputSelectionRange=[xe.target.selectionStart,xe.target.selectionEnd]}),(De=this.data.actions)!==null&&De!==void 0&&De.Keystroke&&Q.addEventListener("input",function(xe){var Oe,Be=-1,Ne=-1;if(Se.beforeInputSelectionRange){var Ve=_(Se.beforeInputSelectionRange,2);Be=Ve[0],Ne=Ve[1]}(Oe=K.linkService.eventBus)===null||Oe===void 0||Oe.dispatch("dispatcheventinsandbox",{source:K,detail:{id:ne,name:"Keystroke",value:Se.beforeInputValue,change:xe.data,willCommit:!1,selStart:Be,selEnd:Ne}})}),this._setEventListeners(Q,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(xe){return xe.target.value})}if(Re&&Q.addEventListener("blur",Re),this.data.maxLen!==null&&(Q.maxLength=this.data.maxLen),this.data.comb){var Ae=this.data.rect[2]-this.data.rect[0],Ge=Ae/this.data.maxLen;Q.classList.add("comb"),Q.style.letterSpacing="calc(".concat(Ge,"px - 1ch)")}}else Q=document.createElement("div"),Q.textContent=this.data.fieldValue,Q.style.verticalAlign="middle",Q.style.display="table-cell";return this._setTextStyle(Q),this._setBackgroundColor(Q),this.container.appendChild(Q),this.container}},{key:"_setTextStyle",value:function(K){var oe=["left","center","right"],ne=this.data.defaultAppearanceData,Q=ne.fontSize,he=ne.fontColor,ce=K.style;Q&&(ce.fontSize="".concat(Q,"px")),ce.color=a.Util.makeHexColor(he[0],he[1],he[2]),this.data.textAlignment!==null&&(ce.textAlign=oe[this.data.textAlignment])}}]),G}(re),be=function(fe){k(G,fe);var de=p(G);function G(te){return Z(this,G),de.call(this,te,{isRenderable:te.renderForms})}return V(G,[{key:"render",value:function(){var K=this,oe=this.annotationStorage,ne=this.data,Q=ne.id,he=oe.getValue(Q,{value:ne.exportValue===ne.fieldValue}).value;typeof he=="string"&&(he=he!=="Off",oe.setValue(Q,{value:he})),this.container.className="buttonWidgetAnnotation checkBox";var ce=document.createElement("input");return E.add(ce),ce.disabled=ne.readOnly,ce.type="checkbox",ce.name=ne.fieldName,he&&ce.setAttribute("checked",!0),ce.setAttribute("id",Q),ce.setAttribute("exportValue",ne.exportValue),ce.tabIndex=Y,ce.addEventListener("change",function(Se){var Re=Se.target,De=Re.name,Le=Re.checked,Ae=h(K._getElementsByName(De,Q)),Ge;try{for(Ae.s();!(Ge=Ae.n()).done;){var xe=Ge.value,Oe=Le&&xe.exportValue===ne.exportValue;xe.domElement&&(xe.domElement.checked=Oe),oe.setValue(xe.id,{value:Oe})}}catch(Be){Ae.e(Be)}finally{Ae.f()}oe.setValue(Q,{value:Le})}),ce.addEventListener("resetform",function(Se){var Re=ne.defaultFieldValue||"Off";Se.target.checked=Re===ne.exportValue}),this.enableScripting&&this.hasJSActions&&(ce.addEventListener("updatefromsandbox",function(Se){var Re={value:function(Le){Le.target.checked=Le.detail.value!=="Off",oe.setValue(Q,{value:Le.target.checked})}};K._dispatchEventFromSandbox(Re,Se)}),this._setEventListeners(ce,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Se){return Se.target.checked})),this._setBackgroundColor(ce),this.container.appendChild(ce),this.container}}]),G}(re),Pe=function(fe){k(G,fe);var de=p(G);function G(te){return Z(this,G),de.call(this,te,{isRenderable:te.renderForms})}return V(G,[{key:"render",value:function(){var K=this;this.container.className="buttonWidgetAnnotation radioButton";var oe=this.annotationStorage,ne=this.data,Q=ne.id,he=oe.getValue(Q,{value:ne.fieldValue===ne.buttonValue}).value;typeof he=="string"&&(he=he!==ne.buttonValue,oe.setValue(Q,{value:he}));var ce=document.createElement("input");if(E.add(ce),ce.disabled=ne.readOnly,ce.type="radio",ce.name=ne.fieldName,he&&ce.setAttribute("checked",!0),ce.setAttribute("id",Q),ce.tabIndex=Y,ce.addEventListener("change",function(Re){var De=Re.target,Le=De.name,Ae=De.checked,Ge=h(K._getElementsByName(Le,Q)),xe;try{for(Ge.s();!(xe=Ge.n()).done;){var Oe=xe.value;oe.setValue(Oe.id,{value:!1})}}catch(Be){Ge.e(Be)}finally{Ge.f()}oe.setValue(Q,{value:Ae})}),ce.addEventListener("resetform",function(Re){var De=ne.defaultFieldValue;Re.target.checked=De!=null&&De===ne.buttonValue}),this.enableScripting&&this.hasJSActions){var Se=ne.buttonValue;ce.addEventListener("updatefromsandbox",function(Re){var De={value:function(Ae){var Ge=Se===Ae.detail.value,xe=h(K._getElementsByName(Ae.target.name)),Oe;try{for(xe.s();!(Oe=xe.n()).done;){var Be=Oe.value,Ne=Ge&&Be.id===Q;Be.domElement&&(Be.domElement.checked=Ne),oe.setValue(Be.id,{value:Ne})}}catch(Ve){xe.e(Ve)}finally{xe.f()}}};K._dispatchEventFromSandbox(De,Re)}),this._setEventListeners(ce,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Re){return Re.target.checked})}return this._setBackgroundColor(ce),this.container.appendChild(ce),this.container}}]),G}(re),we=function(fe){k(G,fe);var de=p(G);function G(te){return Z(this,G),de.call(this,te,{ignoreBorder:te.data.hasAppearance})}return V(G,[{key:"render",value:function(){var K=L(g(G.prototype),"render",this).call(this);return K.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(K.title=this.data.alternativeText),K}}]),G}(I),H=function(fe){k(G,fe);var de=p(G);function G(te){return Z(this,G),de.call(this,te,{isRenderable:te.renderForms})}return V(G,[{key:"render",value:function(){var K=this;this.container.className="choiceWidgetAnnotation";var oe=this.annotationStorage,ne=this.data.id;oe.getValue(ne,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var Q=this.data.defaultAppearanceData.fontSize;Q||(Q=9);var he="calc(".concat(Q,"px * var(--zoom-factor))"),ce=document.createElement("select");E.add(ce),ce.disabled=this.data.readOnly,ce.name=this.data.fieldName,ce.setAttribute("id",ne),ce.tabIndex=Y,ce.style.fontSize="".concat(Q,"px"),this.data.combo||(ce.size=this.data.options.length,this.data.multiSelect&&(ce.multiple=!0)),ce.addEventListener("resetform",function(xe){var Oe=K.data.defaultFieldValue,Be=h(ce.options),Ne;try{for(Be.s();!(Ne=Be.n()).done;){var Ve=Ne.value;Ve.selected=Ve.value===Oe}}catch(Ye){Be.e(Ye)}finally{Be.f()}});var Se=h(this.data.options),Re;try{for(Se.s();!(Re=Se.n()).done;){var De=Re.value,Le=document.createElement("option");Le.textContent=De.displayValue,Le.value=De.exportValue,this.data.combo&&(Le.style.fontSize=he),this.data.fieldValue.includes(De.exportValue)&&Le.setAttribute("selected",!0),ce.appendChild(Le)}}catch(xe){Se.e(xe)}finally{Se.f()}var Ae=function(Oe,Be){var Ne=Be?"value":"textContent",Ve=Oe.target.options;return Oe.target.multiple?Array.prototype.filter.call(Ve,function(Ye){return Ye.selected}).map(function(Ye){return Ye[Ne]}):Ve.selectedIndex===-1?null:Ve[Ve.selectedIndex][Ne]},Ge=function(Oe){var Be=Oe.target.options;return Array.prototype.map.call(Be,function(Ne){return{displayValue:Ne.textContent,exportValue:Ne.value}})};return this.enableScripting&&this.hasJSActions?(ce.addEventListener("updatefromsandbox",function(xe){var Oe={value:function(Ne){var Ve=Ne.detail.value,Ye=new Set(Array.isArray(Ve)?Ve:[Ve]),Je=h(ce.options),rt;try{for(Je.s();!(rt=Je.n()).done;){var it=rt.value;it.selected=Ye.has(it.value)}}catch(yt){Je.e(yt)}finally{Je.f()}oe.setValue(ne,{value:Ae(Ne,!0)})},multipleSelection:function(Ne){ce.multiple=!0},remove:function(Ne){var Ve=ce.options,Ye=Ne.detail.remove;if(Ve[Ye].selected=!1,ce.remove(Ye),Ve.length>0){var Je=Array.prototype.findIndex.call(Ve,function(rt){return rt.selected});Je===-1&&(Ve[0].selected=!0)}oe.setValue(ne,{value:Ae(Ne,!0),items:Ge(Ne)})},clear:function(Ne){for(;ce.length!==0;)ce.remove(0);oe.setValue(ne,{value:null,items:[]})},insert:function(Ne){var Ve=Ne.detail.insert,Ye=Ve.index,Je=Ve.displayValue,rt=Ve.exportValue,it=document.createElement("option");it.textContent=Je,it.value=rt,ce.insertBefore(it,ce.children[Ye]),oe.setValue(ne,{value:Ae(Ne,!0),items:Ge(Ne)})},items:function(Ne){for(var Ve=Ne.detail.items;ce.length!==0;)ce.remove(0);var Ye=h(Ve),Je;try{for(Ye.s();!(Je=Ye.n()).done;){var rt=Je.value,it=rt.displayValue,yt=rt.exportValue,ht=document.createElement("option");ht.textContent=it,ht.value=yt,ce.appendChild(ht)}}catch(Rt){Ye.e(Rt)}finally{Ye.f()}ce.options.length>0&&(ce.options[0].selected=!0),oe.setValue(ne,{value:Ae(Ne,!0),items:Ge(Ne)})},indices:function(Ne){var Ve=new Set(Ne.detail.indices),Ye=h(Ne.target.options),Je;try{for(Ye.s();!(Je=Ye.n()).done;){var rt=Je.value;rt.selected=Ve.has(rt.index)}}catch(it){Ye.e(it)}finally{Ye.f()}oe.setValue(ne,{value:Ae(Ne,!0)})},editable:function(Ne){Ne.target.disabled=!Ne.detail.editable}};K._dispatchEventFromSandbox(Oe,xe)}),ce.addEventListener("input",function(xe){var Oe,Be=Ae(xe,!0),Ne=Ae(xe,!1);oe.setValue(ne,{value:Be}),(Oe=K.linkService.eventBus)===null||Oe===void 0||Oe.dispatch("dispatcheventinsandbox",{source:K,detail:{id:ne,name:"Keystroke",value:Ne,changeEx:Be,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(ce,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(xe){return xe.target.checked})):ce.addEventListener("input",function(xe){oe.setValue(ne,{value:Ae(xe)})}),this._setBackgroundColor(ce),this.container.appendChild(ce),this.container}}]),G}(re),F=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!((K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q})}return V(G,[{key:"render",value:function(){var K=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",K.includes(this.data.parentType))return this.container;var oe='[data-annotation-id="'.concat(this.data.parentId,'"]'),ne=this.layer.querySelectorAll(oe);if(ne.length===0)return this.container;var Q=new v({container:this.container,trigger:Array.from(ne),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),he=this.page,ce=a.Util.normalizeRect([this.data.parentRect[0],he.view[3]-this.data.parentRect[1]+he.view[1],this.data.parentRect[2],he.view[3]-this.data.parentRect[3]+he.view[1]]),Se=ce[0]+this.data.parentRect[2]-this.data.parentRect[0],Re=ce[1];return this.container.style.transformOrigin="".concat(-Se,"px ").concat(-Re,"px"),this.container.style.left="".concat(Se,"px"),this.container.style.top="".concat(Re,"px"),this.container.appendChild(Q.render()),this.container}}]),G}(A),v=function(){function fe(de){Z(this,fe),this.container=de.container,this.trigger=de.trigger,this.color=de.color,this.titleObj=de.titleObj,this.modificationDate=de.modificationDate,this.contentsObj=de.contentsObj,this.richText=de.richText,this.hideWrapper=de.hideWrapper||!1,this.pinned=!1}return V(fe,[{key:"render",value:function(){var G,te,K=.7,oe=document.createElement("div");oe.className="popupWrapper",this.hideElement=this.hideWrapper?oe:this.container,this.hideElement.hidden=!0;var ne=document.createElement("div");ne.className="popup";var Q=this.color;if(Q){var he=K*(255-Q[0])+Q[0],ce=K*(255-Q[1])+Q[1],Se=K*(255-Q[2])+Q[2];ne.style.backgroundColor=a.Util.makeHexColor(he|0,ce|0,Se|0)}var Re=document.createElement("h1");Re.dir=this.titleObj.dir,Re.textContent=this.titleObj.str,ne.appendChild(Re);var De=o.PDFDateString.toDateObject(this.modificationDate);if(De){var Le=document.createElement("span");Le.className="popupDate",Le.textContent="{{date}}, {{time}}",Le.dataset.l10nId="annotation_date_string",Le.dataset.l10nArgs=JSON.stringify({date:De.toLocaleDateString(),time:De.toLocaleTimeString()}),ne.appendChild(Le)}if((G=this.richText)!==null&&G!==void 0&&G.str&&(!((te=this.contentsObj)!==null&&te!==void 0&&te.str)||this.contentsObj.str===this.richText.str))b.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ne}),ne.lastChild.className="richText popupContent";else{var Ae=this._formatContents(this.contentsObj);ne.appendChild(Ae)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var Ge=h(this.trigger),xe;try{for(Ge.s();!(xe=Ge.n()).done;){var Oe=xe.value;Oe.addEventListener("click",this._toggle.bind(this)),Oe.addEventListener("mouseover",this._show.bind(this,!1)),Oe.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(Be){Ge.e(Be)}finally{Ge.f()}return ne.addEventListener("click",this._hide.bind(this,!0)),oe.appendChild(ne),oe}},{key:"_formatContents",value:function(G){var te=G.str,K=G.dir,oe=document.createElement("p");oe.className="popupContent",oe.dir=K;for(var ne=te.split(/(?:\r\n?|\n)/),Q=0,he=ne.length;Q<he;++Q){var ce=ne[Q];oe.appendChild(document.createTextNode(ce)),Q<he-1&&oe.appendChild(document.createElement("br"))}return oe}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;G&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;G&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),fe}(),u=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0})}return V(G,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),G}(A),S=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0})}return V(G,[{key:"render",value:function(){this.container.className="lineAnnotation";var K=this.data,oe=K.rect[2]-K.rect[0],ne=K.rect[3]-K.rect[1],Q=this.svgFactory.create(oe,ne),he=this.svgFactory.createElement("svg:line");return he.setAttribute("x1",K.rect[2]-K.lineCoordinates[0]),he.setAttribute("y1",K.rect[3]-K.lineCoordinates[1]),he.setAttribute("x2",K.rect[2]-K.lineCoordinates[2]),he.setAttribute("y2",K.rect[3]-K.lineCoordinates[3]),he.setAttribute("stroke-width",K.borderStyle.width||1),he.setAttribute("stroke","transparent"),he.setAttribute("fill","transparent"),Q.appendChild(he),this.container.append(Q),this._createPopup(he,K),this.container}}]),G}(A),M=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0})}return V(G,[{key:"render",value:function(){this.container.className="squareAnnotation";var K=this.data,oe=K.rect[2]-K.rect[0],ne=K.rect[3]-K.rect[1],Q=this.svgFactory.create(oe,ne),he=K.borderStyle.width,ce=this.svgFactory.createElement("svg:rect");return ce.setAttribute("x",he/2),ce.setAttribute("y",he/2),ce.setAttribute("width",oe-he),ce.setAttribute("height",ne-he),ce.setAttribute("stroke-width",he||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","transparent"),Q.appendChild(ce),this.container.append(Q),this._createPopup(ce,K),this.container}}]),G}(A),j=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0})}return V(G,[{key:"render",value:function(){this.container.className="circleAnnotation";var K=this.data,oe=K.rect[2]-K.rect[0],ne=K.rect[3]-K.rect[1],Q=this.svgFactory.create(oe,ne),he=K.borderStyle.width,ce=this.svgFactory.createElement("svg:ellipse");return ce.setAttribute("cx",oe/2),ce.setAttribute("cy",ne/2),ce.setAttribute("rx",oe/2-he/2),ce.setAttribute("ry",ne/2-he/2),ce.setAttribute("stroke-width",he||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","transparent"),Q.appendChild(ce),this.container.append(Q),this._createPopup(ce,K),this.container}}]),G}(A),J=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne,Q;Z(this,G);var he=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return Q=de.call(this,te,{isRenderable:he,ignoreBorder:!0}),Q.containerClassName="polylineAnnotation",Q.svgElementName="svg:polyline",Q}return V(G,[{key:"render",value:function(){this.container.className=this.containerClassName;var K=this.data,oe=K.rect[2]-K.rect[0],ne=K.rect[3]-K.rect[1],Q=this.svgFactory.create(oe,ne),he=[],ce=h(K.vertices),Se;try{for(ce.s();!(Se=ce.n()).done;){var Re=Se.value,De=Re.x-K.rect[0],Le=K.rect[3]-Re.y;he.push(De+","+Le)}}catch(Ge){ce.e(Ge)}finally{ce.f()}he=he.join(" ");var Ae=this.svgFactory.createElement(this.svgElementName);return Ae.setAttribute("points",he),Ae.setAttribute("stroke-width",K.borderStyle.width||1),Ae.setAttribute("stroke","transparent"),Ae.setAttribute("fill","transparent"),Q.appendChild(Ae),this.container.append(Q),this._createPopup(Ae,K),this.container}}]),G}(A),le=function(fe){k(G,fe);var de=p(G);function G(te){var K;return Z(this,G),K=de.call(this,te),K.containerClassName="polygonAnnotation",K.svgElementName="svg:polygon",K}return G}(J),ve=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0})}return V(G,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),G}(A),ye=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne,Q;Z(this,G);var he=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return Q=de.call(this,te,{isRenderable:he,ignoreBorder:!0}),Q.containerClassName="inkAnnotation",Q.svgElementName="svg:polyline",Q}return V(G,[{key:"render",value:function(){this.container.className=this.containerClassName;var K=this.data,oe=K.rect[2]-K.rect[0],ne=K.rect[3]-K.rect[1],Q=this.svgFactory.create(oe,ne),he=h(K.inkLists),ce;try{for(he.s();!(ce=he.n()).done;){var Se=ce.value,Re=[],De=h(Se),Le;try{for(De.s();!(Le=De.n()).done;){var Ae=Le.value,Ge=Ae.x-K.rect[0],xe=K.rect[3]-Ae.y;Re.push("".concat(Ge,",").concat(xe))}}catch(Be){De.e(Be)}finally{De.f()}Re=Re.join(" ");var Oe=this.svgFactory.createElement(this.svgElementName);Oe.setAttribute("points",Re),Oe.setAttribute("stroke-width",K.borderStyle.width||1),Oe.setAttribute("stroke","transparent"),Oe.setAttribute("fill","transparent"),this._createPopup(Oe,K),Q.appendChild(Oe)}}catch(Be){he.e(Be)}finally{he.f()}return this.container.append(Q),this.container}}]),G}(A),pe=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}return V(G,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),G}(A),_e=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}return V(G,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),G}(A),ke=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}return V(G,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),G}(A),Ee=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0,createQuadrilaterals:!0})}return V(G,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),G}(A),Fe=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe,ne;Z(this,G);var Q=!!(te.data.hasPopup||(K=te.data.titleObj)!==null&&K!==void 0&&K.str||(oe=te.data.contentsObj)!==null&&oe!==void 0&&oe.str||(ne=te.data.richText)!==null&&ne!==void 0&&ne.str);return de.call(this,te,{isRenderable:Q,ignoreBorder:!0})}return V(G,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),G}(A),Ie=function(fe){k(G,fe);var de=p(G);function G(te){var K,oe;Z(this,G),oe=de.call(this,te,{isRenderable:!0});var ne=oe.data.file,Q=ne.filename,he=ne.content;return oe.filename=(0,o.getFilenameFromUrl)(Q),oe.content=he,(K=oe.linkService.eventBus)===null||K===void 0||K.dispatch("fileattachmentannotation",{source:f(oe),id:(0,a.stringToPDFString)(Q),filename:Q,content:he}),oe}return V(G,[{key:"render",value:function(){var K,oe;this.container.className="fileAttachmentAnnotation";var ne=document.createElement("div");return ne.style.height=this.container.style.height,ne.style.width=this.container.style.width,ne.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((K=this.data.titleObj)!==null&&K!==void 0&&K.str||(oe=this.data.contentsObj)!==null&&oe!==void 0&&oe.str||this.data.richText)&&this._createPopup(ne,this.data),this.container.appendChild(ne),this.container}},{key:"_download",value:function(){var K;(K=this.downloadManager)===null||K===void 0||K.openOrDownloadData(this.container,this.content,this.filename)}}]),G}(A),We=function(){function fe(){Z(this,fe)}return V(fe,null,[{key:"render",value:function(G){var te=[],K=[],oe=h(G.annotations),ne;try{for(oe.s();!(ne=oe.n()).done;){var Q=ne.value;if(!!Q){if(Q.annotationType===a.AnnotationType.POPUP){K.push(Q);continue}te.push(Q)}}}catch(Oe){oe.e(Oe)}finally{oe.f()}K.length&&te.push.apply(te,K);for(var he=G.div,ce=0,Se=te;ce<Se.length;ce++){var Re=Se[ce],De=y.create({data:Re,layer:he,page:G.page,viewport:G.viewport,linkService:G.linkService,downloadManager:G.downloadManager,imageResourcesPath:G.imageResourcesPath||"",renderForms:G.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:G.annotationStorage||new c.AnnotationStorage,enableScripting:G.enableScripting,hasJSActions:G.hasJSActions,fieldObjects:G.fieldObjects,mouseState:G.mouseState||{isDown:!1}});if(De.isRenderable){var Le=De.render();if(Re.hidden&&(Le.style.visibility="hidden"),Array.isArray(Le)){var Ae=h(Le),Ge;try{for(Ae.s();!(Ge=Ae.n()).done;){var xe=Ge.value;he.appendChild(xe)}}catch(Oe){Ae.e(Oe)}finally{Ae.f()}}else De instanceof F?he.prepend(Le):he.appendChild(Le)}}C(this,fe,Ue).call(this,he,G.annotationCanvasMap)}},{key:"update",value:function(G){var te=G.page,K=G.viewport,oe=G.annotations,ne=G.annotationCanvasMap,Q=G.div,he=K.transform,ce="matrix(".concat(he.join(","),")"),Se,Re,De=h(oe),Le;try{for(De.s();!(Le=De.n()).done;){var Ae=Le.value,Ge=Q.querySelectorAll('[data-annotation-id="'.concat(Ae.id,'"]'));if(Ge){var xe=h(Ge),Oe;try{for(xe.s();!(Oe=xe.n()).done;){var Be=Oe.value;if(Ae.hasOwnCanvas){var Ne=a.Util.normalizeRect([Ae.rect[0],te.view[3]-Ae.rect[1]+te.view[1],Ae.rect[2],te.view[3]-Ae.rect[3]+te.view[1]]);if(!Re){Se=Math.abs(he[0]||he[1]);for(var Ve=he.slice(),Ye=0;Ye<4;Ye++)Ve[Ye]=Math.sign(Ve[Ye]);Re="matrix(".concat(Ve.join(","),")")}var Je=Ne[0]*Se,rt=Ne[1]*Se;Be.style.left="".concat(Je,"px"),Be.style.top="".concat(rt,"px"),Be.style.transformOrigin="".concat(-Je,"px ").concat(-rt,"px"),Be.style.transform=Re}else Be.style.transform=ce}}catch(it){xe.e(it)}finally{xe.f()}}}}catch(it){De.e(it)}finally{De.f()}C(this,fe,Ue).call(this,Q,ne),Q.hidden=!1}}]),fe}();n.AnnotationLayer=We;function Ue(fe,de){if(!!de){var G=h(de),te;try{for(G.s();!(te=G.n()).done;){var K=_(te.value,2),oe=K[0],ne=K[1],Q=fe.querySelector('[data-annotation-id="'.concat(oe,'"]'));if(!!Q){var he=Q.firstChild;he.nodeName==="CANVAS"?Q.replaceChild(ne,he):Q.insertBefore(ne,he)}}}catch(ce){G.e(ce)}finally{G.f()}de.clear()}}},(s,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function t(w,R){return l(w)||c(w,R)||a(w,R)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(w,R){if(!!w){if(typeof w=="string")return o(w,R);var O=Object.prototype.toString.call(w).slice(8,-1);if(O==="Object"&&w.constructor&&(O=w.constructor.name),O==="Map"||O==="Set")return Array.from(w);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return o(w,R)}}function o(w,R){(R==null||R>w.length)&&(R=w.length);for(var O=0,P=new Array(R);O<R;O++)P[O]=w[O];return P}function c(w,R){var O=w==null?null:typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(O!=null){var P=[],B=!0,k=!1,U,p;try{for(O=O.call(w);!(B=(U=O.next()).done)&&(P.push(U.value),!(R&&P.length===R));B=!0);}catch(d){k=!0,p=d}finally{try{!B&&O.return!=null&&O.return()}finally{if(k)throw p}}return P}}function l(w){if(Array.isArray(w))return w}function b(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")}function C(w,R){for(var O=0;O<R.length;O++){var P=R[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}function N(w,R,O){return R&&C(w.prototype,R),O&&C(w,O),w}function L(w){return Math.floor(Math.max(0,Math.min(1,w))*255).toString(16).padStart(2,"0")}var W=function(){function w(){b(this,w)}return N(w,null,[{key:"CMYK_G",value:function(O){var P=t(O,4),B=P[0],k=P[1],U=P[2],p=P[3];return["G",1-Math.min(1,.3*B+.59*U+.11*k+p)]}},{key:"G_CMYK",value:function(O){var P=t(O,1),B=P[0];return["CMYK",0,0,0,1-B]}},{key:"G_RGB",value:function(O){var P=t(O,1),B=P[0];return["RGB",B,B,B]}},{key:"G_HTML",value:function(O){var P=t(O,1),B=P[0],k=L(B);return"#".concat(k).concat(k).concat(k)}},{key:"RGB_G",value:function(O){var P=t(O,3),B=P[0],k=P[1],U=P[2];return["G",.3*B+.59*k+.11*U]}},{key:"RGB_HTML",value:function(O){var P=t(O,3),B=P[0],k=P[1],U=P[2],p=L(B),d=L(k),f=L(U);return"#".concat(p).concat(d).concat(f)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(O){var P=t(O,4),B=P[0],k=P[1],U=P[2],p=P[3];return["RGB",1-Math.min(1,B+p),1-Math.min(1,U+p),1-Math.min(1,k+p)]}},{key:"CMYK_HTML",value:function(O){return this.RGB_HTML(this.CMYK_RGB(O))}},{key:"RGB_CMYK",value:function(O){var P=t(O,3),B=P[0],k=P[1],U=P[2],p=1-B,d=1-k,f=1-U,m=Math.min(p,d,f);return["CMYK",p,d,f,m]}}]),w}();n.ColorConverters=W},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var e=t(4),a=t(147);function o(P,B){return b(P)||l(P,B)||N(P,B)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(P,B){var k=P==null?null:typeof Symbol!="undefined"&&P[Symbol.iterator]||P["@@iterator"];if(k!=null){var U=[],p=!0,d=!1,f,m;try{for(k=k.call(P);!(p=(f=k.next()).done)&&(U.push(f.value),!(B&&U.length===B));p=!0);}catch(g){d=!0,m=g}finally{try{!p&&k.return!=null&&k.return()}finally{if(d)throw m}}return U}}function b(P){if(Array.isArray(P))return P}function C(P,B){var k=typeof Symbol!="undefined"&&P[Symbol.iterator]||P["@@iterator"];if(!k){if(Array.isArray(P)||(k=N(P))||B&&P&&typeof P.length=="number"){k&&(P=k);var U=0,p=function(){};return{s:p,n:function(){return U>=P.length?{done:!0}:{done:!1,value:P[U++]}},e:function(h){throw h},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=!0,f=!1,m;return{s:function(){k=k.call(P)},n:function(){var h=k.next();return d=h.done,h},e:function(h){f=!0,m=h},f:function(){try{!d&&k.return!=null&&k.return()}finally{if(f)throw m}}}}function N(P,B){if(!!P){if(typeof P=="string")return L(P,B);var k=Object.prototype.toString.call(P).slice(8,-1);if(k==="Object"&&P.constructor&&(k=P.constructor.name),k==="Map"||k==="Set")return Array.from(P);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return L(P,B)}}function L(P,B){(B==null||B>P.length)&&(B=P.length);for(var k=0,U=new Array(B);k<B;k++)U[k]=P[k];return U}function W(P,B){if(!(P instanceof B))throw new TypeError("Cannot call a class as a function")}function w(P,B){for(var k=0;k<B.length;k++){var U=B[k];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}function R(P,B,k){return B&&w(P.prototype,B),k&&w(P,k),P}var O=function(){function P(){W(this,P)}return R(P,null,[{key:"setupStorage",value:function(k,U,p,d,f){var m=d.getValue(U,{value:null});switch(p.name){case"textarea":if(m.value!==null&&(k.textContent=m.value),f==="print")break;k.addEventListener("input",function(x){d.setValue(U,{value:x.target.value})});break;case"input":if(p.attributes.type==="radio"||p.attributes.type==="checkbox"){if(m.value===p.attributes.xfaOn?k.setAttribute("checked",!0):m.value===p.attributes.xfaOff&&k.removeAttribute("checked"),f==="print")break;k.addEventListener("change",function(x){d.setValue(U,{value:x.target.checked?x.target.getAttribute("xfaOn"):x.target.getAttribute("xfaOff")})})}else{if(m.value!==null&&k.setAttribute("value",m.value),f==="print")break;k.addEventListener("input",function(x){d.setValue(U,{value:x.target.value})})}break;case"select":if(m.value!==null){var g=C(p.children),h;try{for(g.s();!(h=g.n()).done;){var _=h.value;_.attributes.value===m.value&&(_.attributes.selected=!0)}}catch(x){g.e(x)}finally{g.f()}}k.addEventListener("input",function(x){var z=x.target.options,D=z.selectedIndex===-1?"":z[z.selectedIndex].value;d.setValue(U,{value:D})});break}}},{key:"setAttributes",value:function(k){var U=k.html,p=k.element,d=k.storage,f=d===void 0?null:d,m=k.intent,g=k.linkService,h=p.attributes,_=U instanceof HTMLAnchorElement;h.type==="radio"&&(h.name="".concat(h.name,"-").concat(m));for(var x=0,z=Object.entries(h);x<z.length;x++){var D=o(z[x],2),$=D[0],ee=D[1];if(!(ee==null||$==="dataId"))if($!=="style")if($==="textContent")U.textContent=ee;else if($==="class")ee.length&&U.setAttribute($,ee.join(" "));else{if(_&&($==="href"||$==="newWindow"))continue;U.setAttribute($,ee)}else Object.assign(U.style,ee)}if(_){var Z;g.addLinkAttributes||(0,e.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),(Z=g.addLinkAttributes)===null||Z===void 0||Z.call(g,U,h.href,h.newWindow)}f&&h.dataId&&this.setupStorage(U,h.dataId,p,f)}},{key:"render",value:function(k){var U=k.annotationStorage,p=k.linkService,d=k.xfaHtml,f=k.intent||"display",m=document.createElement(d.name);d.attributes&&this.setAttributes({html:m,element:d,intent:f,linkService:p});var g=[[d,-1,m]],h=k.div;if(h.appendChild(m),k.viewport){var _="matrix(".concat(k.viewport.transform.join(","),")");h.style.transform=_}f!=="richText"&&h.setAttribute("class","xfaLayer xfaFont");for(var x=[];g.length>0;){var z,D=o(g[g.length-1],3),$=D[0],ee=D[1],Z=D[2];if(ee+1===$.children.length){g.pop();continue}var ie=$.children[++g[g.length-1][1]];if(ie!==null){var V=ie.name;if(V==="#text"){var Y=document.createTextNode(ie.value);x.push(Y),Z.appendChild(Y);continue}var E=void 0;if(ie!=null&&(z=ie.attributes)!==null&&z!==void 0&&z.xmlns?E=document.createElementNS(ie.attributes.xmlns,V):E=document.createElement(V),Z.appendChild(E),ie.attributes&&this.setAttributes({html:E,element:ie,storage:U,intent:f,linkService:p}),ie.children&&ie.children.length>0)g.push([ie,-1,E]);else if(ie.value){var y=document.createTextNode(ie.value);a.XfaText.shouldBuildText(V)&&x.push(y),E.appendChild(y)}}}var A=C(h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")),I;try{for(A.s();!(I=A.n()).done;){var q=I.value;q.setAttribute("readOnly",!0)}}catch(re){A.e(re)}finally{A.f()}return{textDivs:x}}},{key:"update",value:function(k){var U="matrix(".concat(k.viewport.transform.join(","),")");k.div.style.transform=U,k.div.hidden=!1}}]),P}();n.XfaLayer=O},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.renderTextLayer=m;var e=t(4);function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function o(g,h){for(var _=0;_<h.length;_++){var x=h[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}function c(g,h,_){return h&&o(g.prototype,h),_&&o(g,_),g}function l(g,h){var _=typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(!_){if(Array.isArray(g)||(_=b(g))||h&&g&&typeof g.length=="number"){_&&(g=_);var x=0,z=function(){};return{s:z,n:function(){return x>=g.length?{done:!0}:{done:!1,value:g[x++]}},e:function(ie){throw ie},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=!0,$=!1,ee;return{s:function(){_=_.call(g)},n:function(){var ie=_.next();return D=ie.done,ie},e:function(ie){$=!0,ee=ie},f:function(){try{!D&&_.return!=null&&_.return()}finally{if($)throw ee}}}}function b(g,h){if(!!g){if(typeof g=="string")return C(g,h);var _=Object.prototype.toString.call(g).slice(8,-1);if(_==="Object"&&g.constructor&&(_=g.constructor.name),_==="Map"||_==="Set")return Array.from(g);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return C(g,h)}}function C(g,h){(h==null||h>g.length)&&(h=g.length);for(var _=0,x=new Array(h);_<h;_++)x[_]=g[_];return x}var N=1e5,L=30,W=.8,w=new Map,R=/^\s+$/g;function O(g,h){var _=w.get(g);if(_)return _;h.save(),h.font="".concat(L,"px ").concat(g);var x=h.measureText(""),z=x.fontBoundingBoxAscent,D=Math.abs(x.fontBoundingBoxDescent);if(z){h.restore();var $=z/(z+D);return w.set(g,$),$}h.strokeStyle="red",h.clearRect(0,0,L,L),h.strokeText("g",0,0);var ee=h.getImageData(0,0,L,L).data;D=0;for(var Z=ee.length-1-3;Z>=0;Z-=4)if(ee[Z]>0){D=Math.ceil(Z/4/L);break}h.clearRect(0,0,L,L),h.strokeText("A",0,L),ee=h.getImageData(0,0,L,L).data,z=0;for(var ie=0,V=ee.length;ie<V;ie+=4)if(ee[ie]>0){z=L-Math.floor(ie/4/L);break}if(h.restore(),z){var Y=z/(z+D);return w.set(g,Y),Y}return w.set(g,W),W}function P(g,h,_,x){var z=document.createElement("span"),D=g._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:h.str!=="",hasEOL:h.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:h.str!=="",hasEOL:h.hasEOL};g._textDivs.push(z);var $=e.Util.transform(g._viewport.transform,h.transform),ee=Math.atan2($[1],$[0]),Z=_[h.fontName];Z.vertical&&(ee+=Math.PI/2);var ie=Math.hypot($[2],$[3]),V=ie*O(Z.fontFamily,x),Y,E;ee===0?(Y=$[4],E=$[5]-V):(Y=$[4]+V*Math.sin(ee),E=$[5]-V*Math.cos(ee)),z.style.left="".concat(Y,"px"),z.style.top="".concat(E,"px"),z.style.fontSize="".concat(ie,"px"),z.style.fontFamily=Z.fontFamily,z.setAttribute("role","presentation"),z.textContent=h.str,z.dir=h.dir,g._fontInspectorEnabled&&(z.dataset.fontName=h.fontName),ee!==0&&(D.angle=ee*(180/Math.PI));var y=!1;if(h.str.length>1||g._enhanceTextSelection&&R.test(h.str))y=!0;else if(h.str!==" "&&h.transform[0]!==h.transform[3]){var A=Math.abs(h.transform[0]),I=Math.abs(h.transform[3]);A!==I&&Math.max(A,I)/Math.min(A,I)>1.5&&(y=!0)}if(y&&(Z.vertical?D.canvasWidth=h.height*g._viewport.scale:D.canvasWidth=h.width*g._viewport.scale),g._textDivProperties.set(z,D),g._textContentStream&&g._layoutText(z),g._enhanceTextSelection&&D.hasText){var q=1,re=0;ee!==0&&(q=Math.cos(ee),re=Math.sin(ee));var X=(Z.vertical?h.height:h.width)*g._viewport.scale,be=ie,Pe,we;ee!==0?(Pe=[q,re,-re,q,Y,E],we=e.Util.getAxialAlignedBoundingBox([0,0,X,be],Pe)):we=[Y,E,Y+X,E+be],g._bounds.push({left:we[0],top:we[1],right:we[2],bottom:we[3],div:z,size:[X,be],m:Pe})}}function B(g){if(!g._canceled){var h=g._textDivs,_=g._capability,x=h.length;if(x>N){g._renderingDone=!0,_.resolve();return}if(!g._textContentStream)for(var z=0;z<x;z++)g._layoutText(h[z]);g._renderingDone=!0,_.resolve()}}function k(g,h,_){for(var x=0,z=0;z<_;z++){var D=g[h++];D>0&&(x=x?Math.min(D,x):D)}return x}function U(g){for(var h=g._bounds,_=g._viewport,x=p(_.width,_.height,h),z=0;z<x.length;z++){var D=h[z].div,$=g._textDivProperties.get(D);if($.angle===0){$.paddingLeft=h[z].left-x[z].left,$.paddingTop=h[z].top-x[z].top,$.paddingRight=x[z].right-h[z].right,$.paddingBottom=x[z].bottom-h[z].bottom,g._textDivProperties.set(D,$);continue}for(var ee=x[z],Z=h[z],ie=Z.m,V=ie[0],Y=ie[1],E=[[0,0],[0,Z.size[1]],[Z.size[0],0],Z.size],y=new Float64Array(64),A=0,I=E.length;A<I;A++){var q=e.Util.applyTransform(E[A],ie);y[A+0]=V&&(ee.left-q[0])/V,y[A+4]=Y&&(ee.top-q[1])/Y,y[A+8]=V&&(ee.right-q[0])/V,y[A+12]=Y&&(ee.bottom-q[1])/Y,y[A+16]=Y&&(ee.left-q[0])/-Y,y[A+20]=V&&(ee.top-q[1])/V,y[A+24]=Y&&(ee.right-q[0])/-Y,y[A+28]=V&&(ee.bottom-q[1])/V,y[A+32]=V&&(ee.left-q[0])/-V,y[A+36]=Y&&(ee.top-q[1])/-Y,y[A+40]=V&&(ee.right-q[0])/-V,y[A+44]=Y&&(ee.bottom-q[1])/-Y,y[A+48]=Y&&(ee.left-q[0])/Y,y[A+52]=V&&(ee.top-q[1])/-V,y[A+56]=Y&&(ee.right-q[0])/Y,y[A+60]=V&&(ee.bottom-q[1])/-V}var re=1+Math.min(Math.abs(V),Math.abs(Y));$.paddingLeft=k(y,32,16)/re,$.paddingTop=k(y,48,16)/re,$.paddingRight=k(y,0,16)/re,$.paddingBottom=k(y,16,16)/re,g._textDivProperties.set(D,$)}}function p(g,h,_){var x=_.map(function(y,A){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:A,x1New:void 0,x2New:void 0}});d(g,x);var z=new Array(_.length),D=l(x),$;try{for(D.s();!($=D.n()).done;){var ee=$.value,Z=ee.index;z[Z]={left:ee.x1New,top:0,right:ee.x2New,bottom:0}}}catch(y){D.e(y)}finally{D.f()}_.map(function(y,A){var I=z[A],q=x[A];q.x1=y.top,q.y1=g-I.right,q.x2=y.bottom,q.y2=g-I.left,q.index=A,q.x1New=void 0,q.x2New=void 0}),d(h,x);var ie=l(x),V;try{for(ie.s();!(V=ie.n()).done;){var Y=V.value,E=Y.index;z[E].top=Y.x1New,z[E].bottom=Y.x2New}}catch(y){ie.e(y)}finally{ie.f()}return z}function d(g,h){h.sort(function(F,v){return F.x1-v.x1||F.index-v.index});var _={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},x=[{start:-1/0,end:1/0,boundary:_}],z=l(h),D;try{for(z.s();!(D=z.n()).done;){for(var $=D.value,ee=0;ee<x.length&&x[ee].end<=$.y1;)ee++;for(var Z=x.length-1;Z>=0&&x[Z].start>=$.y2;)Z--;var ie=void 0,V=void 0,Y=void 0,E=void 0,y=-1/0;for(Y=ee;Y<=Z;Y++){ie=x[Y],V=ie.boundary;var A=void 0;V.x2>$.x1?A=V.index>$.index?V.x1New:$.x1:V.x2New===void 0?A=(V.x2+$.x1)/2:A=V.x2New,A>y&&(y=A)}for($.x1New=y,Y=ee;Y<=Z;Y++)ie=x[Y],V=ie.boundary,V.x2New===void 0?V.x2>$.x1?V.index>$.index&&(V.x2New=V.x2):V.x2New=y:V.x2New>y&&(V.x2New=Math.max(y,V.x2));var I=[],q=null;for(Y=ee;Y<=Z;Y++){ie=x[Y],V=ie.boundary;var re=V.x2>$.x2?V:$;q===re?I[I.length-1].end=ie.end:(I.push({start:ie.start,end:ie.end,boundary:re}),q=re)}for(x[ee].start<$.y1&&(I[0].start=$.y1,I.unshift({start:x[ee].start,end:$.y1,boundary:x[ee].boundary})),$.y2<x[Z].end&&(I[I.length-1].end=$.y2,I.push({start:$.y2,end:x[Z].end,boundary:x[Z].boundary})),Y=ee;Y<=Z;Y++)if(ie=x[Y],V=ie.boundary,V.x2New===void 0){var X=!1;for(E=ee-1;!X&&E>=0&&x[E].start>=V.y1;E--)X=x[E].boundary===V;for(E=Z+1;!X&&E<x.length&&x[E].end<=V.y2;E++)X=x[E].boundary===V;for(E=0;!X&&E<I.length;E++)X=I[E].boundary===V;X||(V.x2New=y)}Array.prototype.splice.apply(x,[ee,Z-ee+1].concat(I))}}catch(F){z.e(F)}finally{z.f()}for(var be=0,Pe=x;be<Pe.length;be++){var we=Pe[be],H=we.boundary;H.x2New===void 0&&(H.x2New=Math.max(g,H.x2))}}var f=function(){function g(h){var _,x=this,z=h.textContent,D=h.textContentStream,$=h.container,ee=h.viewport,Z=h.textDivs,ie=h.textContentItemsStr,V=h.enhanceTextSelection;a(this,g),this._textContent=z,this._textContentStream=D,this._container=$,this._document=$.ownerDocument,this._viewport=ee,this._textDivs=Z||[],this._textContentItemsStr=ie||[],this._enhanceTextSelection=!!V,this._fontInspectorEnabled=!!((_=globalThis.FontInspector)!==null&&_!==void 0&&_.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){x._enhanceTextSelection||(x._textDivProperties=null),x._layoutTextCtx&&(x._layoutTextCtx.canvas.width=0,x._layoutTextCtx.canvas.height=0,x._layoutTextCtx=null)}).catch(function(){})}return c(g,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new e.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(_,x){for(var z=0,D=_.length;z<D;z++){if(_[z].str===void 0){if(_[z].type==="beginMarkedContentProps"||_[z].type==="beginMarkedContent"){var $=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),_[z].id!==null&&this._container.setAttribute("id","".concat(_[z].id)),$.appendChild(this._container)}else _[z].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(_[z].str),P(this,_[z],x,this._layoutTextCtx)}}},{key:"_layoutText",value:function(_){var x=this._textDivProperties.get(_),z="";if(x.canvasWidth!==0&&x.hasText){var D=_.style,$=D.fontSize,ee=D.fontFamily;($!==this._layoutTextLastFontSize||ee!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat($," ").concat(ee),this._layoutTextLastFontSize=$,this._layoutTextLastFontFamily=ee);var Z=this._layoutTextCtx.measureText(_.textContent),ie=Z.width;if(ie>0){var V=x.canvasWidth/ie;this._enhanceTextSelection&&(x.scale=V),z="scaleX(".concat(V,")")}}if(x.angle!==0&&(z="rotate(".concat(x.angle,"deg) ").concat(z)),z.length>0&&(this._enhanceTextSelection&&(x.originalTransform=z),_.style.transform=z),x.hasText&&this._container.appendChild(_),x.hasEOL){var Y=document.createElement("br");Y.setAttribute("role","presentation"),this._container.appendChild(Y)}}},{key:"_render",value:function(){var _=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=(0,e.createPromiseCapability)(),D=Object.create(null),$=this._document.createElement("canvas");if($.height=$.width=L,$.mozOpaque=!0,this._layoutTextCtx=$.getContext("2d",{alpha:!1}),this._textContent){var ee=this._textContent.items,Z=this._textContent.styles;this._processItems(ee,Z),z.resolve()}else if(this._textContentStream){var ie=function V(){_._reader.read().then(function(Y){var E=Y.value,y=Y.done;if(y){z.resolve();return}Object.assign(D,E.styles),_._processItems(E.items,D),V()},z.reject)};this._reader=this._textContentStream.getReader(),ie()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');z.promise.then(function(){D=null,x?_._renderTimer=setTimeout(function(){B(_),_._renderTimer=null},x):B(_)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!this._enhanceTextSelection||!this._renderingDone)){this._bounds!==null&&(U(this),this._bounds=null);for(var x=[],z=[],D=0,$=this._textDivs.length;D<$;D++){var ee=this._textDivs[D],Z=this._textDivProperties.get(ee);!Z.hasText||(_?(x.length=0,z.length=0,Z.originalTransform&&x.push(Z.originalTransform),Z.paddingTop>0?(z.push("".concat(Z.paddingTop,"px")),x.push("translateY(".concat(-Z.paddingTop,"px)"))):z.push(0),Z.paddingRight>0?z.push("".concat(Z.paddingRight/Z.scale,"px")):z.push(0),Z.paddingBottom>0?z.push("".concat(Z.paddingBottom,"px")):z.push(0),Z.paddingLeft>0?(z.push("".concat(Z.paddingLeft/Z.scale,"px")),x.push("translateX(".concat(-Z.paddingLeft/Z.scale,"px)"))):z.push(0),ee.style.padding=z.join(" "),x.length&&(ee.style.transform=x.join(" "))):(ee.style.padding=null,ee.style.transform=Z.originalTransform))}}}}]),g}();function m(g){var h=new f({textContent:g.textContent,textContentStream:g.textContentStream,container:g.container,viewport:g.viewport,textDivs:g.textDivs,textContentItemsStr:g.textContentItemsStr,enhanceTextSelection:g.enhanceTextSelection});return h._render(g.timeout),h}},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var e=t(4),a=t(1),o=t(6);function c(V){return C(V)||b(V)||O(V)||l()}function l(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(V){if(typeof Symbol!="undefined"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}function C(V){if(Array.isArray(V))return P(V)}function N(V,Y){return w(V)||W(V,Y)||O(V,Y)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(V,Y){var E=V==null?null:typeof Symbol!="undefined"&&V[Symbol.iterator]||V["@@iterator"];if(E!=null){var y=[],A=!0,I=!1,q,re;try{for(E=E.call(V);!(A=(q=E.next()).done)&&(y.push(q.value),!(Y&&y.length===Y));A=!0);}catch(X){I=!0,re=X}finally{try{!A&&E.return!=null&&E.return()}finally{if(I)throw re}}return y}}function w(V){if(Array.isArray(V))return V}function R(V,Y){var E=typeof Symbol!="undefined"&&V[Symbol.iterator]||V["@@iterator"];if(!E){if(Array.isArray(V)||(E=O(V))||Y&&V&&typeof V.length=="number"){E&&(V=E);var y=0,A=function(){};return{s:A,n:function(){return y>=V.length?{done:!0}:{done:!1,value:V[y++]}},e:function(be){throw be},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I=!0,q=!1,re;return{s:function(){E=E.call(V)},n:function(){var be=E.next();return I=be.done,be},e:function(be){q=!0,re=be},f:function(){try{!I&&E.return!=null&&E.return()}finally{if(q)throw re}}}}function O(V,Y){if(!!V){if(typeof V=="string")return P(V,Y);var E=Object.prototype.toString.call(V).slice(8,-1);if(E==="Object"&&V.constructor&&(E=V.constructor.name),E==="Map"||E==="Set")return Array.from(V);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return P(V,Y)}}function P(V,Y){(Y==null||Y>V.length)&&(Y=V.length);for(var E=0,y=new Array(Y);E<Y;E++)y[E]=V[E];return y}function B(V,Y){for(var E=0;E<Y.length;E++){var y=Y[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(V,y.key,y)}}function k(V,Y,E){return Y&&B(V.prototype,Y),E&&B(V,E),V}function U(V,Y){if(!(V instanceof Y))throw new TypeError("Cannot call a class as a function")}var p=function V(){U(this,V),(0,e.unreachable)("Not implemented: SVGGraphics")};n.SVGGraphics=p;{var d=function(Y){var E=[],y=[],A=R(Y),I;try{for(A.s();!(I=A.n()).done;){var q=I.value;if(q.fn==="save"){E.push({fnId:92,fn:"group",items:[]}),y.push(E),E=E[E.length-1].items;continue}q.fn==="restore"?E=y.pop():E.push(q)}}catch(re){A.e(re)}finally{A.f()}return E},f=function(Y){if(Number.isInteger(Y))return Y.toString();var E=Y.toFixed(10),y=E.length-1;if(E[y]!=="0")return E;do y--;while(E[y]==="0");return E.substring(0,E[y]==="."?y:y+1)},m=function(Y){if(Y[4]===0&&Y[5]===0){if(Y[1]===0&&Y[2]===0)return Y[0]===1&&Y[3]===1?"":"scale(".concat(f(Y[0])," ").concat(f(Y[3]),")");if(Y[0]===Y[3]&&Y[1]===-Y[2]){var E=Math.acos(Y[0])*180/Math.PI;return"rotate(".concat(f(E),")")}}else if(Y[0]===1&&Y[1]===0&&Y[2]===0&&Y[3]===1)return"translate(".concat(f(Y[4])," ").concat(f(Y[5]),")");return"matrix(".concat(f(Y[0])," ").concat(f(Y[1])," ").concat(f(Y[2])," ").concat(f(Y[3])," ").concat(f(Y[4])," ")+"".concat(f(Y[5]),")")},g={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",x=["butt","round","square"],z=["miter","round","bevel"],D=function(){for(var V=new Uint8Array([137,80,78,71,13,10,26,10]),Y=12,E=new Int32Array(256),y=0;y<256;y++){for(var A=y,I=0;I<8;I++)A&1?A=3988292384^A>>1&2147483647:A=A>>1&2147483647;E[y]=A}function q(H,F,v){for(var u=-1,S=F;S<v;S++){var M=(u^H[S])&255,j=E[M];u=u>>>8^j}return u^-1}function re(H,F,v,u){var S=u,M=F.length;v[S]=M>>24&255,v[S+1]=M>>16&255,v[S+2]=M>>8&255,v[S+3]=M&255,S+=4,v[S]=H.charCodeAt(0)&255,v[S+1]=H.charCodeAt(1)&255,v[S+2]=H.charCodeAt(2)&255,v[S+3]=H.charCodeAt(3)&255,S+=4,v.set(F,S),S+=F.length;var j=q(v,u+4,S);v[S]=j>>24&255,v[S+1]=j>>16&255,v[S+2]=j>>8&255,v[S+3]=j&255}function X(H,F,v){for(var u=1,S=0,M=F;M<v;++M)u=(u+(H[M]&255))%65521,S=(S+u)%65521;return S<<16|u}function be(H){if(!o.isNodeJS)return Pe(H);try{var F;parseInt(process.versions.node)>=8?F=H:F=Buffer.from(H);var v=require("zlib").deflateSync(F,{level:9});return v instanceof Uint8Array?v:new Uint8Array(v)}catch(u){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+u)}return Pe(H)}function Pe(H){var F=H.length,v=65535,u=Math.ceil(F/v),S=new Uint8Array(2+F+u*5+4),M=0;S[M++]=120,S[M++]=156;for(var j=0;F>v;)S[M++]=0,S[M++]=255,S[M++]=255,S[M++]=0,S[M++]=0,S.set(H.subarray(j,j+v),M),M+=v,j+=v,F-=v;S[M++]=1,S[M++]=F&255,S[M++]=F>>8&255,S[M++]=~F&65535&255,S[M++]=(~F&65535)>>8&255,S.set(H.subarray(j),M),M+=H.length-j;var J=X(H,0,H.length);return S[M++]=J>>24&255,S[M++]=J>>16&255,S[M++]=J>>8&255,S[M++]=J&255,S}function we(H,F,v,u){var S=H.width,M=H.height,j,J,le,ve=H.data;switch(F){case e.ImageKind.GRAYSCALE_1BPP:J=0,j=1,le=S+7>>3;break;case e.ImageKind.RGB_24BPP:J=2,j=8,le=S*3;break;case e.ImageKind.RGBA_32BPP:J=6,j=8,le=S*4;break;default:throw new Error("invalid format")}for(var ye=new Uint8Array((1+le)*M),pe=0,_e=0,ke=0;ke<M;++ke)ye[pe++]=0,ye.set(ve.subarray(_e,_e+le),pe),_e+=le,pe+=le;if(F===e.ImageKind.GRAYSCALE_1BPP&&u){pe=0;for(var Ee=0;Ee<M;Ee++){pe++;for(var Fe=0;Fe<le;Fe++)ye[pe++]^=255}}var Ie=new Uint8Array([S>>24&255,S>>16&255,S>>8&255,S&255,M>>24&255,M>>16&255,M>>8&255,M&255,j,J,0,0,0]),We=be(ye),Ue=V.length+Y*3+Ie.length+We.length,fe=new Uint8Array(Ue),de=0;return fe.set(V,de),de+=V.length,re("IHDR",Ie,fe,de),de+=Y+Ie.length,re("IDATA",We,fe,de),de+=Y+We.length,re("IEND",new Uint8Array(0),fe,de),(0,e.createObjectURL)(fe,"image/png",v)}return function(F,v,u){var S=F.kind===void 0?e.ImageKind.GRAYSCALE_1BPP:F.kind;return we(F,S,v,u)}}(),$=function(){function V(){U(this,V),this.fontSizeScale=1,this.fontWeight=g.fontWeight,this.fontSize=0,this.textMatrix=e.IDENTITY_MATRIX,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=g.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return k(V,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(E,y){this.x=E,this.y=y}}]),V}(),ee=0,Z=0,ie=0;n.SVGGraphics=p=function(){function V(Y,E){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U(this,V),this.svgFactory=new a.DOMSVGFactory,this.current=new $,this.transformMatrix=e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Y,this.objs=E,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(var A in e.OPS)this._operatorIdMapping[e.OPS[A]]=A}return k(V,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var E=this.current;this.extraStack.push(E),this.current=E.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(E){this.save(),this.executeOpTree(E),this.restore()}},{key:"loadDependencies",value:function(E){for(var y=this,A=E.fnArray,I=E.argsArray,q=0,re=A.length;q<re;q++)if(A[q]===e.OPS.dependency){var X=R(I[q]),be;try{var Pe=function(){var H=be.value,F=H.startsWith("g_")?y.commonObjs:y.objs,v=new Promise(function(u){F.get(H,u)});y.current.dependencies.push(v)};for(X.s();!(be=X.n()).done;)Pe()}catch(we){X.e(we)}finally{X.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(E,y,A,I,q,re){var X=[E,y,A,I,q,re];this.transformMatrix=e.Util.transform(this.transformMatrix,X),this.tgrp=null}},{key:"getSVG",value:function(E,y){var A=this;this.viewport=y;var I=this._initialize(y);return this.loadDependencies(E).then(function(){return A.transformMatrix=e.IDENTITY_MATRIX,A.executeOpTree(A.convertOpList(E)),I})}},{key:"convertOpList",value:function(E){for(var y=this._operatorIdMapping,A=E.argsArray,I=E.fnArray,q=[],re=0,X=I.length;re<X;re++){var be=I[re];q.push({fnId:be,fn:y[be],args:A[re]})}return d(q)}},{key:"executeOpTree",value:function(E){var y=R(E),A;try{for(y.s();!(A=y.n()).done;){var I=A.value,q=I.fn,re=I.fnId,X=I.args;switch(re|0){case e.OPS.beginText:this.beginText();break;case e.OPS.dependency:break;case e.OPS.setLeading:this.setLeading(X);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(X[0],X[1]);break;case e.OPS.setFont:this.setFont(X);break;case e.OPS.showText:this.showText(X[0]);break;case e.OPS.showSpacedText:this.showText(X[0]);break;case e.OPS.endText:this.endText();break;case e.OPS.moveText:this.moveText(X[0],X[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(X[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(X[0]);break;case e.OPS.setHScale:this.setHScale(X[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(X[0],X[1],X[2],X[3],X[4],X[5]);break;case e.OPS.setTextRise:this.setTextRise(X[0]);break;case e.OPS.setTextRenderingMode:this.setTextRenderingMode(X[0]);break;case e.OPS.setLineWidth:this.setLineWidth(X[0]);break;case e.OPS.setLineJoin:this.setLineJoin(X[0]);break;case e.OPS.setLineCap:this.setLineCap(X[0]);break;case e.OPS.setMiterLimit:this.setMiterLimit(X[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(X[0],X[1],X[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(X[0],X[1],X[2]);break;case e.OPS.setStrokeColorN:this.setStrokeColorN(X);break;case e.OPS.setFillColorN:this.setFillColorN(X);break;case e.OPS.shadingFill:this.shadingFill(X[0]);break;case e.OPS.setDash:this.setDash(X[0],X[1]);break;case e.OPS.setRenderingIntent:this.setRenderingIntent(X[0]);break;case e.OPS.setFlatness:this.setFlatness(X[0]);break;case e.OPS.setGState:this.setGState(X[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintImageXObject:this.paintImageXObject(X[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(X[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(X[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(X[0],X[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(X[0],X[1],X[2],X[3],X[4],X[5]);break;case e.OPS.constructPath:this.constructPath(X[0],X[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(I.items);break;default:(0,e.warn)("Unimplemented operator ".concat(q));break}}}catch(be){y.e(be)}finally{y.f()}}},{key:"setWordSpacing",value:function(E){this.current.wordSpacing=E}},{key:"setCharSpacing",value:function(E){this.current.charSpacing=E}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(E,y,A,I,q,re){var X=this.current;X.textMatrix=X.lineMatrix=[E,y,A,I,q,re],X.textMatrixScale=Math.hypot(E,y),X.x=X.lineX=0,X.y=X.lineY=0,X.xcoords=[],X.ycoords=[],X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size","".concat(f(X.fontSize),"px")),X.tspan.setAttributeNS(null,"y",f(-X.y)),X.txtElement=this.svgFactory.createElement("svg:text"),X.txtElement.appendChild(X.tspan)}},{key:"beginText",value:function(){var E=this.current;E.x=E.lineX=0,E.y=E.lineY=0,E.textMatrix=e.IDENTITY_MATRIX,E.lineMatrix=e.IDENTITY_MATRIX,E.textMatrixScale=1,E.tspan=this.svgFactory.createElement("svg:tspan"),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtgrp=this.svgFactory.createElement("svg:g"),E.xcoords=[],E.ycoords=[]}},{key:"moveText",value:function(E,y){var A=this.current;A.x=A.lineX+=E,A.y=A.lineY+=y,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size","".concat(f(A.fontSize),"px")),A.tspan.setAttributeNS(null,"y",f(-A.y))}},{key:"showText",value:function(E){var y=this.current,A=y.font,I=y.fontSize;if(I!==0){var q=y.fontSizeScale,re=y.charSpacing,X=y.wordSpacing,be=y.fontDirection,Pe=y.textHScale*be,we=A.vertical,H=we?1:-1,F=A.defaultVMetrics,v=I*y.fontMatrix[0],u=0,S=R(E),M;try{for(S.s();!(M=S.n()).done;){var j=M.value;if(j===null){u+=be*X;continue}else if((0,e.isNum)(j)){u+=H*j*I/1e3;continue}var J=(j.isSpace?X:0)+re,le=j.fontChar,ve=void 0,ye=void 0,pe=j.width;if(we){var _e=void 0,ke=j.vmetric||F;_e=j.vmetric?ke[1]:pe*.5,_e=-_e*v;var Ee=ke[2]*v;pe=ke?-ke[0]:pe,ve=_e/q,ye=(u+Ee)/q}else ve=u/q,ye=0;(j.isInFont||A.missingFile)&&(y.xcoords.push(y.x+ve),we&&y.ycoords.push(-y.y+ye),y.tspan.textContent+=le);var Fe=void 0;we?Fe=pe*v-J*be:Fe=pe*v+J*be,u+=Fe}}catch(fe){S.e(fe)}finally{S.f()}y.tspan.setAttributeNS(null,"x",y.xcoords.map(f).join(" ")),we?y.tspan.setAttributeNS(null,"y",y.ycoords.map(f).join(" ")):y.tspan.setAttributeNS(null,"y",f(-y.y)),we?y.y-=u:y.x+=u*Pe,y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size","".concat(f(y.fontSize),"px")),y.fontStyle!==g.fontStyle&&y.tspan.setAttributeNS(null,"font-style",y.fontStyle),y.fontWeight!==g.fontWeight&&y.tspan.setAttributeNS(null,"font-weight",y.fontWeight);var Ie=y.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;if(Ie===e.TextRenderingMode.FILL||Ie===e.TextRenderingMode.FILL_STROKE?(y.fillColor!==g.fillColor&&y.tspan.setAttributeNS(null,"fill",y.fillColor),y.fillAlpha<1&&y.tspan.setAttributeNS(null,"fill-opacity",y.fillAlpha)):y.textRenderingMode===e.TextRenderingMode.ADD_TO_PATH?y.tspan.setAttributeNS(null,"fill","transparent"):y.tspan.setAttributeNS(null,"fill","none"),Ie===e.TextRenderingMode.STROKE||Ie===e.TextRenderingMode.FILL_STROKE){var We=1/(y.textMatrixScale||1);this._setStrokeAttributes(y.tspan,We)}var Ue=y.textMatrix;y.textRise!==0&&(Ue=Ue.slice(),Ue[5]+=y.textRise),y.txtElement.setAttributeNS(null,"transform","".concat(m(Ue)," scale(").concat(f(Pe),", -1)")),y.txtElement.setAttributeNS(h,"xml:space","preserve"),y.txtElement.appendChild(y.tspan),y.txtgrp.appendChild(y.txtElement),this._ensureTransformGroup().appendChild(y.txtElement)}}},{key:"setLeadingMoveText",value:function(E,y){this.setLeading(-y),this.moveText(E,y)}},{key:"addFontStyle",value:function(E){if(!E.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var y=(0,e.createObjectURL)(E.data,E.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(E.loadedName,'";')+" src: url(".concat(y,`); }
`)}},{key:"setFont",value:function(E){var y=this.current,A=this.commonObjs.get(E[0]),I=E[1];y.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),y.fontMatrix=A.fontMatrix||e.FONT_IDENTITY_MATRIX;var q="normal";A.black?q="900":A.bold&&(q="bold");var re=A.italic?"italic":"normal";I<0?(I=-I,y.fontDirection=-1):y.fontDirection=1,y.fontSize=I,y.fontFamily=A.loadedName,y.fontWeight=q,y.fontStyle=re,y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"y",f(-y.y)),y.xcoords=[],y.ycoords=[]}},{key:"endText",value:function(){var E,y=this.current;y.textRenderingMode&e.TextRenderingMode.ADD_TO_PATH_FLAG&&(E=y.txtElement)!==null&&E!==void 0&&E.hasChildNodes()&&(y.element=y.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(E){E>0&&(this.current.lineWidth=E)}},{key:"setLineCap",value:function(E){this.current.lineCap=x[E]}},{key:"setLineJoin",value:function(E){this.current.lineJoin=z[E]}},{key:"setMiterLimit",value:function(E){this.current.miterLimit=E}},{key:"setStrokeAlpha",value:function(E){this.current.strokeAlpha=E}},{key:"setStrokeRGBColor",value:function(E,y,A){this.current.strokeColor=e.Util.makeHexColor(E,y,A)}},{key:"setFillAlpha",value:function(E){this.current.fillAlpha=E}},{key:"setFillRGBColor",value:function(E,y,A){this.current.fillColor=e.Util.makeHexColor(E,y,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(E){this.current.strokeColor=this._makeColorN_Pattern(E)}},{key:"setFillColorN",value:function(E){this.current.fillColor=this._makeColorN_Pattern(E)}},{key:"shadingFill",value:function(E){var y=this.viewport.width,A=this.viewport.height,I=e.Util.inverseTransform(this.transformMatrix),q=e.Util.applyTransform([0,0],I),re=e.Util.applyTransform([0,A],I),X=e.Util.applyTransform([y,0],I),be=e.Util.applyTransform([y,A],I),Pe=Math.min(q[0],re[0],X[0],be[0]),we=Math.min(q[1],re[1],X[1],be[1]),H=Math.max(q[0],re[0],X[0],be[0]),F=Math.max(q[1],re[1],X[1],be[1]),v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",Pe),v.setAttributeNS(null,"y",we),v.setAttributeNS(null,"width",H-Pe),v.setAttributeNS(null,"height",F-we),v.setAttributeNS(null,"fill",this._makeShadingPattern(E)),this.current.fillAlpha<1&&v.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(v)}},{key:"_makeColorN_Pattern",value:function(E){return E[0]==="TilingPattern"?this._makeTilingPattern(E):this._makeShadingPattern(E)}},{key:"_makeTilingPattern",value:function(E){var y=E[1],A=E[2],I=E[3]||e.IDENTITY_MATRIX,q=N(E[4],4),re=q[0],X=q[1],be=q[2],Pe=q[3],we=E[5],H=E[6],F=E[7],v="shading".concat(ie++),u=e.Util.normalizeRect([].concat(c(e.Util.applyTransform([re,X],I)),c(e.Util.applyTransform([be,Pe],I)))),S=N(u,4),M=S[0],j=S[1],J=S[2],le=S[3],ve=e.Util.singularValueDecompose2dScale(I),ye=N(ve,2),pe=ye[0],_e=ye[1],ke=we*pe,Ee=H*_e,Fe=this.svgFactory.createElement("svg:pattern");Fe.setAttributeNS(null,"id",v),Fe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Fe.setAttributeNS(null,"width",ke),Fe.setAttributeNS(null,"height",Ee),Fe.setAttributeNS(null,"x","".concat(M)),Fe.setAttributeNS(null,"y","".concat(j));var Ie=this.svg,We=this.transformMatrix,Ue=this.current.fillColor,fe=this.current.strokeColor,de=this.svgFactory.create(J-M,le-j);if(this.svg=de,this.transformMatrix=I,F===2){var G=e.Util.makeHexColor.apply(e.Util,c(y));this.current.fillColor=G,this.current.strokeColor=G}return this.executeOpTree(this.convertOpList(A)),this.svg=Ie,this.transformMatrix=We,this.current.fillColor=Ue,this.current.strokeColor=fe,Fe.appendChild(de.childNodes[0]),this.defs.appendChild(Fe),"url(#".concat(v,")")}},{key:"_makeShadingPattern",value:function(E){switch(typeof E=="string"&&(E=this.objs.get(E)),E[0]){case"RadialAxial":var y="shading".concat(ie++),A=E[3],I;switch(E[1]){case"axial":var q=E[4],re=E[5];I=this.svgFactory.createElement("svg:linearGradient"),I.setAttributeNS(null,"id",y),I.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),I.setAttributeNS(null,"x1",q[0]),I.setAttributeNS(null,"y1",q[1]),I.setAttributeNS(null,"x2",re[0]),I.setAttributeNS(null,"y2",re[1]);break;case"radial":var X=E[4],be=E[5],Pe=E[6],we=E[7];I=this.svgFactory.createElement("svg:radialGradient"),I.setAttributeNS(null,"id",y),I.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),I.setAttributeNS(null,"cx",be[0]),I.setAttributeNS(null,"cy",be[1]),I.setAttributeNS(null,"r",we),I.setAttributeNS(null,"fx",X[0]),I.setAttributeNS(null,"fy",X[1]),I.setAttributeNS(null,"fr",Pe);break;default:throw new Error("Unknown RadialAxial type: ".concat(E[1]))}var H=R(A),F;try{for(H.s();!(F=H.n()).done;){var v=F.value,u=this.svgFactory.createElement("svg:stop");u.setAttributeNS(null,"offset",v[0]),u.setAttributeNS(null,"stop-color",v[1]),I.appendChild(u)}}catch(S){H.e(S)}finally{H.f()}return this.defs.appendChild(I),"url(#".concat(y,")");case"Mesh":return(0,e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(E[0]))}}},{key:"setDash",value:function(E,y){this.current.dashArray=E,this.current.dashPhase=y}},{key:"constructPath",value:function(E,y){var A=this.current,I=A.x,q=A.y,re=[],X=0,be=R(E),Pe;try{for(be.s();!(Pe=be.n()).done;){var we=Pe.value;switch(we|0){case e.OPS.rectangle:I=y[X++],q=y[X++];var H=y[X++],F=y[X++],v=I+H,u=q+F;re.push("M",f(I),f(q),"L",f(v),f(q),"L",f(v),f(u),"L",f(I),f(u),"Z");break;case e.OPS.moveTo:I=y[X++],q=y[X++],re.push("M",f(I),f(q));break;case e.OPS.lineTo:I=y[X++],q=y[X++],re.push("L",f(I),f(q));break;case e.OPS.curveTo:I=y[X+4],q=y[X+5],re.push("C",f(y[X]),f(y[X+1]),f(y[X+2]),f(y[X+3]),f(I),f(q)),X+=6;break;case e.OPS.curveTo2:re.push("C",f(I),f(q),f(y[X]),f(y[X+1]),f(y[X+2]),f(y[X+3])),I=y[X+2],q=y[X+3],X+=4;break;case e.OPS.curveTo3:I=y[X+2],q=y[X+3],re.push("C",f(y[X]),f(y[X+1]),f(I),f(q),f(I),f(q)),X+=4;break;case e.OPS.closePath:re.push("Z");break}}}catch(S){be.e(S)}finally{be.f()}re=re.join(" "),A.path&&E.length>0&&E[0]!==e.OPS.rectangle&&E[0]!==e.OPS.moveTo?re=A.path.getAttributeNS(null,"d")+re:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(A.path)),A.path.setAttributeNS(null,"d",re),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(I,q)}},{key:"endPath",value:function(){var E=this.current;if(E.path=null,!!this.pendingClip){if(!E.element){this.pendingClip=null;return}var y="clippath".concat(ee++),A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",y),A.setAttributeNS(null,"transform",m(this.transformMatrix));var I=E.element.cloneNode(!0);if(this.pendingClip==="evenodd"?I.setAttributeNS(null,"clip-rule","evenodd"):I.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,A.appendChild(I),this.defs.appendChild(A),E.activeClipUrl){E.clipGroup=null;var q=R(this.extraStack),re;try{for(q.s();!(re=q.n()).done;){var X=re.value;X.clipGroup=null}}catch(be){q.e(be)}finally{q.f()}A.setAttributeNS(null,"clip-path",E.activeClipUrl)}E.activeClipUrl="url(#".concat(y,")"),this.tgrp=null}}},{key:"clip",value:function(E){this.pendingClip=E}},{key:"closePath",value:function(){var E=this.current;if(E.path){var y="".concat(E.path.getAttributeNS(null,"d"),"Z");E.path.setAttributeNS(null,"d",y)}}},{key:"setLeading",value:function(E){this.current.leading=-E}},{key:"setTextRise",value:function(E){this.current.textRise=E}},{key:"setTextRenderingMode",value:function(E){this.current.textRenderingMode=E}},{key:"setHScale",value:function(E){this.current.textHScale=E/100}},{key:"setRenderingIntent",value:function(E){}},{key:"setFlatness",value:function(E){}},{key:"setGState",value:function(E){var y=R(E),A;try{for(y.s();!(A=y.n()).done;){var I=N(A.value,2),q=I[0],re=I[1];switch(q){case"LW":this.setLineWidth(re);break;case"LC":this.setLineCap(re);break;case"LJ":this.setLineJoin(re);break;case"ML":this.setMiterLimit(re);break;case"D":this.setDash(re[0],re[1]);break;case"RI":this.setRenderingIntent(re);break;case"FL":this.setFlatness(re);break;case"Font":this.setFont(re);break;case"CA":this.setStrokeAlpha(re);break;case"ca":this.setFillAlpha(re);break;default:(0,e.warn)("Unimplemented graphic state operator ".concat(q));break}}}catch(X){y.e(X)}finally{y.f()}}},{key:"fill",value:function(){var E=this.current;E.element&&(E.element.setAttributeNS(null,"fill",E.fillColor),E.element.setAttributeNS(null,"fill-opacity",E.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var E=this.current;E.element&&(this._setStrokeAttributes(E.element),E.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(E){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,A=this.current,I=A.dashArray;y!==1&&I.length>0&&(I=I.map(function(q){return y*q})),E.setAttributeNS(null,"stroke",A.strokeColor),E.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),E.setAttributeNS(null,"stroke-miterlimit",f(A.miterLimit)),E.setAttributeNS(null,"stroke-linecap",A.lineCap),E.setAttributeNS(null,"stroke-linejoin",A.lineJoin),E.setAttributeNS(null,"stroke-width",f(y*A.lineWidth)+"px"),E.setAttributeNS(null,"stroke-dasharray",I.map(f).join(" ")),E.setAttributeNS(null,"stroke-dashoffset",f(y*A.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width","1px"),E.setAttributeNS(null,"height","1px"),E.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(E)}},{key:"paintImageXObject",value:function(E){var y=E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E);if(!y){(0,e.warn)("Dependent image with object ID ".concat(E," is not ready yet"));return}this.paintInlineImageXObject(y)}},{key:"paintInlineImageXObject",value:function(E,y){var A=E.width,I=E.height,q=D(E,this.forceDataSchema,!!y),re=this.svgFactory.createElement("svg:rect");re.setAttributeNS(null,"x","0"),re.setAttributeNS(null,"y","0"),re.setAttributeNS(null,"width",f(A)),re.setAttributeNS(null,"height",f(I)),this.current.element=re,this.clip("nonzero");var X=this.svgFactory.createElement("svg:image");X.setAttributeNS(_,"xlink:href",q),X.setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y",f(-I)),X.setAttributeNS(null,"width",f(A)+"px"),X.setAttributeNS(null,"height",f(I)+"px"),X.setAttributeNS(null,"transform","scale(".concat(f(1/A)," ").concat(f(-1/I),")")),y?y.appendChild(X):this._ensureTransformGroup().appendChild(X)}},{key:"paintImageMaskXObject",value:function(E){var y=this.current,A=E.width,I=E.height,q=y.fillColor;y.maskId="mask".concat(Z++);var re=this.svgFactory.createElement("svg:mask");re.setAttributeNS(null,"id",y.maskId);var X=this.svgFactory.createElement("svg:rect");X.setAttributeNS(null,"x","0"),X.setAttributeNS(null,"y","0"),X.setAttributeNS(null,"width",f(A)),X.setAttributeNS(null,"height",f(I)),X.setAttributeNS(null,"fill",q),X.setAttributeNS(null,"mask","url(#".concat(y.maskId,")")),this.defs.appendChild(re),this._ensureTransformGroup().appendChild(X),this.paintInlineImageXObject(E,re)}},{key:"paintFormXObjectBegin",value:function(E,y){if(Array.isArray(E)&&E.length===6&&this.transform(E[0],E[1],E[2],E[3],E[4],E[5]),y){var A=y[2]-y[0],I=y[3]-y[1],q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",y[0]),q.setAttributeNS(null,"y",y[1]),q.setAttributeNS(null,"width",f(A)),q.setAttributeNS(null,"height",f(I)),this.current.element=q,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(E){var y=this.svgFactory.create(E.width,E.height),A=this.svgFactory.createElement("svg:defs");y.appendChild(A),this.defs=A;var I=this.svgFactory.createElement("svg:g");return I.setAttributeNS(null,"transform",m(E.transform)),y.appendChild(I),this.svg=I,y}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var E=this.svgFactory.createElement("svg:g");E.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(E),this.current.clipGroup=E}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),V}()}},(s,n,t)=>{function e(y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(I){return typeof I}:e=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},e(y)}Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var a=l(t(2)),o=t(4),c=t(154);function l(y){return y&&y.__esModule?y:{default:y}}function b(y,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(A&&A.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),A&&C(y,A)}function C(y,A){return C=Object.setPrototypeOf||function(q,re){return q.__proto__=re,q},C(y,A)}function N(y){var A=w();return function(){var q=R(y),re;if(A){var X=R(this).constructor;re=Reflect.construct(q,arguments,X)}else re=q.apply(this,arguments);return L(this,re)}}function L(y,A){if(A&&(e(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(y)}function W(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(y){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},R(y)}function O(y,A,I,q,re,X,be){try{var Pe=y[X](be),we=Pe.value}catch(H){I(H);return}Pe.done?A(we):Promise.resolve(we).then(q,re)}function P(y){return function(){var A=this,I=arguments;return new Promise(function(q,re){var X=y.apply(A,I);function be(we){O(X,q,re,be,Pe,"next",we)}function Pe(we){O(X,q,re,be,Pe,"throw",we)}be(void 0)})}}function B(y,A){var I=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!I){if(Array.isArray(y)||(I=k(y))||A&&y&&typeof y.length=="number"){I&&(y=I);var q=0,re=function(){};return{s:re,n:function(){return q>=y.length?{done:!0}:{done:!1,value:y[q++]}},e:function(H){throw H},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,be=!1,Pe;return{s:function(){I=I.call(y)},n:function(){var H=I.next();return X=H.done,H},e:function(H){be=!0,Pe=H},f:function(){try{!X&&I.return!=null&&I.return()}finally{if(be)throw Pe}}}}function k(y,A){if(!!y){if(typeof y=="string")return U(y,A);var I=Object.prototype.toString.call(y).slice(8,-1);if(I==="Object"&&y.constructor&&(I=y.constructor.name),I==="Map"||I==="Set")return Array.from(y);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return U(y,A)}}function U(y,A){(A==null||A>y.length)&&(A=y.length);for(var I=0,q=new Array(A);I<A;I++)q[I]=y[I];return q}function p(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function d(y,A){for(var I=0;I<A.length;I++){var q=A[I];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(y,q.key,q)}}function f(y,A,I){return A&&d(y.prototype,A),I&&d(y,I),y}var m=require$$4,g=require$$4,h=require$$4,_=require$$4,x=/^file:\/\/\/[a-zA-Z]:\//;function z(y){var A=_.parse(y);return A.protocol==="file:"||A.host?A:/^[a-z]:[/\\]/i.test(y)?_.parse("file:///".concat(y)):(A.host||(A.protocol="file:"),A)}var D=function(){function y(A){p(this,y),this.source=A,this.url=z(A.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(y,[{key:"_progressiveDataLength",get:function(){var I,q;return(I=(q=this._fullRequestReader)===null||q===void 0?void 0:q._loaded)!==null&&I!==void 0?I:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Y(this):new ie(this),this._fullRequestReader}},{key:"getRangeReader",value:function(I,q){if(q<=this._progressiveDataLength)return null;var re=this.isFsUrl?new E(this,I,q):new V(this,I,q);return this._rangeRequestReaders.push(re),re}},{key:"cancelAllRequests",value:function(I){this._fullRequestReader&&this._fullRequestReader.cancel(I);var q=B(this._rangeRequestReaders.slice(0)),re;try{for(q.s();!(re=q.n()).done;){var X=re.value;X.cancel(I)}}catch(be){q.e(be)}finally{q.f()}}}]),y}();n.PDFNodeStream=D;var $=function(){function y(A){p(this,y),this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null;var I=A.source;this._contentLength=I.length,this._loaded=0,this._filename=null,this._disableRange=I.disableRange||!1,this._rangeChunkSize=I.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!I.disableStream,this._isRangeSupported=!I.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}return f(y,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var A=P(a.default.mark(function q(){var re,X;return a.default.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,this._readCapability.promise;case 2:if(!this._done){Pe.next=4;break}return Pe.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Pe.next=6;break}throw this._storedError;case 6:if(re=this._readableStream.read(),re!==null){Pe.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),Pe.abrupt("return",this.read());case 10:return this._loaded+=re.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),X=new Uint8Array(re).buffer,Pe.abrupt("return",{value:X,done:!1});case 14:case"end":return Pe.stop()}},q,this)}));function I(){return A.apply(this,arguments)}return I}()},{key:"cancel",value:function(I){if(!this._readableStream){this._error(I);return}this._readableStream.destroy(I)}},{key:"_error",value:function(I){this._storedError=I,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(I){var q=this;this._readableStream=I,I.on("readable",function(){q._readCapability.resolve()}),I.on("end",function(){I.destroy(),q._done=!0,q._readCapability.resolve()}),I.on("error",function(re){q._error(re)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),y}(),ee=function(){function y(A){p(this,y),this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)();var I=A.source;this._isStreamingSupported=!I.disableStream}return f(y,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var A=P(a.default.mark(function q(){var re,X;return a.default.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,this._readCapability.promise;case 2:if(!this._done){Pe.next=4;break}return Pe.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Pe.next=6;break}throw this._storedError;case 6:if(re=this._readableStream.read(),re!==null){Pe.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),Pe.abrupt("return",this.read());case 10:return this._loaded+=re.length,this.onProgress&&this.onProgress({loaded:this._loaded}),X=new Uint8Array(re).buffer,Pe.abrupt("return",{value:X,done:!1});case 14:case"end":return Pe.stop()}},q,this)}));function I(){return A.apply(this,arguments)}return I}()},{key:"cancel",value:function(I){if(!this._readableStream){this._error(I);return}this._readableStream.destroy(I)}},{key:"_error",value:function(I){this._storedError=I,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(I){var q=this;this._readableStream=I,I.on("readable",function(){q._readCapability.resolve()}),I.on("end",function(){I.destroy(),q._done=!0,q._readCapability.resolve()}),I.on("error",function(re){q._error(re)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),y}();function Z(y,A){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:A}}var ie=function(y){b(I,y);var A=N(I);function I(q){var re;p(this,I),re=A.call(this,q);var X=function(Pe){if(Pe.statusCode===404){var we=new o.MissingPDFException('Missing PDF "'.concat(re._url,'".'));re._storedError=we,re._headersCapability.reject(we);return}re._headersCapability.resolve(),re._setReadableStream(Pe);var H=function(M){return re._readableStream.headers[M.toLowerCase()]},F=(0,c.validateRangeRequestCapabilities)({getResponseHeader:H,isHttp:q.isHttp,rangeChunkSize:re._rangeChunkSize,disableRange:re._disableRange}),v=F.allowRangeRequests,u=F.suggestedLength;re._isRangeSupported=v,re._contentLength=u||re._contentLength,re._filename=(0,c.extractFilenameFromHeader)(H)};return re._request=null,re._url.protocol==="http:"?re._request=g.request(Z(re._url,q.httpHeaders),X):re._request=h.request(Z(re._url,q.httpHeaders),X),re._request.on("error",function(be){re._storedError=be,re._headersCapability.reject(be)}),re._request.end(),re}return I}($),V=function(y){b(I,y);var A=N(I);function I(q,re,X){var be;p(this,I),be=A.call(this,q),be._httpHeaders={};for(var Pe in q.httpHeaders){var we=q.httpHeaders[Pe];typeof we!="undefined"&&(be._httpHeaders[Pe]=we)}be._httpHeaders.Range="bytes=".concat(re,"-").concat(X-1);var H=function(v){if(v.statusCode===404){var u=new o.MissingPDFException('Missing PDF "'.concat(be._url,'".'));be._storedError=u;return}be._setReadableStream(v)};return be._request=null,be._url.protocol==="http:"?be._request=g.request(Z(be._url,be._httpHeaders),H):be._request=h.request(Z(be._url,be._httpHeaders),H),be._request.on("error",function(F){be._storedError=F}),be._request.end(),be}return I}(ee),Y=function(y){b(I,y);var A=N(I);function I(q){var re;p(this,I),re=A.call(this,q);var X=decodeURIComponent(re._url.path);return x.test(re._url.href)&&(X=X.replace(/^\//,"")),m.lstat(X,function(be,Pe){if(be){be.code==="ENOENT"&&(be=new o.MissingPDFException('Missing PDF "'.concat(X,'".'))),re._storedError=be,re._headersCapability.reject(be);return}re._contentLength=Pe.size,re._setReadableStream(m.createReadStream(X)),re._headersCapability.resolve()}),re}return I}($),E=function(y){b(I,y);var A=N(I);function I(q,re,X){var be;p(this,I),be=A.call(this,q);var Pe=decodeURIComponent(be._url.path);return x.test(be._url.href)&&(Pe=Pe.replace(/^\//,"")),be._setReadableStream(m.createReadStream(Pe,{start:re,end:X-1})),be}return I}(ee)},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=b,n.extractFilenameFromHeader=l,n.validateRangeRequestCapabilities=c,n.validateResponseStatus=C;var e=t(4),a=t(155),o=t(1);function c(N){var L=N.getResponseHeader,W=N.isHttp,w=N.rangeChunkSize,R=N.disableRange;(0,e.assert)(w>0,"Range chunk size must be larger than zero");var O={allowRangeRequests:!1,suggestedLength:void 0},P=parseInt(L("Content-Length"),10);if(!Number.isInteger(P)||(O.suggestedLength=P,P<=2*w)||R||!W||L("Accept-Ranges")!=="bytes")return O;var B=L("Content-Encoding")||"identity";return B!=="identity"||(O.allowRangeRequests=!0),O}function l(N){var L=N("Content-Disposition");if(L){var W=(0,a.getFilenameFromContentDispositionHeader)(L);if(W.includes("%"))try{W=decodeURIComponent(W)}catch{}if((0,o.isPdfFile)(W))return W}return null}function b(N,L){return N===404||N===0&&L.startsWith("file:")?new e.MissingPDFException('Missing PDF "'+L+'".'):new e.UnexpectedResponseException("Unexpected server response (".concat(N,') while retrieving PDF "').concat(L,'".'),N)}function C(N){return N===200||N===206}},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=N;var e=t(4);function a(L,W){return C(L)||b(L,W)||c(L,W)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(L,W){if(!!L){if(typeof L=="string")return l(L,W);var w=Object.prototype.toString.call(L).slice(8,-1);if(w==="Object"&&L.constructor&&(w=L.constructor.name),w==="Map"||w==="Set")return Array.from(L);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return l(L,W)}}function l(L,W){(W==null||W>L.length)&&(W=L.length);for(var w=0,R=new Array(W);w<W;w++)R[w]=L[w];return R}function b(L,W){var w=L==null?null:typeof Symbol!="undefined"&&L[Symbol.iterator]||L["@@iterator"];if(w!=null){var R=[],O=!0,P=!1,B,k;try{for(w=w.call(L);!(O=(B=w.next()).done)&&(R.push(B.value),!(W&&R.length===W));O=!0);}catch(U){P=!0,k=U}finally{try{!O&&w.return!=null&&w.return()}finally{if(P)throw k}}return R}}function C(L){if(Array.isArray(L))return L}function N(L){var W=!0,w=B("filename\\*","i").exec(L);if(w){w=w[1];var R=d(w);return R=unescape(R),R=f(R),R=m(R),U(R)}if(w=p(L),w){var O=m(w);return U(O)}if(w=B("filename","i").exec(L),w){w=w[1];var P=d(w);return P=m(P),U(P)}function B(g,h){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function k(g,h){if(g){if(!/^[\x00-\xFF]+$/.test(h))return h;try{var _=new TextDecoder(g,{fatal:!0}),x=(0,e.stringToBytes)(h);h=_.decode(x),W=!1}catch{if(/^utf-?8$/i.test(g))try{h=decodeURIComponent(escape(h)),W=!1}catch{}}}return h}function U(g){return W&&/[\x80-\xff]/.test(g)&&(g=k("utf-8",g),W&&(g=k("iso-8859-1",g))),g}function p(g){for(var h=[],_,x=B("filename\\*((?!0\\d)\\d+)(\\*?)","ig");(_=x.exec(g))!==null;){var z=_,D=a(z,4),$=D[1],ee=D[2],Z=D[3];if($=parseInt($,10),$ in h){if($===0)break;continue}h[$]=[ee,Z]}for(var ie=[],V=0;V<h.length&&V in h;++V){var Y=a(h[V],2),E=Y[0],y=Y[1];y=d(y),E&&(y=unescape(y),V===0&&(y=f(y))),ie.push(y)}return ie.join("")}function d(g){if(g.startsWith('"')){for(var h=g.slice(1).split('\\"'),_=0;_<h.length;++_){var x=h[_].indexOf('"');x!==-1&&(h[_]=h[_].slice(0,x),h.length=_+1),h[_]=h[_].replace(/\\(.)/g,"$1")}g=h.join('"')}return g}function f(g){var h=g.indexOf("'");if(h===-1)return g;var _=g.slice(0,h),x=g.slice(h+1),z=x.replace(/^[^']*'/,"");return k(_,z)}function m(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,_,x,z){if(x==="q"||x==="Q")return z=z.replace(/_/g," "),z=z.replace(/=([0-9a-fA-F]{2})/g,function(D,$){return String.fromCharCode(parseInt($,16))}),k(_,z);try{z=atob(z)}catch{}return k(_,z)})}return""}},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var e=c(t(2)),a=t(4),o=t(154);function c(f){return f&&f.__esModule?f:{default:f}}function l(f,m,g,h,_,x,z){try{var D=f[x](z),$=D.value}catch(ee){g(ee);return}D.done?m($):Promise.resolve($).then(h,_)}function b(f){return function(){var m=this,g=arguments;return new Promise(function(h,_){var x=f.apply(m,g);function z($){l(x,h,_,z,D,"next",$)}function D($){l(x,h,_,z,D,"throw",$)}z(void 0)})}}function C(f,m){var g=typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(!g){if(Array.isArray(f)||(g=N(f))||m&&f&&typeof f.length=="number"){g&&(f=g);var h=0,_=function(){};return{s:_,n:function(){return h>=f.length?{done:!0}:{done:!1,value:f[h++]}},e:function(ee){throw ee},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,z=!1,D;return{s:function(){g=g.call(f)},n:function(){var ee=g.next();return x=ee.done,ee},e:function(ee){z=!0,D=ee},f:function(){try{!x&&g.return!=null&&g.return()}finally{if(z)throw D}}}}function N(f,m){if(!!f){if(typeof f=="string")return L(f,m);var g=Object.prototype.toString.call(f).slice(8,-1);if(g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set")return Array.from(f);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return L(f,m)}}function L(f,m){(m==null||m>f.length)&&(m=f.length);for(var g=0,h=new Array(m);g<m;g++)h[g]=f[g];return h}function W(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function w(f,m){for(var g=0;g<m.length;g++){var h=m[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function R(f,m,g){return m&&w(f.prototype,m),g&&w(f,g),f}var O=200,P=206;function B(f){var m=f.response;if(typeof m!="string")return m;var g=(0,a.stringToBytes)(m);return g.buffer}var k=function(){function f(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};W(this,f),this.url=m,this.isHttp=/^https?:/i.test(m),this.httpHeaders=this.isHttp&&g.httpHeaders||Object.create(null),this.withCredentials=g.withCredentials||!1,this.getXhr=g.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return R(f,[{key:"requestRange",value:function(g,h,_){var x={begin:g,end:h};for(var z in _)x[z]=_[z];return this.request(x)}},{key:"requestFull",value:function(g){return this.request(g)}},{key:"request",value:function(g){var h=this.getXhr(),_=this.currXhrId++,x=this.pendingRequests[_]={xhr:h};h.open("GET",this.url),h.withCredentials=this.withCredentials;for(var z in this.httpHeaders){var D=this.httpHeaders[z];typeof D!="undefined"&&h.setRequestHeader(z,D)}return this.isHttp&&"begin"in g&&"end"in g?(h.setRequestHeader("Range","bytes=".concat(g.begin,"-").concat(g.end-1)),x.expectedStatus=P):x.expectedStatus=O,h.responseType="arraybuffer",g.onError&&(h.onerror=function($){g.onError(h.status)}),h.onreadystatechange=this.onStateChange.bind(this,_),h.onprogress=this.onProgress.bind(this,_),x.onHeadersReceived=g.onHeadersReceived,x.onDone=g.onDone,x.onError=g.onError,x.onProgress=g.onProgress,h.send(null),_}},{key:"onProgress",value:function(g,h){var _,x=this.pendingRequests[g];!x||(_=x.onProgress)===null||_===void 0||_.call(x,h)}},{key:"onStateChange",value:function(g,h){var _=this.pendingRequests[g];if(!!_){var x=_.xhr;if(x.readyState>=2&&_.onHeadersReceived&&(_.onHeadersReceived(),delete _.onHeadersReceived),x.readyState===4&&g in this.pendingRequests){if(delete this.pendingRequests[g],x.status===0&&this.isHttp){var z;(z=_.onError)===null||z===void 0||z.call(_,x.status);return}var D=x.status||O,$=D===O&&_.expectedStatus===P;if(!$&&D!==_.expectedStatus){var ee;(ee=_.onError)===null||ee===void 0||ee.call(_,x.status);return}var Z=B(x);if(D===P){var ie=x.getResponseHeader("Content-Range"),V=/bytes (\d+)-(\d+)\/(\d+)/.exec(ie);_.onDone({begin:parseInt(V[1],10),chunk:Z})}else if(Z)_.onDone({begin:0,chunk:Z});else{var Y;(Y=_.onError)===null||Y===void 0||Y.call(_,x.status)}}}}},{key:"getRequestXhr",value:function(g){return this.pendingRequests[g].xhr}},{key:"isPendingRequest",value:function(g){return g in this.pendingRequests}},{key:"abortRequest",value:function(g){var h=this.pendingRequests[g].xhr;delete this.pendingRequests[g],h.abort()}}]),f}(),U=function(){function f(m){W(this,f),this._source=m,this._manager=new k(m.url,{httpHeaders:m.httpHeaders,withCredentials:m.withCredentials}),this._rangeChunkSize=m.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return R(f,[{key:"_onRangeRequestReaderClosed",value:function(g){var h=this._rangeRequestReaders.indexOf(g);h>=0&&this._rangeRequestReaders.splice(h,1)}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(g,h){var _=new d(this._manager,g,h);return _.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_),_}},{key:"cancelAllRequests",value:function(g){var h;(h=this._fullRequestReader)===null||h===void 0||h.cancel(g);var _=C(this._rangeRequestReaders.slice(0)),x;try{for(_.s();!(x=_.n()).done;){var z=x.value;z.cancel(g)}}catch(D){_.e(D)}finally{_.f()}}}]),f}();n.PDFNetworkStream=U;var p=function(){function f(m,g){W(this,f),this._manager=m;var h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._fullRequestId=m.requestFull(h),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=g.disableRange||!1,this._contentLength=g.length,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return R(f,[{key:"_onHeadersReceived",value:function(){var g=this._fullRequestId,h=this._manager.getRequestXhr(g),_=function(ee){return h.getResponseHeader(ee)},x=(0,o.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),z=x.allowRangeRequests,D=x.suggestedLength;z&&(this._isRangeSupported=!0),this._contentLength=D||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(_),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(g){if(g)if(this._requests.length>0){var h=this._requests.shift();h.resolve({value:g.chunk,done:!1})}else this._cachedChunks.push(g.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){var _=C(this._requests),x;try{for(_.s();!(x=_.n()).done;){var z=x.value;z.resolve({value:void 0,done:!0})}}catch(D){_.e(D)}finally{_.f()}this._requests.length=0}}},{key:"_onError",value:function(g){this._storedError=(0,o.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);var h=C(this._requests),_;try{for(h.s();!(_=h.n()).done;){var x=_.value;x.reject(this._storedError)}}catch(z){h.e(z)}finally{h.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(g){var h;(h=this.onProgress)===null||h===void 0||h.call(this,{loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var m=b(e.default.mark(function h(){var _,x;return e.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!this._storedError){D.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){D.next=5;break}return _=this._cachedChunks.shift(),D.abrupt("return",{value:_,done:!1});case 5:if(!this._done){D.next=7;break}return D.abrupt("return",{value:void 0,done:!0});case 7:return x=(0,a.createPromiseCapability)(),this._requests.push(x),D.abrupt("return",x.promise);case 10:case"end":return D.stop()}},h,this)}));function g(){return m.apply(this,arguments)}return g}()},{key:"cancel",value:function(g){this._done=!0,this._headersReceivedCapability.reject(g);var h=C(this._requests),_;try{for(h.s();!(_=h.n()).done;){var x=_.value;x.resolve({value:void 0,done:!0})}}catch(z){h.e(z)}finally{h.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),f}(),d=function(){function f(m,g,h){W(this,f),this._manager=m;var _={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._requestId=m.requestRange(g,h,_),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return R(f,[{key:"_close",value:function(){var g;(g=this.onClosed)===null||g===void 0||g.call(this,this)}},{key:"_onDone",value:function(g){var h=g.chunk;if(this._requests.length>0){var _=this._requests.shift();_.resolve({value:h,done:!1})}else this._queuedChunk=h;this._done=!0;var x=C(this._requests),z;try{for(x.s();!(z=x.n()).done;){var D=z.value;D.resolve({value:void 0,done:!0})}}catch($){x.e($)}finally{x.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(g){this._storedError=(0,o.createResponseStatusError)(g,this._url);var h=C(this._requests),_;try{for(h.s();!(_=h.n()).done;){var x=_.value;x.reject(this._storedError)}}catch(z){h.e(z)}finally{h.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(g){if(!this.isStreamingSupported){var h;(h=this.onProgress)===null||h===void 0||h.call(this,{loaded:g.loaded})}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var m=b(e.default.mark(function h(){var _,x;return e.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!this._storedError){D.next=2;break}throw this._storedError;case 2:if(this._queuedChunk===null){D.next=6;break}return _=this._queuedChunk,this._queuedChunk=null,D.abrupt("return",{value:_,done:!1});case 6:if(!this._done){D.next=8;break}return D.abrupt("return",{value:void 0,done:!0});case 8:return x=(0,a.createPromiseCapability)(),this._requests.push(x),D.abrupt("return",x.promise);case 11:case"end":return D.stop()}},h,this)}));function g(){return m.apply(this,arguments)}return g}()},{key:"cancel",value:function(g){this._done=!0;var h=C(this._requests),_;try{for(h.s();!(_=h.n()).done;){var x=_.value;x.resolve({value:void 0,done:!0})}}catch(z){h.e(z)}finally{h.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),f}()},(s,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var e=c(t(2)),a=t(4),o=t(154);function c(p){return p&&p.__esModule?p:{default:p}}function l(p,d,f,m,g,h,_){try{var x=p[h](_),z=x.value}catch(D){f(D);return}x.done?d(z):Promise.resolve(z).then(m,g)}function b(p){return function(){var d=this,f=arguments;return new Promise(function(m,g){var h=p.apply(d,f);function _(z){l(h,m,g,_,x,"next",z)}function x(z){l(h,m,g,_,x,"throw",z)}_(void 0)})}}function C(p,d){var f=typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(!f){if(Array.isArray(p)||(f=N(p))||d&&p&&typeof p.length=="number"){f&&(p=f);var m=0,g=function(){};return{s:g,n:function(){return m>=p.length?{done:!0}:{done:!1,value:p[m++]}},e:function(D){throw D},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,_=!1,x;return{s:function(){f=f.call(p)},n:function(){var D=f.next();return h=D.done,D},e:function(D){_=!0,x=D},f:function(){try{!h&&f.return!=null&&f.return()}finally{if(_)throw x}}}}function N(p,d){if(!!p){if(typeof p=="string")return L(p,d);var f=Object.prototype.toString.call(p).slice(8,-1);if(f==="Object"&&p.constructor&&(f=p.constructor.name),f==="Map"||f==="Set")return Array.from(p);if(f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return L(p,d)}}function L(p,d){(d==null||d>p.length)&&(d=p.length);for(var f=0,m=new Array(d);f<d;f++)m[f]=p[f];return m}function W(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function w(p,d){for(var f=0;f<d.length;f++){var m=d[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}function R(p,d,f){return d&&w(p.prototype,d),f&&w(p,f),p}function O(p,d,f){return{method:"GET",headers:p,signal:f==null?void 0:f.signal,mode:"cors",credentials:d?"include":"same-origin",redirect:"follow"}}function P(p){var d=new Headers;for(var f in p){var m=p[f];typeof m!="undefined"&&d.append(f,m)}return d}var B=function(){function p(d){W(this,p),this.source=d,this.isHttp=/^https?:/i.test(d.url),this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return R(p,[{key:"_progressiveDataLength",get:function(){var f,m;return(f=(m=this._fullRequestReader)===null||m===void 0?void 0:m._loaded)!==null&&f!==void 0?f:0}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new k(this),this._fullRequestReader}},{key:"getRangeReader",value:function(f,m){if(m<=this._progressiveDataLength)return null;var g=new U(this,f,m);return this._rangeRequestReaders.push(g),g}},{key:"cancelAllRequests",value:function(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);var m=C(this._rangeRequestReaders.slice(0)),g;try{for(m.s();!(g=m.n()).done;){var h=g.value;h.cancel(f)}}catch(_){m.e(_)}finally{m.f()}}}]),p}();n.PDFFetchStream=B;var k=function(){function p(d){var f=this;W(this,p),this._stream=d,this._reader=null,this._loaded=0,this._filename=null;var m=d.source;this._withCredentials=m.withCredentials||!1,this._contentLength=m.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._headers=P(this._stream.httpHeaders);var g=m.url;fetch(g,O(this._headers,this._withCredentials,this._abortController)).then(function(h){if(!(0,o.validateResponseStatus)(h.status))throw(0,o.createResponseStatusError)(h.status,g);f._reader=h.body.getReader(),f._headersCapability.resolve();var _=function(ee){return h.headers.get(ee)},x=(0,o.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:f._stream.isHttp,rangeChunkSize:f._rangeChunkSize,disableRange:f._disableRange}),z=x.allowRangeRequests,D=x.suggestedLength;f._isRangeSupported=z,f._contentLength=D||f._contentLength,f._filename=(0,o.extractFilenameFromHeader)(_),!f._isStreamingSupported&&f._isRangeSupported&&f.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return R(p,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var d=b(e.default.mark(function m(){var g,h,_,x;return e.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,this._headersCapability.promise;case 2:return D.next=4,this._reader.read();case 4:if(g=D.sent,h=g.value,_=g.done,!_){D.next=9;break}return D.abrupt("return",{value:h,done:_});case 9:return this._loaded+=h.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),x=new Uint8Array(h).buffer,D.abrupt("return",{value:x,done:!1});case 13:case"end":return D.stop()}},m,this)}));function f(){return d.apply(this,arguments)}return f}()},{key:"cancel",value:function(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}]),p}(),U=function(){function p(d,f,m){var g=this;W(this,p),this._stream=d,this._reader=null,this._loaded=0;var h=d.source;this._withCredentials=h.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!h.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=P(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(f,"-").concat(m-1));var _=h.url;fetch(_,O(this._headers,this._withCredentials,this._abortController)).then(function(x){if(!(0,o.validateResponseStatus)(x.status))throw(0,o.createResponseStatusError)(x.status,_);g._readCapability.resolve(),g._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return R(p,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var d=b(e.default.mark(function m(){var g,h,_,x;return e.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,this._readCapability.promise;case 2:return D.next=4,this._reader.read();case 4:if(g=D.sent,h=g.value,_=g.done,!_){D.next=9;break}return D.abrupt("return",{value:h,done:_});case 9:return this._loaded+=h.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),x=new Uint8Array(h).buffer,D.abrupt("return",{value:x,done:!1});case 13:case"end":return D.stop()}},m,this)}));function f(){return d.apply(this,arguments)}return f}()},{key:"cancel",value:function(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}]),p}()}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var n=__webpack_module_cache__[s];if(n!==void 0)return n.exports;var t=__webpack_module_cache__[s]={id:s,loaded:!1,exports:{}};return __webpack_modules__[s].call(t.exports,t,t.exports,__w_pdfjs_require__),t.loaded=!0,t.exports}__w_pdfjs_require__.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(s,"LinkTarget",{enumerable:!0,get:function(){return n.LinkTarget}}),Object.defineProperty(s,"LoopbackPort",{enumerable:!0,get:function(){return e.LoopbackPort}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return e.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return e.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return b.SVGGraphics}}),Object.defineProperty(s,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return C.XfaLayer}}),Object.defineProperty(s,"addLinkAttributes",{enumerable:!0,get:function(){return n.addLinkAttributes}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return e.build}}),Object.defineProperty(s,"createObjectURL",{enumerable:!0,get:function(){return t.createObjectURL}}),Object.defineProperty(s,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return e.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(s,"removeNullCharacters",{enumerable:!0,get:function(){return t.removeNullCharacters}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return e.version}});var n=__w_pdfjs_require__(1),t=__w_pdfjs_require__(4),e=__w_pdfjs_require__(136),a=__w_pdfjs_require__(148),o=__w_pdfjs_require__(142),c=__w_pdfjs_require__(6),l=__w_pdfjs_require__(151),b=__w_pdfjs_require__(152),C=__w_pdfjs_require__(150);if(c.isNodeJS){var N=__w_pdfjs_require__(153),L=N.PDFNodeStream;(0,e.setPDFNetworkStreamFactory)(function(P){return new L(P)})}else{var W=__w_pdfjs_require__(156),w=W.PDFNetworkStream,R=__w_pdfjs_require__(157),O=R.PDFFetchStream;(0,e.setPDFNetworkStreamFactory)(function(P){return(0,n.isValidFetchUrl)(P.url)?new O(P):new w(P)})}})(),__webpack_exports__})()})})(pdf);function _objectWithoutProperties(s,n){if(s==null)return{};var t=_objectWithoutPropertiesLoose(s,n),e,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(a=0;a<o.length;a++)e=o[a],!(n.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,e)||(t[e]=s[e]))}return t}function _typeof(s){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(s)}function _classCallCheck(s,n){if(!(s instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}function _createClass(s,n,t){return n&&_defineProperties(s.prototype,n),t&&_defineProperties(s,t),Object.defineProperty(s,"prototype",{writable:!1}),s}function _inherits(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(n&&n.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),n&&_setPrototypeOf(s,n)}function _possibleConstructorReturn(s,n){if(n&&(_typeof(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(s)}function _getPrototypeOf(s){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(s)}var clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],focusEvents=["onFocus","onBlur"],formEvents=["onChange","onInput","onInvalid","onReset","onSubmit"],genericEvents=["onError","onLoad"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],uiEvents=["onScroll"],wheelEvents=["onWheel"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],imageEvents=["onLoad","onError"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],allEvents=[].concat(clipboardEvents,compositionEvents,keyboardEvents,focusEvents,formEvents,genericEvents,mouseEvents,pointerEvents,selectionEvents,touchEvents,uiEvents,wheelEvents,mediaEvents,imageEvents,animationEvents,transitionEvents,otherEvents),makeEventProps=function s(n,t){var e={};return allEvents.forEach(function(a){if(a in n){if(!t){e[a]=n[a];return}e[a]=function(o){return n[a](o,t(a))}}}),e},makeEventProps$1=makeEventProps;function makeCancellablePromise(s){var n=!1,t=new Promise(function(e,a){s.then(function(){return!n&&e.apply(void 0,arguments)}).catch(function(o){return!n&&a(o)})});return{promise:t,cancel:function(){n=!0}}}function mergeClassNames(){return Array.prototype.slice.call(arguments).reduce(function(s,n){return s.concat(n)},[]).filter(function(s){return typeof s=="string"}).join(" ")}var isProduction=!0;function warning(s,n){if(!isProduction){if(s)return;var t="Warning: "+n;typeof console!="undefined"&&console.warn(t);try{throw Error(t)}catch{}}}var DocumentContext=react.exports.createContext(null);function Message(s){var n=s.children,t=s.type;return React.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(t)},n)}Message.propTypes={children:PropTypes.node,type:PropTypes.oneOf(["error","loading","no-data"]).isRequired};var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function s(){_classCallCheck(this,s),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(s,[{key:"setDocument",value:function(t){this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setExternalLinkRel",value:function(t){this.externalLinkRel=t}},{key:"setExternalLinkTarget",value:function(t){this.externalLinkTarget=t}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:function(t){var e=this;new Promise(function(a){typeof t=="string"?e.pdfDocument.getDestination(t).then(a):Array.isArray(t)?a(t):t.then(a)}).then(function(a){invariant(Array.isArray(a),'"'.concat(a,'" is not a valid destination array.'));var o=a[0];new Promise(function(c){o instanceof Object?e.pdfDocument.getPageIndex(o).then(function(l){c(l)}).catch(function(){invariant(!1,'"'.concat(o,'" is not a valid page reference.'))}):typeof o=="number"?c(o):invariant(!1,'"'.concat(o,'" is not a valid destination reference.'))}).then(function(c){var l=c+1;invariant(l>=1&&l<=e.pagesCount,'"'.concat(l,'" is not a valid page number.')),e.pdfViewer.scrollPageIntoView({dest:t,pageIndex:c,pageNumber:l})})})}},{key:"navigateTo",value:function(t){this.goToDestination(t)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(t,e,a){t.href=e,t.rel=this.externalLinkRel||DEFAULT_LINK_REL,t.target=a?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),s}(),PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _arrayWithHoles(s){if(Array.isArray(s))return s}function _iterableToArrayLimit(s,n){var t=s==null?null:typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var e=[],a=!0,o=!1,c,l;try{for(t=t.call(s);!(a=(c=t.next()).done)&&(e.push(c.value),!(n&&e.length===n));a=!0);}catch(b){o=!0,l=b}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return e}}function _arrayLikeToArray(s,n){(n==null||n>s.length)&&(n=s.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=s[t];return e}function _unsupportedIterableToArray(s,n){if(!!s){if(typeof s=="string")return _arrayLikeToArray(s,n);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(s,n)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(s,n){return _arrayWithHoles(s)||_iterableToArrayLimit(s,n)||_unsupportedIterableToArray(s,n)||_nonIterableRest()}var isBrowser=typeof window!="undefined",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(s){return typeof s!="undefined"}function isProvided(s){return isDefined(s)&&s!==null}function isString(s){return typeof s=="string"}function isArrayBuffer(s){return s instanceof ArrayBuffer}function isBlob(s){return invariant(isBrowser,"isBlob can only be used in a browser environment"),s instanceof Blob}function isFile$1(s){return invariant(isBrowser,"isFile can only be used in a browser environment"),s instanceof File}function isDataURI(s){return isString(s)&&/^data:/.test(s)}function dataURItoByteString(s){invariant(isDataURI(s),"Invalid data URI.");var n=s.split(","),t=_slicedToArray(n,2),e=t[0],a=t[1],o=e.split(";");return o.indexOf("base64")!==-1?atob(a):unescape(a)}function getPixelRatio(){return isBrowser&&window.devicePixelRatio||1}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function cancelRunningTask(s){s&&s.cancel&&s.cancel()}function makePageCallback(s,n){return Object.defineProperty(s,"width",{get:function(){return this.view[2]*n},configurable:!0}),Object.defineProperty(s,"height",{get:function(){return this.view[3]*n},configurable:!0}),Object.defineProperty(s,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),s}function isCancelException(s){return s.name==="RenderingCancelledException"}function loadFromFile(s){return new Promise(function(n,t){var e=new FileReader;return e.onload=function(){return n(new Uint8Array(e.result))},e.onerror=function(a){switch(a.target.error.code){case a.target.error.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.target.error.NOT_READABLE_ERR:return t(new Error("Error while reading a file: File not readable."));case a.target.error.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.target.error.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},e.readAsArrayBuffer(s),null})}function _arrayWithoutHoles(s){if(Array.isArray(s))return _arrayLikeToArray(s)}function _iterableToArray(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(s){return _arrayWithoutHoles(s)||_iterableToArray(s)||_unsupportedIterableToArray(s)||_nonIterableSpread()}var eventProps=function(){var s={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(n){s[n]=PropTypes.func}),s}(),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),httpHeaders:PropTypes.object,range:PropTypes.object,url:PropTypes.string,withCredentials:PropTypes.bool})];typeof File!="undefined"&&fileTypes.push(PropTypes.instanceOf(File));typeof Blob!="undefined"&&fileTypes.push(PropTypes.instanceOf(Blob));var isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes),isLinkService=PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);var isPage=PropTypes.shape({_transport:PropTypes.shape({fontLoader:PropTypes.object.isRequired}).isRequired,commonObjs:PropTypes.shape({_objs:PropTypes.object.isRequired}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired}),isPageIndex=function s(n,t,e){var a=n[t],o=n.pageNumber,c=n.pdf;if(!isDefined(c))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(t,"` of type `").concat(_typeof(a),"` supplied to `").concat(e,"`, expected `number`."));if(a<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var l=c.numPages;if(a+1>l)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(l-1,"."))}else if(!isDefined(o))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},isPageNumber=function s(n,t,e){var a=n[t],o=n.pageIndex,c=n.pdf;if(!isDefined(c))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(t,"` of type `").concat(_typeof(a),"` supplied to `").concat(e,"`, expected `number`."));if(a<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var l=c.numPages;if(a>l)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(l,"."))}else if(!isDefined(o))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},isPdf=PropTypes.oneOfType([PropTypes.shape({getDestination:PropTypes.func.isRequired,getOutline:PropTypes.func.isRequired,getPage:PropTypes.func.isRequired,numPages:PropTypes.number.isRequired}),PropTypes.bool]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.shape({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]),_excluded=["url"];function ownKeys$2(s,n){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),t.push.apply(t,e)}return t}function _objectSpread$2(s){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$2(Object(t),!0).forEach(function(e){_defineProperty(s,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):ownKeys$2(Object(t)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(t,e))})}return s}function _createSuper$6(s){var n=_isNativeReflectConstruct$6();return function(){var e=_getPrototypeOf(s),a;if(n){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,o)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$6(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PDFDataRangeTransport=pdf.exports.PDFDataRangeTransport,Document=function(s){_inherits(t,s);var n=_createSuper$6(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),_defineProperty(_assertThisInitialized(e),"state",{pdf:null}),_defineProperty(_assertThisInitialized(e),"viewer",{scrollPageIntoView:function(b){var C=b.dest,N=b.pageIndex,L=b.pageNumber,W=e.props.onItemClick;if(W){W({dest:C,pageIndex:N,pageNumber:L});return}var w=e.pages[N];if(w){w.scrollIntoView();return}warning(!1,"An internal link leading to page ".concat(L," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),_defineProperty(_assertThisInitialized(e),"linkService",new LinkService),_defineProperty(_assertThisInitialized(e),"loadDocument",function(){cancelRunningTask(e.runningTask),e.loadingTask&&e.loadingTask.destroy();var l=makeCancellablePromise(e.findDocumentSource());e.runningTask=l,l.promise.then(function(b){if(e.onSourceSuccess(),!!b){e.setState(function(R){return R.pdf?{pdf:null}:null});var C=e.props,N=C.options,L=C.onLoadProgress,W=C.onPassword;e.loadingTask=pdf.exports.getDocument(_objectSpread$2(_objectSpread$2({},b),N)),e.loadingTask.onPassword=W,L&&(e.loadingTask.onProgress=L);var w=makeCancellablePromise(e.loadingTask.promise);e.runningTask=w,w.promise.then(function(R){e.setState(function(O){return O.pdf&&O.pdf.fingerprint===R.fingerprint?null:{pdf:R}},e.onLoadSuccess)}).catch(function(R){e.onLoadError(R)})}}).catch(function(b){e.onSourceError(b)})}),_defineProperty(_assertThisInitialized(e),"setupLinkService",function(){var l=e.props,b=l.externalLinkRel,C=l.externalLinkTarget;e.linkService.setViewer(e.viewer),e.linkService.setExternalLinkRel(b),e.linkService.setExternalLinkTarget(C)}),_defineProperty(_assertThisInitialized(e),"onSourceSuccess",function(){var l=e.props.onSourceSuccess;l&&l()}),_defineProperty(_assertThisInitialized(e),"onSourceError",function(l){warning(l);var b=e.props.onSourceError;b&&b(l)}),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var l=e.props.onLoadSuccess,b=e.state.pdf;l&&l(b),e.pages=new Array(b.numPages),e.linkService.setDocument(b)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(l){e.setState({pdf:!1}),warning(l);var b=e.props.onLoadError;b&&b(l)}),_defineProperty(_assertThisInitialized(e),"findDocumentSource",function(){return new Promise(function(l){var b=e.props.file;if(b||l(null),typeof b=="string"){if(isDataURI(b)){var C=dataURItoByteString(b);l({data:C})}displayCORSWarning(),l({url:b})}if(b instanceof PDFDataRangeTransport&&l({range:b}),isArrayBuffer(b)&&l({data:b}),isBrowser&&(isBlob(b)||isFile$1(b))){loadFromFile(b).then(function(w){l({data:w})});return}if(invariant(_typeof(b)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(b.url||b.data||b.range,"Invalid parameter object: need either .data, .range or .url"),typeof b.url=="string"){if(isDataURI(b.url)){var N=b.url,L=_objectWithoutProperties(b,_excluded),W=dataURItoByteString(N);l(_objectSpread$2({data:W},L))}displayCORSWarning()}l(b)})}),_defineProperty(_assertThisInitialized(e),"registerPage",function(l,b){e.pages[l]=b}),_defineProperty(_assertThisInitialized(e),"unregisterPage",function(l){delete e.pages[l]}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(a){var o=this.props.file;o!==a.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var a=this.linkService,o=this.registerPage,c=this.unregisterPage,l=this.props,b=l.imageResourcesPath,C=l.renderMode,N=l.rotate,L=this.state.pdf;return{imageResourcesPath:b,linkService:a,pdf:L,registerPage:o,renderMode:C,rotate:N,unregisterPage:c}}},{key:"eventProps",get:function(){var a=this;return makeEventProps$1(this.props,function(){return a.state.pdf})}},{key:"renderChildren",value:function(){var a=this.props.children;return jsx(DocumentContext.Provider,{value:this.childContext,children:a})}},{key:"renderContent",value:function(){var a=this.props.file,o=this.state.pdf;if(!a){var c=this.props.noData;return jsx(Message,{type:"no-data",children:typeof c=="function"?c():c})}if(o===null){var l=this.props.loading;return jsx(Message,{type:"loading",children:typeof l=="function"?l():l})}if(o===!1){var b=this.props.error;return jsx(Message,{type:"error",children:typeof b=="function"?b():b})}return this.renderChildren()}},{key:"render",value:function(){var a=this.props,o=a.className,c=a.inputRef;return jsx("div",{className:mergeClassNames("react-pdf__Document",o),ref:c,...this.eventProps,children:this.renderContent()})}}]),t}(react.exports.PureComponent);Document.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF\u2026",noData:"No PDF file specified.",onPassword:function s(n,t){switch(t){case PasswordResponses.NEED_PASSWORD:{var e=prompt("Enter the password to open this PDF file.");n(e);break}case PasswordResponses.INCORRECT_PASSWORD:{var a=prompt("Invalid password. Please try again.");n(a);break}}}};var isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=_objectSpread$2(_objectSpread$2({},eventProps),{},{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.string,file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,rotate:PropTypes.number});var isDestination=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.any)]);PropTypes.shape({dest:isDestination,items:PropTypes.arrayOf(PropTypes.shape({dest:isDestination,title:PropTypes.string})),title:PropTypes.string}).isRequired,PropTypes.func,isPdf.isRequired;function ownKeys$1(s,n){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),t.push.apply(t,e)}return t}function _objectSpread$1(s){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$1(Object(t),!0).forEach(function(e){_defineProperty(s,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(t,e))})}return s}_objectSpread$1({className:isClassName,inputRef:isRef,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,pdf:isPdf},eventProps);function mergeRefs(){for(var s=arguments.length,n=new Array(s),t=0;t<s;t++)n[t]=arguments[t];var e=n.filter(Boolean);return e.length<=1?e[0]:function(o){e.forEach(function(c){typeof c=="function"?c(o):c.current=o})}}var PageContext=react.exports.createContext(null);function _createSuper$5(s){var n=_isNativeReflectConstruct$5();return function(){var e=_getPrototypeOf(s),a;if(n){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,o)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$5(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ANNOTATION_MODE=pdf.exports.AnnotationMode,PageCanvasInternal=function(s){_inherits(t,s);var n=_createSuper$5(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),_defineProperty(_assertThisInitialized(e),"canvasElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(e),"onRenderSuccess",function(){e.renderer=null;var l=e.props,b=l.onRenderSuccess,C=l.page,N=l.scale;b&&b(makePageCallback(C,N))}),_defineProperty(_assertThisInitialized(e),"onRenderError",function(l){if(!isCancelException(l)){warning(l);var b=e.props.onRenderError;b&&b(l)}}),_defineProperty(_assertThisInitialized(e),"drawPageOnCanvas",function(){var l=e.canvasElement.current;if(!l)return null;var b=_assertThisInitialized(e),C=b.renderViewport,N=b.viewport,L=e.props,W=L.canvasBackground,w=L.page,R=L.renderForms;l.width=C.width,l.height=C.height,l.style.width="".concat(Math.floor(N.width),"px"),l.style.height="".concat(Math.floor(N.height),"px");var O={annotationMode:R?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,get canvasContext(){return l.getContext("2d")},viewport:C};return W&&(O.background=W),e.cancelRenderingTask(),e.renderer=w.render(O),e.renderer.promise.then(e.onRenderSuccess).catch(e.onRenderError)}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(a){var o=this.props,c=o.canvasBackground,l=o.page,b=o.renderForms;(c!==a.canvasBackground||b!==a.renderForms)&&(l.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var a=this.canvasElement.current;a&&(a.width=0,a.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"renderViewport",get:function(){var a=this.props,o=a.page,c=a.rotate,l=a.scale,b=getPixelRatio();return o.getViewport({scale:l*b,rotation:c})}},{key:"viewport",get:function(){var a=this.props,o=a.page,c=a.rotate,l=a.scale;return o.getViewport({scale:l,rotation:c})}},{key:"render",value:function(){var a=this.props.canvasRef;return jsx("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:mergeRefs(a,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),t}(react.exports.PureComponent);PageCanvasInternal.propTypes={canvasBackground:PropTypes.string,canvasRef:isRef,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,page:isPage.isRequired,renderForms:PropTypes.bool,rotate:isRotate,scale:PropTypes.number.isRequired};function PageCanvas(s){return jsx(PageContext.Consumer,{children:function(n){return jsx(PageCanvasInternal,{...n,...s})}})}function _createSuper$4(s){var n=_isNativeReflectConstruct$4();return function(){var e=_getPrototypeOf(s),a;if(n){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,o)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PageSVGInternal=function(s){_inherits(t,s);var n=_createSuper$4(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),_defineProperty(_assertThisInitialized(e),"state",{svg:null}),_defineProperty(_assertThisInitialized(e),"onRenderSuccess",function(){e.renderer=null;var l=e.props,b=l.onRenderSuccess,C=l.page,N=l.scale;b&&b(makePageCallback(C,N))}),_defineProperty(_assertThisInitialized(e),"onRenderError",function(l){if(!isCancelException(l)){warning(l);var b=e.props.onRenderError;b&&b(l)}}),_defineProperty(_assertThisInitialized(e),"renderSVG",function(){var l=e.props.page;return e.renderer=l.getOperatorList(),e.renderer.then(function(b){var C=new pdf.exports.SVGGraphics(l.commonObjs,l.objs);e.renderer=C.getSVG(b,e.viewport).then(function(N){e.setState({svg:N},e.onRenderSuccess)}).catch(e.onRenderError)}).catch(e.onRenderError)}),_defineProperty(_assertThisInitialized(e),"drawPageOnContainer",function(l){var b=e.state.svg;if(!(!l||!b)){l.firstElementChild||l.appendChild(b);var C=e.viewport,N=C.width,L=C.height;b.setAttribute("width",N),b.setAttribute("height",L)}}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var a=this.props,o=a.page,c=a.rotate,l=a.scale;return o.getViewport({scale:l,rotation:c})}},{key:"render",value:function(){var a=this,o=this.viewport,c=o.width,l=o.height;return jsx("div",{className:"react-pdf__Page__svg",ref:function(C){return a.drawPageOnContainer(C)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:c,height:l,userSelect:"none"}})}}]),t}(react.exports.PureComponent);PageSVGInternal.propTypes={onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,page:isPage.isRequired,rotate:isRotate,scale:PropTypes.number.isRequired};function PageSVG(s){return jsx(PageContext.Consumer,{children:function(n){return jsx(PageSVGInternal,{...n,...s})}})}function _createSuper$3(s){var n=_isNativeReflectConstruct$3();return function(){var e=_getPrototypeOf(s),a;if(n){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,o)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerItemInternal=function(s){_inherits(t,s);var n=_createSuper$3(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),_defineProperty(_assertThisInitialized(e),"itemElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(e),"getElementWidth",function(l){var b=_assertThisInitialized(e),C=b.sideways;return l.getBoundingClientRect()[C?"height":"width"]}),e}return _createClass(t,[{key:"componentDidMount",value:function(){this.alignTextItem()}},{key:"componentDidUpdate",value:function(){this.alignTextItem()}},{key:"unrotatedViewport",get:function(){var a=this.props,o=a.page,c=a.scale;return o.getViewport({scale:c})}},{key:"rotate",get:function(){var a=this.props,o=a.page,c=a.rotate;return c-o.rotate}},{key:"sideways",get:function(){var a=this.rotate;return a%180!==0}},{key:"defaultSideways",get:function(){var a=this.unrotatedViewport.rotation;return a%180!==0}},{key:"fontSize",get:function(){var a=this.props.transform,o=this.defaultSideways,c=_slicedToArray(a,2),l=c[0],b=c[1];return o?b:l}},{key:"top",get:function(){var a=this.props.transform,o=this.unrotatedViewport,c=this.defaultSideways,l=_slicedToArray(a,6),b=l[2],C=l[3],N=l[4],L=l[5],W=_slicedToArray(o.viewBox,4),w=W[1],R=W[3];return c?N+b+w:R-(L+C)}},{key:"left",get:function(){var a=this.props.transform,o=this.unrotatedViewport,c=this.defaultSideways,l=_slicedToArray(a,6),b=l[4],C=l[5],N=_slicedToArray(o.viewBox,1),L=N[0];return c?C-L:b-L}},{key:"getFontData",value:function(a){var o=this.props.page;return new Promise(function(c){o.commonObjs.get(a,c)})}},{key:"alignTextItem",value:function(){var a=this,o=this.itemElement.current;if(!!o){o.style.transform="";var c=this.props,l=c.fontName,b=c.scale,C=c.width;o.style.fontFamily="".concat(l,", sans-serif"),this.getFontData(l).then(function(N){var L=N?N.fallbackName:"sans-serif";o.style.fontFamily="".concat(l,", ").concat(L);var W=C*b,w=a.getElementWidth(o),R="scaleX(".concat(W/w,")"),O=N?N.ascent:0;O&&(R+=" translateY(".concat((1-O)*100,"%)")),o.style.transform=R,o.style.WebkitTransform=R})}}},{key:"render",value:function(){var a=this.fontSize,o=this.top,c=this.left,l=this.props,b=l.customTextRenderer,C=l.scale,N=l.str;return jsx("span",{ref:this.itemElement,style:{height:"1em",fontFamily:"sans-serif",fontSize:"".concat(a*C,"px"),position:"absolute",top:"".concat(o*C,"px"),left:"".concat(c*C,"px"),transformOrigin:"left bottom",whiteSpace:"pre",pointerEvents:"all"},children:b?b(this.props):N})}}]),t}(react.exports.PureComponent);TextLayerItemInternal.propTypes={customTextRenderer:PropTypes.func,fontName:PropTypes.string.isRequired,itemIndex:PropTypes.number.isRequired,page:isPage.isRequired,rotate:isRotate,scale:PropTypes.number,str:PropTypes.string.isRequired,transform:PropTypes.arrayOf(PropTypes.number).isRequired,width:PropTypes.number.isRequired};function TextLayerItem(s){return jsx(PageContext.Consumer,{children:function(n){return jsx(TextLayerItemInternal,{...n,...s})}})}function _createSuper$2(s){var n=_isNativeReflectConstruct$2();return function(){var e=_getPrototypeOf(s),a;if(n){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,o)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$2(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerInternal=function(s){_inherits(t,s);var n=_createSuper$2(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),_defineProperty(_assertThisInitialized(e),"state",{textItems:null}),_defineProperty(_assertThisInitialized(e),"loadTextItems",function(){var l=e.props.page,b=makeCancellablePromise(l.getTextContent());e.runningTask=b,b.promise.then(function(C){var N=C.items;e.setState({textItems:N},e.onLoadSuccess)}).catch(function(C){e.onLoadError(C)})}),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var l=e.props.onGetTextSuccess,b=e.state.textItems;l&&l(b)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(l){e.setState({textItems:!1}),warning(l);var b=e.props.onGetTextError;b&&b(l)}),e}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant(a,"Attempted to load page text content, but no page was specified."),this.loadTextItems()}},{key:"componentDidUpdate",value:function(a){var o=this.props.page;a.page&&o!==a.page&&this.loadTextItems()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"unrotatedViewport",get:function(){var a=this.props,o=a.page,c=a.scale;return o.getViewport({scale:c})}},{key:"rotate",get:function(){var a=this.props,o=a.page,c=a.rotate;return c-o.rotate}},{key:"renderTextItems",value:function(){var a=this.state.textItems;return a?a.map(function(o,c){return jsx(TextLayerItem,{itemIndex:c,...o},c)}):null}},{key:"render",value:function(){var a=this.unrotatedViewport,o=this.rotate;return jsx("div",{className:"react-pdf__Page__textContent",style:{position:"absolute",top:"50%",left:"50%",width:"".concat(a.width,"px"),height:"".concat(a.height,"px"),color:"transparent",transform:"translate(-50%, -50%) rotate(".concat(o,"deg)"),WebkitTransform:"translate(-50%, -50%) rotate(".concat(o,"deg)"),pointerEvents:"none"},children:this.renderTextItems()})}}]),t}(react.exports.PureComponent);TextLayerInternal.propTypes={onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,page:isPage.isRequired,rotate:isRotate,scale:PropTypes.number};function TextLayer(s){return jsx(PageContext.Consumer,{children:function(n){return jsx(TextLayerInternal,{...n,...s})}})}function _createSuper$1(s){var n=_isNativeReflectConstruct$1();return function(){var e=_getPrototypeOf(s),a;if(n){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,o)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var AnnotationLayerInternal=function(s){_inherits(t,s);var n=_createSuper$1(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),_defineProperty(_assertThisInitialized(e),"state",{annotations:null}),_defineProperty(_assertThisInitialized(e),"layerElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(e),"loadAnnotations",function(){var l=e.props.page,b=makeCancellablePromise(l.getAnnotations());e.runningTask=b,b.promise.then(function(C){e.setState({annotations:C},e.onLoadSuccess)}).catch(function(C){e.onLoadError(C)})}),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var l=e.props.onGetAnnotationsSuccess,b=e.state.annotations;l&&l(b)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(l){e.setState({annotations:!1}),warning(l);var b=e.props.onGetAnnotationsError;b&&b(l)}),_defineProperty(_assertThisInitialized(e),"onRenderSuccess",function(){var l=e.props.onRenderAnnotationLayerSuccess;l&&l()}),_defineProperty(_assertThisInitialized(e),"onRenderError",function(l){warning(l);var b=e.props.onRenderAnnotationLayerError;b&&b(l)}),e}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant(a,"Attempted to load page annotations, but no page was specified."),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(a){var o=this.props,c=o.page,l=o.renderForms;(a.page&&c!==a.page||l!==a.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var a=this.props,o=a.page,c=a.rotate,l=a.scale;return o.getViewport({scale:l,rotation:c})}},{key:"renderAnnotationLayer",value:function(){var a=this.state.annotations;if(!!a){var o=this.props,c=o.imageResourcesPath,l=o.linkService,b=o.page,C=o.renderForms,N=this.viewport.clone({dontFlip:!0}),L={annotations:a,div:this.layerElement.current,imageResourcesPath:c,linkService:l,page:b,renderForms:C,viewport:N};this.layerElement.current.innerHTML="";try{pdf.exports.AnnotationLayer.render(L),this.onRenderSuccess()}catch(W){this.onRenderError(W)}}}},{key:"render",value:function(){return jsx("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement,children:this.renderAnnotationLayer()})}}]),t}(react.exports.PureComponent);AnnotationLayerInternal.propTypes={imageResourcesPath:PropTypes.string,linkService:isLinkService.isRequired,onGetAnnotationsError:PropTypes.func,onGetAnnotationsSuccess:PropTypes.func,onRenderAnnotationLayerError:PropTypes.func,onRenderAnnotationLayerSuccess:PropTypes.func,page:isPage,renderForms:PropTypes.bool,rotate:isRotate,scale:PropTypes.number};var AnnotationLayer=function s(n){return jsx(DocumentContext.Consumer,{children:function(t){return jsx(PageContext.Consumer,{children:function(e){return jsx(AnnotationLayerInternal,{...t,...e,...n})}})}})};function ownKeys(s,n){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);n&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),t.push.apply(t,e)}return t}function _objectSpread(s){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(s,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(t,e))})}return s}function _createSuper(s){var n=_isNativeReflectConstruct();return function(){var e=_getPrototypeOf(s),a;if(n){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(e,arguments,o)}else a=e.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var defaultScale=1,PageInternal=function(s){_inherits(t,s);var n=_createSuper(t);function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),_defineProperty(_assertThisInitialized(e),"state",{page:null}),_defineProperty(_assertThisInitialized(e),"pageElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(e),"onLoadSuccess",function(){var l=e.props,b=l.onLoadSuccess,C=l.registerPage,N=e.state.page;b&&b(makePageCallback(N,e.scale)),C&&C(e.pageIndex,e.pageElement.current)}),_defineProperty(_assertThisInitialized(e),"onLoadError",function(l){e.setState({page:!1}),warning(l);var b=e.props.onLoadError;b&&b(l)}),_defineProperty(_assertThisInitialized(e),"loadPage",function(){var l=e.props.pdf,b=e.getPageNumber();if(!!b){e.setState(function(N){return N.page?{page:null}:null});var C=makeCancellablePromise(l.getPage(b));e.runningTask=C,C.promise.then(function(N){e.setState({page:N},e.onLoadSuccess)}).catch(function(N){e.onLoadError(N)})}}),e}return _createClass(t,[{key:"componentDidMount",value:function(){var a=this.props.pdf;invariant(a,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(a){var o=this.props.pdf;if(a.pdf&&o!==a.pdf||this.getPageNumber()!==this.getPageNumber(a)){var c=this.props.unregisterPage;c&&c(this.getPageIndex(a)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var a=this.props.unregisterPage;a&&a(this.pageIndex),cancelRunningTask(this.runningTask)}},{key:"childContext",get:function(){var a=this.state.page;if(!a)return{};var o=this.props,c=o.canvasBackground,l=o.customTextRenderer,b=o.onGetAnnotationsError,C=o.onGetAnnotationsSuccess,N=o.onGetTextError,L=o.onGetTextSuccess,W=o.onRenderAnnotationLayerError,w=o.onRenderAnnotationLayerSuccess,R=o.onRenderError,O=o.onRenderSuccess,P=o.renderForms,B=o.renderInteractiveForms;return{canvasBackground:c,customTextRenderer:l,onGetAnnotationsError:b,onGetAnnotationsSuccess:C,onGetTextError:N,onGetTextSuccess:L,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:w,onRenderError:R,onRenderSuccess:O,page:a,renderForms:P!=null?P:B,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber-1:isProvided(a.pageIndex)?a.pageIndex:null}},{key:"getPageNumber",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber:isProvided(a.pageIndex)?a.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var a=this.props.rotate;if(isProvided(a))return a;var o=this.state.page;return o?o.rotate:null}},{key:"scale",get:function(){var a=this.state.page;if(!a)return null;var o=this.props,c=o.scale,l=o.width,b=o.height,C=this.rotate,N=1,L=c===null?defaultScale:c;if(l||b){var W=a.getViewport({scale:1,rotation:C});N=l?l/W.width:b/W.height}return L*N}},{key:"eventProps",get:function(){var a=this;return makeEventProps$1(this.props,function(){var o=a.state.page;return o&&makePageCallback(o,a.scale)})}},{key:"pageKey",get:function(){var a=this.state.page;return"".concat(a.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){var a=this.state.page;return"".concat(a.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var a=this.props,o=a.canvasRef,c=a.renderMode;switch(c){case"none":return null;case"svg":return jsx(PageSVG,{},"".concat(this.pageKeyNoScale,"_svg"));case"canvas":default:return jsx(PageCanvas,{canvasRef:o},"".concat(this.pageKey,"_canvas"))}}},{key:"renderTextLayer",value:function(){var a=this.props.renderTextLayer;return a?jsx(TextLayer,{},"".concat(this.pageKey,"_text")):null}},{key:"renderAnnotationLayer",value:function(){var a=this.props.renderAnnotationLayer;return a?jsx(AnnotationLayer,{},"".concat(this.pageKey,"_annotations")):null}},{key:"renderChildren",value:function(){var a=this.props.children;return jsxs(PageContext.Provider,{value:this.childContext,children:[this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),a]})}},{key:"renderContent",value:function(){var a=this.pageNumber,o=this.props.pdf,c=this.state.page;if(!a){var l=this.props.noData;return jsx(Message,{type:"no-data",children:typeof l=="function"?l():l})}if(o===null||c===null){var b=this.props.loading;return jsx(Message,{type:"loading",children:typeof b=="function"?b():b})}if(o===!1||c===!1){var C=this.props.error;return jsx(Message,{type:"error",children:typeof C=="function"?C():C})}return this.renderChildren()}},{key:"render",value:function(){var a=this.pageNumber,o=this.props,c=o.className,l=o.inputRef;return jsx("div",{className:mergeClassNames("react-pdf__Page",c),"data-page-number":a,ref:mergeRefs(l,this.pageElement),style:{position:"relative"},...this.eventProps,children:this.renderContent()})}}]),t}(react.exports.PureComponent);PageInternal.defaultProps={error:"Failed to load the page.",loading:"Loading page\u2026",noData:"No page specified.",renderAnnotationLayer:!0,renderForms:!1,renderMode:"canvas",renderTextLayer:!0,scale:defaultScale};var isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);PageInternal.propTypes=_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:PropTypes.string,children:PropTypes.node,className:isClassName,customTextRenderer:PropTypes.func,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:PropTypes.func,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderInteractiveForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,unregisterPage:PropTypes.func,width:PropTypes.number});function Page(s,n){return jsx(DocumentContext.Consumer,{children:function(t){return jsx(PageInternal,{ref:n,...t,...s})}})}var Page$1=React.forwardRef(Page);displayWorkerWarning();pdf.exports.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdf.exports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdf.exports.version}/pdf.worker.js`;function ApplicantPDFViewer({fileData:s}){const[n,t]=react.exports.useState(0),[e,a]=react.exports.useState(1),[o,c]=react.exports.useState(0),l=react.exports.useRef(null),b=react.exports.useRef(null),C=react.exports.useRef(null),N=react.exports.useRef(null);function L({numPages:W}){t(W)}return react.exports.useEffect(()=>{const W=new IntersectionObserver(([R])=>{var O,P,B,k;R.intersectionRatio==0?((O=C.current)==null||O.classList.add("stuck"),(P=N.current)==null||P.classList.add("stuck")):R.intersectionRatio==1&&((B=C.current)==null||B.classList.remove("stuck"),(k=N.current)==null||k.classList.remove("stuck"))},{threshold:[1]}),w=new IntersectionObserver(([R])=>{var O,P;R.intersectionRatio==0?(O=C.current)==null||O.classList.remove("shown"):R.intersectionRatio==1&&((P=C.current)==null||P.classList.add("shown"))},{threshold:[1]});return W.observe(l.current),w.observe(b.current),()=>{W.disconnect(),w.disconnect()}},[]),jsxs(PDFViewerWrapper,{onContextMenu:W=>W.preventDefault(),children:[jsx(FilePageNavWrapper,{children:s.map((W,w)=>jsx(FilePageContainer,{children:jsx(FilePageButton,{onClick:()=>{c(w),a(1)},children:w+1})},W.id))}),jsx(StickyDivIntersectingTop,{ref:l}),jsx(DocStickyDiv,{ref:N,id:"stickyDoc",children:jsxs("div",{children:[jsx(Document,{file:{url:s[o].file.slice(0,18)+":8080"+s[o].file.slice(18),httpHeaders:{Authorization:axios.defaults.headers.common.Authorization},withCredentials:!0},onLoadSuccess:L,children:jsx(Page$1,{pageNumber:e})}),jsxs(PaginationMenu,{ref:C,children:[jsx(Button,{style:{backgroundColor:"#21b6ae"},variant:"contained",onClick:()=>e>1?a(e-1):null,children:"\uC774\uC804 \uD398\uC774\uC9C0 \uBCF4\uAE30"}),jsxs(Typography,{children:["Page ",e," of ",n]}),jsx(Button,{style:{backgroundColor:"#21b6ae"},variant:"contained",onClick:()=>e<n?a(e+1):null,children:"\uB2E4\uC74C \uD398\uC774\uC9C0 \uBCF4\uAE30"})]}),jsx(StickyDivIntersectingBottom,{ref:b})]})})]})}export{ApplicantPDFViewer as default};
